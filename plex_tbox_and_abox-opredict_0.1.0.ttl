@prefix : <http://purl.org/plex#> .
@prefix dc: <http://purl.org/dc/terms/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix dul: <http://www.ontologydesignpatterns.org/ont/dul/DUL.owl#> .
@prefix mls: <http://www.w3.org/ns/mls#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix pwo: <http://purl.org/spar/pwo#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix bpmn: <http://dkm.fbk.eu/index.php/BPMN2_Ontology#> .
@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix edam: <http://edamontology.org/> .
@prefix opmw: <http://www.opmw.org/ontology/> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix fabio: <http://purl.org/spar/fabio/> .
@prefix p-plan: <http://purl.org/net/p-plan#> .
@prefix reprod: <https://w3id.org/reproduceme#> .
@prefix schema: <http://schema.org/> .
@prefix opredict: <http://purl.org/plex/Instances/OpenPREDICT#> .
@base <http://purl.org/plex> .

<http://purl.org/plex> rdf:type owl:Ontology ;
                       
                       owl:versionInfo "0.1.0" .


#################################################################
#
#    Annotation properties
#
#################################################################


###  http://purl.org/dc/terms/creator

dc:creator rdfs:seeAlso "http://purl.org/dc/elements/1.1/creator" .



###  http://purl.org/dc/terms/description

dc:description rdfs:isDefinedBy "http://purl.org/dc/terms/description" .



###  http://purl.org/dc/terms/hasVersion

dc:hasVersion rdfs:isDefinedBy "http://purl.org/dc/terms/hasVersion" .



###  http://purl.org/net/p-plan#correspondsToStep

p-plan:correspondsToStep rdf:type owl:AnnotationProperty ;
                         
                         rdfs:seeAlso "http://purl.org/net/p-plan#correspondsToStep" ;
                         
                         rdfs:domain p-plan:Activity ;
                         
                         rdfs:range p-plan:Step .



###  http://purl.org/net/p-plan#hasInputVar

p-plan:hasInputVar rdf:type owl:AnnotationProperty ;
                   
                   rdfs:isDefinedBy "http://purl.org/net/p-plan#hasInputVar" .



###  http://purl.org/net/p-plan#hasOutputVar

p-plan:hasOutputVar rdf:type owl:AnnotationProperty ;
                    
                    rdfs:isDefinedBy "http://purl.org/net/p-plan#hasOutputVar" .



###  http://purl.org/net/p-plan#isStepOfPlan

p-plan:isStepOfPlan rdf:type owl:AnnotationProperty ;
                    
                    rdfs:isDefinedBy p-plan:isStepOfPlan .



###  http://purl.org/spar/pwo#hasFirstStep

pwo:hasFirstStep rdfs:isDefinedBy "http://purl.org/spar/pwo/hasFirstStep" .



###  http://schema.org#URL

<http://schema.org#URL> rdf:type owl:AnnotationProperty .



###  http://www.ontologydesignpatterns.org/ont/dul/DUL.owl#isDescribedBy

dul:isDescribedBy rdfs:isDefinedBy "http://www.ontologydesignpatterns.org/ont/dul/DUL.owl#isDescribedBy" .



###  http://www.ontologydesignpatterns.org/ont/dul/DUL.owl#precedes

dul:precedes rdfs:isDefinedBy "http://www.ontologydesignpatterns.org/ont/dul/DUL.owl#precedes" .



###  http://www.w3.org/ns/dcat#distribution

dcat:distribution rdfs:isDefinedBy "http://www.w3.org/ns/dcat#distribution" .



###  http://www.w3.org/ns/dcat#downloadURL

dcat:downloadURL rdfs:isDefinedBy "http://www.w3.org/ns/dcat#downloadURL" .



###  http://www.w3.org/ns/dcat#mediaType

dcat:mediaType rdf:type owl:AnnotationProperty ;
               
               rdfs:seeAlso "https://www.w3.org/ns/dcat#mediaType" .



###  http://www.w3.org/ns/mls#specifiedBy

mls:specifiedBy rdf:type owl:AnnotationProperty ;
                
                rdfs:seeAlso "http://www.w3.org/ns/mls#specifiedBy" .



###  http://www.w3.org/ns/prov#entity

prov:entity rdfs:isDefinedBy "http://www.w3.org/ns/prov#entity" .



###  http://www.w3.org/ns/prov#generated

prov:generated rdf:type owl:AnnotationProperty ;
               
               rdfs:seeAlso "http://www.w3.org/ns/prov#generated" .



###  http://www.w3.org/ns/prov#hadPlan

prov:hadPlan rdf:type owl:AnnotationProperty ;
             
             rdfs:seeAlso "https://www.w3.org/TR/prov-o/#hadPlan" .



###  http://www.w3.org/ns/prov#hadRole

prov:hadRole rdf:type owl:AnnotationProperty ;
             
             rdfs:seeAlso "https://www.w3.org/TR/prov-o/#hadRole" .



###  http://www.w3.org/ns/prov#qualifiedGeneration

prov:qualifiedGeneration rdf:type owl:AnnotationProperty ;
                         
                         rdfs:comment "Generation is the completion of production of a new entity by an activity. This entity did not exist before generation and becomes available for usage after this generation." ;
                         
                         rdfs:seeAlso "http://www.w3.org/ns/prov#qualifiedGeneration" .



###  http://www.w3.org/ns/prov#used

prov:used rdfs:isDefinedBy "http://www.w3.org/ns/prov#used" .



###  http://www.w3.org/ns/prov#wasAttributedTo

prov:wasAttributedTo rdf:type owl:AnnotationProperty .



###  http://www.w3.org/ns/prov#wasRevisionOf

prov:wasRevisionOf rdf:type owl:AnnotationProperty ;
                   
                   rdfs:seeAlso "http://www.w3.org/ns/prov#wasRevisionOf" .



###  http://www.w3.org/ns/shacl#select

sh:select rdf:type owl:AnnotationProperty ;
          
          rdfs:domain sh:SPARQLConstraint .



###  http://www.w3.org/ns/shacl#sparql

sh:sparql rdf:type owl:AnnotationProperty .





#################################################################
#
#    Object Properties
#
#################################################################


###  http://purl.org/dc/terms/language

dc:language rdf:type owl:ObjectProperty ;
            
            rdfs:range dc:LinguisticSystem ;
            
            rdfs:isDefinedBy dc:language .



###  http://purl.org/net/p-plan#hasInputVar

p-plan:hasInputVar rdf:type owl:ObjectProperty ;
                   
                   rdfs:isDefinedBy "http://purl.org/net/p-plan#hasInputVar" ;
                   
                   rdfs:domain p-plan:Step ;
                   
                   rdfs:range p-plan:Variable .



###  http://purl.org/net/p-plan#hasOutputVar

p-plan:hasOutputVar rdf:type owl:ObjectProperty ;
                    
                    rdfs:isDefinedBy "http://purl.org/net/p-plan#hasOutputVar" ;
                    
                    rdfs:domain p-plan:Step ;
                    
                    rdfs:range p-plan:Variable .



###  http://purl.org/net/p-plan#isStepOfPlan

p-plan:isStepOfPlan rdf:type owl:ObjectProperty ;
                    
                    rdfs:range p-plan:Plan ;
                    
                    rdfs:domain p-plan:Step ;
                    
                    rdfs:isDefinedBy p-plan:isStepOfPlan .



###  http://purl.org/spar/pwo#hasFirstStep

pwo:hasFirstStep rdfs:isDefinedBy "http://purl.org/spar/pwo/hasFirstStep" .



###  http://www.w3.org/ns/dcat#mediaType

dcat:mediaType rdf:type owl:ObjectProperty ;
               
               rdfs:seeAlso "https://www.w3.org/ns/dcat#mediaType" ;
               
               rdfs:range edam:format_1915 ;
               
               rdfs:domain dcat:Distribution .



###  http://www.w3.org/ns/mls#specifiedBy

mls:specifiedBy rdf:type owl:ObjectProperty ;
                
                rdfs:seeAlso "http://www.w3.org/ns/mls#specifiedBy" ;
                
                rdfs:range mls:EvaluationMeasure ;
                
                rdfs:domain mls:ModelEvaluation .



###  http://www.w3.org/ns/prov#agent

prov:agent rdf:type owl:ObjectProperty ;
           
           rdfs:seeAlso "https://www.w3.org/TR/prov-o/#p_agent" ;
           
           rdfs:range prov:Agent .



###  http://www.w3.org/ns/prov#generated

prov:generated rdf:type owl:ObjectProperty ;
               
               rdfs:seeAlso "http://www.w3.org/ns/prov#generated" ;
               
               rdfs:domain prov:Activity ;
               
               rdfs:range prov:Entity .



###  http://www.w3.org/ns/prov#hadPlan

prov:hadPlan rdf:type owl:ObjectProperty ;
             
             rdfs:seeAlso "https://www.w3.org/TR/prov-o/#hadPlan" ;
             
             rdfs:domain prov:Association ;
             
             rdfs:range prov:Plan .



###  http://www.w3.org/ns/prov#hadRole

prov:hadRole rdf:type owl:ObjectProperty ;
             
             rdfs:seeAlso "https://www.w3.org/TR/prov-o/#hadRole" ;
             
             rdfs:domain prov:Association ;
             
             rdfs:range prov:Role .



###  http://www.w3.org/ns/prov#qualifiedGeneration

prov:qualifiedGeneration rdf:type owl:ObjectProperty ;
                         
                         rdfs:comment "Generation is the completion of production of a new entity by an activity. This entity did not exist before generation and becomes available for usage after this generation." ;
                         
                         rdfs:seeAlso "http://www.w3.org/ns/prov#qualifiedGeneration" ;
                         
                         rdfs:domain prov:Entity ;
                         
                         rdfs:range prov:Generation .



###  http://www.w3.org/ns/prov#qualifiedUsage

prov:qualifiedUsage rdf:type owl:ObjectProperty ;
                    
                    rdfs:isDefinedBy "http://www.w3.org/ns/prov#qualifiedUsage" ;
                    
                    rdfs:range prov:Usage .



###  http://www.w3.org/ns/prov#wasAttributedTo

prov:wasAttributedTo rdf:type owl:ObjectProperty ;
                     
                     rdfs:range prov:Agent ;
                     
                     rdfs:domain prov:Entity .



###  http://www.w3.org/ns/prov#wasRevisionOf

prov:wasRevisionOf rdf:type owl:ObjectProperty ;
                   
                   rdfs:seeAlso "http://www.w3.org/ns/prov#wasRevisionOf" ;
                   
                   rdfs:domain prov:Entity ;
                   
                   rdfs:range prov:Entity .



###  http://www.w3.org/ns/shacl#sparql

sh:sparql rdf:type owl:ObjectProperty ;
          
          rdfs:domain sh:NodeShape ;
          
          rdfs:range sh:SPARQLConstraint .



###  http://www.w3.org/ns/shacl#targetClass

sh:targetClass rdf:type owl:ObjectProperty ;
               
               rdfs:range owl:Thing ;
               
               rdfs:domain sh:NodeShape .





#################################################################
#
#    Data properties
#
#################################################################


###  http://purl.org/dc/terms/created

dc:created rdf:type owl:DatatypeProperty ;
           
           rdfs:seeAlso "http://purl.org/dc/terms/created" ;
           
           rdfs:range rdfs:Literal .



###  http://purl.org/dc/terms/modified

dc:modified rdf:type owl:DatatypeProperty ;
            
            rdfs:seeAlso "http://purl.org/dc/terms/modified" ;
            
            rdfs:range rdfs:Literal .



###  http://schema.org#URL

<http://schema.org#URL> rdf:type owl:DatatypeProperty ;
                        
                        rdfs:range xsd:string .



###  http://www.w3.org/ns/prov#atTime

prov:atTime rdf:type owl:DatatypeProperty ;
            
            rdfs:seeAlso "http://www.w3.org/ns/prov#atTime" ;
            
            rdfs:comment "The PROV data model is implicitly based on a notion of instantaneous events (or just events), that mark transitions in the world. Events include generation, usage, or invalidation of entities, as well as starting or ending of activities. This notion of event is not first-class in the data model, but it is useful for explaining its other concepts and its semantics." ;
            
            rdfs:range xsd:dateTime .





#################################################################
#
#    Classes
#
#################################################################


###  http://dkm.fbk.eu/index.php/BPMN2_Ontology#ManualTask

bpmn:ManualTask rdf:type owl:Class ;
                
                rdfs:subClassOf p-plan:Step ;
                
                rdfs:isDefinedBy "http://dkm.fbk.eu/index.php/BPMN2_Ontology#manualTask" .



###  http://dkm.fbk.eu/index.php/BPMN2_Ontology#ScriptTask

bpmn:ScriptTask rdf:type owl:Class ;
                
                rdfs:subClassOf p-plan:Step ;
                
                rdfs:isDefinedBy "http://dkm.fbk.eu/index.php/BPMN2_Ontology#scriptTask" .



###  http://edamontology.org/format_1915

edam:format_1915 rdf:type owl:Class ;
                 
                 rdfs:label "Data format" ;
                 
                 rdfs:subClassOf owl:Thing ;
                 
                 rdfs:isDefinedBy "http://edamontology.org/format_1915" .



###  http://edamontology.org/format_2330

edam:format_2330 rdf:type owl:Class ;
                 
                 rdfs:label "Plain text format" ;
                 
                 rdfs:subClassOf edam:format_1915 ;
                 
                 rdfs:isDefinedBy "http://edamontology.org/format_2330" .



###  http://edamontology.org/format_2376

edam:format_2376 rdf:type owl:Class ;
                 
                 rdfs:label "Resource Description Framework (RDF)" ;
                 
                 rdfs:subClassOf edam:format_1915 ;
                 
                 rdfs:isDefinedBy "http://edamontology.org/format_2376" .



###  http://edamontology.org/format_3256

edam:format_3256 rdf:type owl:Class ;
                 
                 rdfs:label "N-Triples" ;
                 
                 rdfs:subClassOf edam:format_2376 ;
                 
                 rdfs:isDefinedBy "http://edamontology.org/format_3256" .



###  http://edamontology.org/operation_0224

edam:operation_0224 rdf:type owl:Class ;
                    
                    rdfs:label "Query and retrieval (EDAM)" ;
                    
                    rdfs:subClassOf p-plan:Step ;
                    
                    rdfs:isDefinedBy "http://edamontology.org/operation_0224" .



###  http://edamontology.org/operation_2409

edam:operation_2409 rdf:type owl:Class ;
                    
                    rdfs:label "Data handling (EDAM)" ;
                    
                    rdfs:subClassOf p-plan:Step ;
                    
                    rdfs:seeAlso "http://edamontology.org/operation_2409" .



###  http://purl.org/dc/terms/LinguisticSystem

dc:LinguisticSystem rdf:type owl:Class ;
                    
                    rdfs:subClassOf owl:Thing ;
                    
                    rdfs:isDefinedBy "http://purl.org/dc/terms/LinguisticSystem" .



###  http://purl.org/net/p-plan#Activity

p-plan:Activity rdf:type owl:Class ;
                
                rdfs:subClassOf prov:Activity ;
                
                rdfs:isDefinedBy "http://purl.org/net/p-plan#Activity" ;
                
                rdfs:comment "A p-plan:Activity represents the execution of the process planned in a p-plan:Step. p-plan:Activity is a subclass of prov:Activity" .



###  http://purl.org/net/p-plan#Plan

p-plan:Plan rdf:type owl:Class ;
            
            rdfs:subClassOf prov:Plan ,
                            [ rdf:type owl:Restriction ;
                              owl:onProperty pwo:hasFirstStep ;
                              owl:allValuesFrom p-plan:Step
                            ] ;
            
            rdfs:isDefinedBy "http://purl.org/net/p-plan#Plan" .



###  http://purl.org/net/p-plan#Step

p-plan:Step rdf:type owl:Class ;
            
            rdfs:subClassOf owl:Thing ;
            
            rdfs:isDefinedBy "http://purl.org/net/p-plan#Step" .



###  http://purl.org/net/p-plan#Variable

p-plan:Variable rdf:type owl:Class ;
                
                rdfs:subClassOf owl:Thing ;
                
                rdfs:isDefinedBy "http://purl.org/net/p-plan#Variable" .



###  http://purl.org/spar/fabio/Triplestore

fabio:Triplestore rdf:type owl:Class ;
                  
                  rdfs:subClassOf owl:Thing ;
                  
                  rdfs:isDefinedBy "http://purl.org/spar/fabio/Triplestore" .



###  http://schema.org/ComputerLanguage

schema:ComputerLanguage rdf:type owl:Class ;
                        
                        rdfs:subClassOf dc:LinguisticSystem ;
                        
                        rdfs:isDefinedBy "http://schema.org/ComputerLanguage" .



###  http://www.ontologydesignpatterns.org/ont/dul/DUL.owl#Workflow

dul:Workflow rdf:type owl:Class ;
             
             rdfs:subClassOf owl:Thing ;
             
             rdfs:isDefinedBy "http://www.ontologydesignpatterns.org/ont/dul/DUL.owl#Workflow" ;
             
             rdfs:comment "A Plan that defines Role(s), Task(s), and a specific structure for tasks to be executed, usually supporting the work of an Organization" .



###  http://www.opmw.org/ontology/WorkflowExecutionArtifact

opmw:WorkflowExecutionArtifact rdf:type owl:Class ;
                               
                               rdfs:subClassOf prov:Entity ;
                               
                               rdfs:isDefinedBy "http://www.opmw.org/ontology/WorkflowExecutionArtifact" .



###  http://www.w3.org/2000/01/rdf-schema#Resource

rdfs:Resource rdf:type owl:Class .



###  http://www.w3.org/ns/dcat#Dataset

dcat:Dataset rdf:type owl:Class ;
             
             rdfs:subClassOf owl:Thing ;
             
             rdfs:isDefinedBy "http://www.w3.org/ns/dcat#Dataset" .



###  http://www.w3.org/ns/dcat#Distribution

dcat:Distribution rdf:type owl:Class ;
                  
                  rdfs:subClassOf owl:Thing ;
                  
                  rdfs:isDefinedBy "http://www.w3.org/ns/dcat#Distribution" .



###  http://www.w3.org/ns/mls#EvaluationMeasure

mls:EvaluationMeasure rdf:type owl:Class ;
                      
                      rdfs:subClassOf owl:Thing ;
                      
                      rdfs:isDefinedBy "http://www.w3.org/ns/mls#EvaluationMeasure" .



###  http://www.w3.org/ns/mls#ModelEvaluation

mls:ModelEvaluation rdf:type owl:Class ;
                    
                    rdfs:subClassOf opmw:WorkflowExecutionArtifact ;
                    
                    rdfs:isDefinedBy "http://www.w3.org/ns/mls#ModelEvaluation" .



###  http://www.w3.org/ns/mls#Run

mls:Run rdf:type owl:Class ;
        
        rdfs:subClassOf p-plan:Activity ;
        
        rdfs:isDefinedBy "http://www.w3.org/ns/mls#Run" .



###  http://www.w3.org/ns/prov#Activity

prov:Activity rdf:type owl:Class ;
              
              rdfs:subClassOf owl:Thing ;
              
              rdfs:isDefinedBy "https://www.w3.org/ns/prov#Activity" .



###  http://www.w3.org/ns/prov#Agent

prov:Agent rdf:type owl:Class ;
           
           rdfs:subClassOf owl:Thing ;
           
           rdfs:isDefinedBy "https://www.w3.org/TR/prov-o/#Agent" .



###  http://www.w3.org/ns/prov#Association

prov:Association rdf:type owl:Class ;
                 
                 rdfs:subClassOf owl:Thing ;
                 
                 rdfs:isDefinedBy "https://www.w3.org/TR/prov-o/#Association" .



###  http://www.w3.org/ns/prov#Bundle

prov:Bundle rdf:type owl:Class ;
            
            rdfs:subClassOf prov:Entity ;
            
            rdfs:isDefinedBy "http://www.w3.org/ns/prov#Bundle" .



###  http://www.w3.org/ns/prov#Entity

prov:Entity rdf:type owl:Class ;
            
            rdfs:subClassOf owl:Thing ;
            
            rdfs:isDefinedBy "https://www.w3.org/TR/prov-o/#Entity" .



###  http://www.w3.org/ns/prov#EntityInfluence

prov:EntityInfluence rdf:type owl:Class ;
                     
                     rdfs:isDefinedBy "http://www.w3.org/ns/prov#EntityInfluence" .



###  http://www.w3.org/ns/prov#Generation

prov:Generation rdf:type owl:Class ;
                
                rdfs:subClassOf owl:Thing ;
                
                rdfs:isDefinedBy "http://www.w3.org/ns/prov#Generation" ;
                
                rdfs:comment "Generation is the completion of production of a new entity by an activity. This entity did not exist before generation and becomes available for usage after this generation." .



###  http://www.w3.org/ns/prov#InstantaneousEvent

prov:InstantaneousEvent rdf:type owl:Class ;
                        
                        rdfs:isDefinedBy "http://www.w3.org/ns/prov#InstantaneousEvent" .



###  http://www.w3.org/ns/prov#Plan

prov:Plan rdf:type owl:Class ;
          
          rdfs:subClassOf prov:Entity ;
          
          rdfs:isDefinedBy "https://www.w3.org/TR/prov-o/#Plan" .



###  http://www.w3.org/ns/prov#Role

prov:Role rdf:type owl:Class ;
          
          rdfs:subClassOf owl:Thing ;
          
          rdfs:isDefinedBy "https://www.w3.org/TR/prov-o/#Role" .



###  http://www.w3.org/ns/prov#SoftwareAgent

prov:SoftwareAgent rdf:type owl:Class ;
                   
                   rdfs:subClassOf prov:Agent ;
                   
                   rdfs:isDefinedBy "http://www.w3.org/ns/prov#SoftwareAgent" .



###  http://www.w3.org/ns/prov#Usage

prov:Usage rdf:type owl:Class ;
           
           rdfs:subClassOf owl:Thing ,
                           prov:EntityInfluence ,
                           prov:InstantaneousEvent ;
           
           rdfs:isDefinedBy "http://www.w3.org/ns/prov#Usage" .



###  http://www.w3.org/ns/shacl#NodeShape

sh:NodeShape rdf:type owl:Class ;
             
             rdfs:subClassOf owl:Thing ;
             
             rdfs:isDefinedBy "http://www.w3.org/ns/shacl#NodeShape" .



###  http://www.w3.org/ns/shacl#SPARQLConstraint

sh:SPARQLConstraint rdf:type owl:Class ;
                    
                    rdfs:subClassOf owl:Thing ;
                    
                    rdfs:isDefinedBy "http://www.w3.org/ns/shacl#SPARQLConstraint" .



###  https://w3id.org/reproduceme#Cell

reprod:Cell rdf:type owl:Class ;
            
            rdfs:subClassOf owl:Thing ;
            
            dc:description "A cell is a multiline text input field in an Interactive Notebook which can either be code cells where code can be excuted or markdown cells where a descriptive text can be provided or raw cells where output can directly be entered. For example, a Jupyter Notebook cell." ;
            
            rdfs:isDefinedBy "https://w3id.org/reproduceme#Cell" .





#################################################################
#
#    Individuals
#
#################################################################


###  http://purl.org/plex#ComputerLanguage_Python_3.7

:ComputerLanguage_Python_3.7 rdf:type schema:ComputerLanguage ,
                                      owl:NamedIndividual ;
                             
                             rdfs:label "Python 3.7" ;
                             
                             owl:versionInfo "3.7" .



###  http://purl.org/plex#LinguisticSystem_xsd_language_English

:LinguisticSystem_xsd_language_English rdf:type dc:LinguisticSystem ,
                                                owl:NamedIndividual ;
                                       
                                       rdfs:label "en" ;
                                       
                                       rdfs:seeAlso "http://www.datypic.com/sc/xsd/t-xsd_language.html" .



###  http://purl.org/plex#opredict_Link_variable_to_triplestore_for_input_data

:opredict_Link_variable_to_triplestore_for_input_data rdf:type owl:NamedIndividual ,
                                                               prov:Usage ;
                                                      
                                                      prov:entity opredict:Triplestore_endpoint_input_data ,
                                                                  opredict:Variable_Triplestore_endpoint_for_input_data .



###  http://purl.org/plex#opredict_Variable_Context_Output_Cell0

:opredict_Variable_Context_Output_Cell0 rdf:type p-plan:Variable ,
                                                 owl:NamedIndividual .



###  http://purl.org/plex/Instances/OpenPREDICT#Activity_Feature_generation_01_Pipeline_Source_Cell01_Execution_1546300862

opredict:Activity_Feature_generation_01_Pipeline_Source_Cell01_Execution_1546300862 rdf:type p-plan:Activity ,
                                                                                             owl:NamedIndividual ;
                                                                                    
                                                                                    p-plan:correspondsToStep opredict:Step_Feature_generation_01_Pipeline_Source_Cell01 ;
                                                                                    
                                                                                    prov:generated opredict:WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell01_Execution_1546300862 .



###  http://purl.org/plex/Instances/OpenPREDICT#Activity_Feature_generation_01_Pipeline_Source_Cell02_Execution_1546300862

opredict:Activity_Feature_generation_01_Pipeline_Source_Cell02_Execution_1546300862 rdf:type p-plan:Activity ,
                                                                                             owl:NamedIndividual ;
                                                                                    
                                                                                    p-plan:correspondsToStep opredict:Step_Feature_generation_01_Pipeline_Source_Cell02 ;
                                                                                    
                                                                                    prov:generated opredict:WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell02_Execution_1546300862 .



###  http://purl.org/plex/Instances/OpenPREDICT#Activity_Feature_generation_01_Pipeline_Source_Cell03_Execution_1546300862

opredict:Activity_Feature_generation_01_Pipeline_Source_Cell03_Execution_1546300862 rdf:type p-plan:Activity ,
                                                                                             owl:NamedIndividual ;
                                                                                    
                                                                                    p-plan:correspondsToStep opredict:Step_Feature_generation_01_Pipeline_Source_Cell03 ;
                                                                                    
                                                                                    prov:generated opredict:WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell03_Execution_1546300862 .



###  http://purl.org/plex/Instances/OpenPREDICT#Activity_Feature_generation_01_Pipeline_Source_Cell04_Execution_1546300862

opredict:Activity_Feature_generation_01_Pipeline_Source_Cell04_Execution_1546300862 rdf:type p-plan:Activity ,
                                                                                             owl:NamedIndividual ;
                                                                                    
                                                                                    p-plan:correspondsToStep opredict:Step_Feature_generation_01_Pipeline_Source_Cell04 ;
                                                                                    
                                                                                    prov:generated opredict:WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell04_Execution_1546300862 .



###  http://purl.org/plex/Instances/OpenPREDICT#Activity_Feature_generation_01_Pipeline_Source_Cell05_Execution_1546300862

opredict:Activity_Feature_generation_01_Pipeline_Source_Cell05_Execution_1546300862 rdf:type p-plan:Activity ,
                                                                                             owl:NamedIndividual ;
                                                                                    
                                                                                    p-plan:correspondsToStep opredict:Step_Feature_generation_01_Pipeline_Source_Cell05 ;
                                                                                    
                                                                                    prov:generated opredict:WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell05_Execution_1546300862 .



###  http://purl.org/plex/Instances/OpenPREDICT#Activity_Feature_generation_01_Pipeline_Source_Cell08_Execution_1546300862

opredict:Activity_Feature_generation_01_Pipeline_Source_Cell08_Execution_1546300862 rdf:type p-plan:Activity ,
                                                                                             owl:NamedIndividual ;
                                                                                    
                                                                                    p-plan:correspondsToStep opredict:Step_Feature_generation_01_Pipeline_Source_Cell08 ;
                                                                                    
                                                                                    prov:generated opredict:WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell08_Execution_1546300862 .



###  http://purl.org/plex/Instances/OpenPREDICT#Activity_Feature_generation_01_Pipeline_Source_Cell10_Execution_1546300862

opredict:Activity_Feature_generation_01_Pipeline_Source_Cell10_Execution_1546300862 rdf:type p-plan:Activity ,
                                                                                             owl:NamedIndividual ;
                                                                                    
                                                                                    p-plan:correspondsToStep opredict:Step_Feature_generation_01_Pipeline_Source_Cell10 ;
                                                                                    
                                                                                    prov:generated opredict:WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell10_Execution_1546300862 .



###  http://purl.org/plex/Instances/OpenPREDICT#Activity_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_FeatureGeneration_Execution_1546335555

opredict:Activity_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_FeatureGeneration_Execution_1546335555 rdf:type p-plan:Activity ,
                                                                                                                    owl:NamedIndividual ;
                                                                                                           
                                                                                                           p-plan:correspondsToStep opredict:Step_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_FeatureGeneration ;
                                                                                                           
                                                                                                           prov:generated opredict:WorkflowExecutionArtifact_Output_Step_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_FeatureGeneration_Execution_1546335555 .



###  http://purl.org/plex/Instances/OpenPREDICT#Activity_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell01_Execution_1546302862

opredict:Activity_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell01_Execution_1546302862 rdf:type p-plan:Activity ,
                                                                                                                              owl:NamedIndividual ;
                                                                                                                     
                                                                                                                     p-plan:correspondsToStep opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell01 ;
                                                                                                                     
                                                                                                                     prov:generated opredict:WorkflowExecutionArtifact_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell01_Execution_1546302862 .



###  http://purl.org/plex/Instances/OpenPREDICT#Activity_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell05_Execution_1546302862

opredict:Activity_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell05_Execution_1546302862 rdf:type p-plan:Activity ,
                                                                                                                              owl:NamedIndividual ;
                                                                                                                     
                                                                                                                     p-plan:correspondsToStep opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell05 ;
                                                                                                                     
                                                                                                                     prov:generated opredict:WorkflowExecutionArtifact_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell05_Execution_1546302862 .



###  http://purl.org/plex/Instances/OpenPREDICT#Activity_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell08_Execution_1546302862

opredict:Activity_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell08_Execution_1546302862 rdf:type p-plan:Activity ,
                                                                                                                              owl:NamedIndividual ;
                                                                                                                     
                                                                                                                     p-plan:correspondsToStep opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell08 ;
                                                                                                                     
                                                                                                                     prov:generated opredict:WorkflowExecutionArtifact_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell08_Execution_1546302862 .



###  http://purl.org/plex/Instances/OpenPREDICT#Activity_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell09_Execution_1546302862

opredict:Activity_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell09_Execution_1546302862 rdf:type p-plan:Activity ,
                                                                                                                              owl:NamedIndividual ;
                                                                                                                     
                                                                                                                     p-plan:correspondsToStep opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell09 ;
                                                                                                                     
                                                                                                                     prov:generated opredict:WorkflowExecutionArtifact_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell09_Execution_1546302862 .



###  http://purl.org/plex/Instances/OpenPREDICT#Activity_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862

opredict:Activity_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 rdf:type p-plan:Activity ,
                                                                                                                       owl:NamedIndividual ;
                                                                                                              
                                                                                                              prov:generated opredict:ModelEvaluation_Accuracy_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 ,
                                                                                                                             opredict:ModelEvaluation_AveragePrecision_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 ,
                                                                                                                             opredict:ModelEvaluation_F1_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 ,
                                                                                                                             opredict:ModelEvaluation_Precision_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 ,
                                                                                                                             opredict:ModelEvaluation_Recall_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 ,
                                                                                                                             opredict:ModelEvaluation_RocAuc_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 ;
                                                                                                              
                                                                                                              p-plan:correspondsToStep opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb .



###  http://purl.org/plex/Instances/OpenPREDICT#Activity_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555

opredict:Activity_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 rdf:type p-plan:Activity ,
                                                                                                                           owl:NamedIndividual ;
                                                                                                                  
                                                                                                                  prov:generated opredict:ModelEvaluation_Accuracy_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 ,
                                                                                                                                 opredict:ModelEvaluation_AveragePrecision_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 ,
                                                                                                                                 opredict:ModelEvaluation_F1_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 ,
                                                                                                                                 opredict:ModelEvaluation_Precision_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 ,
                                                                                                                                 opredict:ModelEvaluation_Recall_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 ,
                                                                                                                                 opredict:ModelEvaluation_RocAuc_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 ;
                                                                                                                  
                                                                                                                  p-plan:correspondsToStep opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02 ;
                                                                                                                  
                                                                                                                  prov:generated opredict:WorkflowExecutionArtifact_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 .



###  http://purl.org/plex/Instances/OpenPREDICT#Agent_Ahmed

opredict:Agent_Ahmed rdf:type owl:NamedIndividual ,
                              prov:Agent .



###  http://purl.org/plex/Instances/OpenPREDICT#Agent_Joao

opredict:Agent_Joao rdf:type owl:NamedIndividual ,
                             prov:Agent .



###  http://purl.org/plex/Instances/OpenPREDICT#Agent_Remzi

opredict:Agent_Remzi rdf:type owl:NamedIndividual ,
                              prov:Agent ;
                     
                     rdfs:label "Remzi" .



###  http://purl.org/plex/Instances/OpenPREDICT#Association_AhmedAsDeveloper

opredict:Association_AhmedAsDeveloper rdf:type owl:NamedIndividual ,
                                               prov:Association ;
                                      
                                      prov:agent opredict:Agent_Ahmed ;
                                      
                                      prov:hadPlan opredict:Plan_Execute_FAIRifier_process_to_human_interactome_barabasi ,
                                                   opredict:Plan_Execute_FAIRifier_process_to_phenotype_annotations ,
                                                   opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb ;
                                      
                                      prov:hadRole opredict:Role_Developer .



###  http://purl.org/plex/Instances/OpenPREDICT#Association_JoaoAsExecutor

opredict:Association_JoaoAsExecutor rdf:type owl:NamedIndividual ,
                                             prov:Association ;
                                    
                                    rdfs:label "Joao as executor of OpenPREDICT plan" ;
                                    
                                    prov:agent opredict:Agent_Joao ;
                                    
                                    prov:hadPlan opredict:Plan_Download_Drugbank_dataset ,
                                                 opredict:Plan_Download_Kegg_dataset ,
                                                 opredict:Plan_Download_SIDER_dataset ,
                                                 opredict:Plan_Download_and_save_Drugbank_dataset ,
                                                 opredict:Plan_Download_and_save_Kegg_dataset ,
                                                 opredict:Plan_Download_and_save_SIDER_dataset ,
                                                 opredict:Plan_Download_and_save_human_interactome_barabasi ,
                                                 opredict:Plan_Download_and_save_phenotype_annotations ,
                                                 opredict:Plan_Download_human_interactome_barabasi ,
                                                 opredict:Plan_Download_phenotype_annotations ,
                                                 opredict:Plan_Execute_query_DRUG_SIDE_EFFECTS_from_SIDER ,
                                                 opredict:Plan_Execute_query_DRUG_SMILES_from_DRUGBANK ,
                                                 opredict:Plan_Execute_query_DRUG_TARGETS_-from_DRUGBANK_and_KEGG ,
                                                 opredict:Plan_Feature_generation_01_Pipeline_OpenPREDICT_ipynb ,
                                                 opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb ,
                                                 opredict:Plan_Prepare_Input_Data_Files ,
                                                 opredict:Plan_Prepare_triplestore_for_input_data ,
                                                 opredict:Plan_Save_Drugbank_dataset ,
                                                 opredict:Plan_Save_Kegg_dataset ,
                                                 opredict:Plan_Save_SIDER_dataset ,
                                                 opredict:Plan_Save_as_drugbank-drug-smiles_tab ,
                                                 opredict:Plan_Save_as_drugbank-drug-target_tab ,
                                                 opredict:Plan_Save_as_drugbank-sider-se_tab ,
                                                 opredict:Plan_Save_files_in_triplestore ,
                                                 opredict:Plan_Save_human_interactome_barabasi ,
                                                 opredict:Plan_Save_phenotype_annotations ;
                                    
                                    prov:hadRole opredict:Role_Executor .



###  http://purl.org/plex/Instances/OpenPREDICT#Association_RemziAsDeveloper

opredict:Association_RemziAsDeveloper rdf:type owl:NamedIndividual ,
                                               prov:Association ;
                                      
                                      rdfs:label "Remzi as developer of OpenPREDICT plan" ;
                                      
                                      prov:agent opredict:Agent_Remzi ;
                                      
                                      prov:hadPlan opredict:Plan_Add_files_to_triplestore_and_execute_queries ,
                                                   opredict:Plan_Download_Drugbank_dataset ,
                                                   opredict:Plan_Download_Kegg_dataset ,
                                                   opredict:Plan_Download_SIDER_dataset ,
                                                   opredict:Plan_Download_and_save_Drugbank_dataset ,
                                                   opredict:Plan_Download_and_save_Kegg_dataset ,
                                                   opredict:Plan_Download_and_save_SIDER_dataset ,
                                                   opredict:Plan_Download_and_save_human_interactome_barabasi ,
                                                   opredict:Plan_Download_and_save_phenotype_annotations ,
                                                   opredict:Plan_Download_human_interactome_barabasi ,
                                                   opredict:Plan_Download_phenotype_annotations ,
                                                   opredict:Plan_Execute_FAIRifier_process_to_human_interactome_barabasi ,
                                                   opredict:Plan_Execute_FAIRifier_process_to_phenotype_annotations ,
                                                   opredict:Plan_Execute_query_DRUG_SIDE_EFFECTS_from_SIDER ,
                                                   opredict:Plan_Execute_query_DRUG_SMILES_from_DRUGBANK ,
                                                   opredict:Plan_Execute_query_DRUG_TARGETS_-from_DRUGBANK_and_KEGG ,
                                                   opredict:Plan_Feature_generation_01_Pipeline_OpenPREDICT_ipynb ,
                                                   opredict:Plan_Feature_generation_01_Pipeline_Source_Cell00 ,
                                                   opredict:Plan_Feature_generation_01_Pipeline_Source_Cell01 ,
                                                   opredict:Plan_Format_results_for_presentation ,
                                                   opredict:Plan_Main_Protocol_v01 ,
                                                   opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb ,
                                                   opredict:Plan_Prepare_Input_Data_Files ,
                                                   opredict:Plan_Prepare_triplestore_for_input_data ,
                                                   opredict:Plan_Save_Drugbank_dataset ,
                                                   opredict:Plan_Save_Kegg_dataset ,
                                                   opredict:Plan_Save_SIDER_dataset ,
                                                   opredict:Plan_Save_as_drugbank-drug-smiles_tab ,
                                                   opredict:Plan_Save_as_drugbank-drug-target_tab ,
                                                   opredict:Plan_Save_as_drugbank-sider-se_tab ,
                                                   opredict:Plan_Save_files_in_triplestore ,
                                                   opredict:Plan_Save_human_interactome_barabasi ,
                                                   opredict:Plan_Save_phenotype_annotations ,
                                                   opredict:Plan_Upload_files_to_a_triplestore ;
                                      
                                      prov:hadRole opredict:Role_Developer .



###  http://purl.org/plex/Instances/OpenPREDICT#Association_RemziAsExecutor

opredict:Association_RemziAsExecutor rdf:type owl:NamedIndividual ,
                                              prov:Association ;
                                     
                                     rdfs:label "Remzi as executor (tester?) of OpenPREDICT plan" ;
                                     
                                     prov:agent opredict:Agent_Remzi ;
                                     
                                     prov:hadPlan opredict:Plan_Add_files_to_triplestore_and_execute_queries ,
                                                  opredict:Plan_Download_Drugbank_dataset ,
                                                  opredict:Plan_Download_Kegg_dataset ,
                                                  opredict:Plan_Download_SIDER_dataset ,
                                                  opredict:Plan_Download_and_save_Drugbank_dataset ,
                                                  opredict:Plan_Download_and_save_Kegg_dataset ,
                                                  opredict:Plan_Download_and_save_SIDER_dataset ,
                                                  opredict:Plan_Download_and_save_human_interactome_barabasi ,
                                                  opredict:Plan_Download_and_save_phenotype_annotations ,
                                                  opredict:Plan_Download_human_interactome_barabasi ,
                                                  opredict:Plan_Download_phenotype_annotations ,
                                                  opredict:Plan_Execute_FAIRifier_process_to_human_interactome_barabasi ,
                                                  opredict:Plan_Execute_FAIRifier_process_to_phenotype_annotations ,
                                                  opredict:Plan_Execute_query_DRUG_SIDE_EFFECTS_from_SIDER ,
                                                  opredict:Plan_Execute_query_DRUG_SMILES_from_DRUGBANK ,
                                                  opredict:Plan_Execute_query_DRUG_TARGETS_-from_DRUGBANK_and_KEGG ,
                                                  opredict:Plan_Feature_generation_01_Pipeline_OpenPREDICT_ipynb ,
                                                  opredict:Plan_Feature_generation_01_Pipeline_Source_Cell00 ,
                                                  opredict:Plan_Feature_generation_01_Pipeline_Source_Cell01 ,
                                                  opredict:Plan_Format_results_for_presentation ,
                                                  opredict:Plan_Main_Protocol_v01 ,
                                                  opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb ,
                                                  opredict:Plan_Prepare_Input_Data_Files ,
                                                  opredict:Plan_Prepare_triplestore_for_input_data ,
                                                  opredict:Plan_Save_Drugbank_dataset ,
                                                  opredict:Plan_Save_Kegg_dataset ,
                                                  opredict:Plan_Save_SIDER_dataset ,
                                                  opredict:Plan_Save_as_drugbank-drug-smiles_tab ,
                                                  opredict:Plan_Save_as_drugbank-drug-target_tab ,
                                                  opredict:Plan_Save_as_drugbank-sider-se_tab ,
                                                  opredict:Plan_Save_files_in_triplestore ,
                                                  opredict:Plan_Save_human_interactome_barabasi ,
                                                  opredict:Plan_Save_phenotype_annotations ,
                                                  opredict:Plan_Upload_files_to_a_triplestore ;
                                     
                                     prov:hadRole opredict:Role_Executor .



###  http://purl.org/plex/Instances/OpenPREDICT#DataFormat_Textfile_tab

opredict:DataFormat_Textfile_tab rdf:type edam:format_1915 ,
                                          owl:NamedIndividual ;
                                 
                                 rdfs:label ".tab with tabular separator" .



###  http://purl.org/plex/Instances/OpenPREDICT#DataFormat_Textfile_txt

opredict:DataFormat_Textfile_txt rdf:type edam:format_2330 ,
                                          owl:NamedIndividual ;
                                 
                                 rdfs:label ".txt with comma separator" .



###  http://purl.org/plex/Instances/OpenPREDICT#DataFormat_nq_compressed_gz

opredict:DataFormat_nq_compressed_gz rdf:type edam:format_3256 ,
                                              owl:NamedIndividual ;
                                     
                                     rdfs:label ".nq compressed as .gz" .



###  http://purl.org/plex/Instances/OpenPREDICT#Dataset_OpenPREDICT_InputDatasetPrepared

opredict:Dataset_OpenPREDICT_InputDatasetPrepared rdf:type owl:NamedIndividual ,
                                                           dcat:Dataset ;
                                                  
                                                  dcat:distribution opredict:Triplestore_endpoint_input_data .



###  http://purl.org/plex/Instances/OpenPREDICT#Dataset_Phenotype_annotations_HPO_team_Build_1263

opredict:Dataset_Phenotype_annotations_HPO_team_Build_1263 rdf:type owl:NamedIndividual ,
                                                                    dcat:Dataset ;
                                                           
                                                           rdfs:label "Phenotype annotations HPO team (Build #1263)" ;
                                                           
                                                           dc:hasVersion "Build 1263" ;
                                                           
                                                           dcat:distribution opredict:Distribution_phenotype_annotation_hpoteam.tab_Build_1263 .



###  http://purl.org/plex/Instances/OpenPREDICT#Distribution_Phenotype_annotations_file_local

opredict:Distribution_Phenotype_annotations_file_local rdf:type owl:NamedIndividual ,
                                                                dcat:Distribution ;
                                                       
                                                       rdfs:label "Phenotype annotations file local" .



###  http://purl.org/plex/Instances/OpenPREDICT#Distribution_gold_standard_drug_indications_msb201126-s4.xls

opredict:Distribution_gold_standard_drug_indications_msb201126-s4.xls rdf:type owl:NamedIndividual ,
                                                                               dcat:Distribution ;
                                                                      
                                                                      rdfs:label "msb201126-s4.xls" ;
                                                                      
                                                                      dcat:downloadURL "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3159979/bin/msb201126-s4.xls" ;
                                                                      
                                                                      dcat:mediaType opredict:DataFormat_Textfile_tab .



###  http://purl.org/plex/Instances/OpenPREDICT#Distribution_mesh_annotation_mim2mesh.tsv

opredict:Distribution_mesh_annotation_mim2mesh.tsv rdf:type owl:NamedIndividual ,
                                                            dcat:Distribution ;
                                                   
                                                   rdfs:label "mim2mesh.tsv" ;
                                                   
                                                   dcat:downloadURL "http://www.paccanarolab.org/static_content/disease_similarity/mim2mesh.tsv" ;
                                                   
                                                   dcat:mediaType opredict:DataFormat_Textfile_tab .



###  http://purl.org/plex/Instances/OpenPREDICT#Distribution_phenotype_annotation_hpoteam.tab_Build_1263

opredict:Distribution_phenotype_annotation_hpoteam.tab_Build_1263 rdf:type owl:NamedIndividual ,
                                                                           dcat:Distribution ;
                                                                  
                                                                  rdfs:label "phenotype_annotation_hpoteam.tab (Build #1263)" ;
                                                                  
                                                                  dcat:downloadURL "http://compbio.charite.de/jenkins/job/hpo.annotations/1263/artifact/misc/phenotype_annotation_hpoteam.tab" ;
                                                                  
                                                                  dcat:mediaType opredict:DataFormat_Textfile_tab .



###  http://purl.org/plex/Instances/OpenPREDICT#Distribution_phenotype_annotation_hpoteam.tab_Build_1266

opredict:Distribution_phenotype_annotation_hpoteam.tab_Build_1266 rdf:type owl:NamedIndividual ,
                                                                           dcat:Distribution ;
                                                                  
                                                                  rdfs:label "phenotype_annotation_hpoteam.tab (Build #1263)" ;
                                                                  
                                                                  dcat:downloadURL "http://compbio.charite.de/jenkins/job/hpo.annotations/1266/artifact/misc/phenotype_annotation_hpoteam.tab" ;
                                                                  
                                                                  dcat:mediaType opredict:DataFormat_Textfile_tab .



###  http://purl.org/plex/Instances/OpenPREDICT#Distribution_pubchem_to_drugbank_pubchem.tsv

opredict:Distribution_pubchem_to_drugbank_pubchem.tsv rdf:type owl:NamedIndividual ,
                                                               dcat:Distribution ;
                                                      
                                                      rdfs:label "mim2mesh.tsv" ;
                                                      
                                                      dcat:downloadURL "https://raw.githubusercontent.com/dhimmel/drugbank/3e87872db5fca5ac427ce27464ab945c0ceb4ec6/data/mapping/pubchem.tsv" ;
                                                      
                                                      dcat:mediaType opredict:DataFormat_Textfile_tab .



###  http://purl.org/plex/Instances/OpenPREDICT#Distribution_release-4-drugbank-drugbank.nq.gz

opredict:Distribution_release-4-drugbank-drugbank.nq.gz rdf:type owl:NamedIndividual ,
                                                                 dcat:Distribution ;
                                                        
                                                        rdfs:label "release/4/drugbank/drugbank.nq.gz" ;
                                                        
                                                        dcat:downloadURL "http://download.bio2rdf.org/files/release/4/drugbank/drugbank.nq.gz" ;
                                                        
                                                        dcat:mediaType opredict:DataFormat_nq_compressed_gz .



###  http://purl.org/plex/Instances/OpenPREDICT#Distribution_release-4-drugbank-drugbank.nq.gz_local

opredict:Distribution_release-4-drugbank-drugbank.nq.gz_local rdf:type owl:NamedIndividual ,
                                                                       dcat:Distribution ;
                                                              
                                                              rdfs:label "release/4/drugbank/drugbank.nq.gz local" .



###  http://purl.org/plex/Instances/OpenPREDICT#Distribution_release-4-kegg-kegg-drug.nq.gz

opredict:Distribution_release-4-kegg-kegg-drug.nq.gz rdf:type owl:NamedIndividual ,
                                                              dcat:Distribution ;
                                                     
                                                     rdfs:label "release/4/kegg/kegg-drug.nq.gz" ;
                                                     
                                                     dcat:downloadURL "http://download.bio2rdf.org/files/release/4/kegg/kegg-drug.nq.gz" ;
                                                     
                                                     dcat:mediaType opredict:DataFormat_nq_compressed_gz .



###  http://purl.org/plex/Instances/OpenPREDICT#Distribution_release-4-kegg-kegg-drug.nq.gz_local

opredict:Distribution_release-4-kegg-kegg-drug.nq.gz_local rdf:type owl:NamedIndividual ,
                                                                    dcat:Distribution ;
                                                           
                                                           rdfs:label "release/4/kegg/kegg-drug.nq.gz local" ;
                                                           
                                                           dcat:downloadURL "http://download.bio2rdf.org/files/release/4/kegg/kegg-drug.nq.gz" .



###  http://purl.org/plex/Instances/OpenPREDICT#Distribution_release-4-sider-sider-se.nq.gz

opredict:Distribution_release-4-sider-sider-se.nq.gz rdf:type owl:NamedIndividual ,
                                                              dcat:Distribution ;
                                                     
                                                     rdfs:label "release/4/sider/sider-se.nq.gz" ;
                                                     
                                                     dcat:downloadURL "http://download.bio2rdf.org/files/release/4/sider/sider-se.nq.gz" ;
                                                     
                                                     dcat:mediaType opredict:DataFormat_nq_compressed_gz .



###  http://purl.org/plex/Instances/OpenPREDICT#Distribution_release-4-sider-sider-se.nq.gz_local

opredict:Distribution_release-4-sider-sider-se.nq.gz_local rdf:type owl:NamedIndividual ,
                                                                    dcat:Distribution ;
                                                           
                                                           rdfs:label "release/4/sider/sider-se.nq.gz local" .



###  http://purl.org/plex/Instances/OpenPREDICT#Distribution_srep-2016-161017-srep35241-extref-srep35241-s3.txt

opredict:Distribution_srep-2016-161017-srep35241-extref-srep35241-s3.txt rdf:type owl:NamedIndividual ,
                                                                                  dcat:Distribution ;
                                                                         
                                                                         rdfs:label "srep/2016/161017/srep35241/extref/srep35241-s3.txt" ;
                                                                         
                                                                         dcat:downloadURL "https://media.nature.com/full/nature-assets/srep/2016/161017/srep35241/extref/srep35241-s3.txt" ;
                                                                         
                                                                         dcat:mediaType opredict:DataFormat_Textfile_txt .



###  http://purl.org/plex/Instances/OpenPREDICT#Distribution_srep35241-s3.txt_local

opredict:Distribution_srep35241-s3.txt_local rdf:type owl:NamedIndividual ,
                                                      dcat:Distribution ;
                                             
                                             rdfs:label "srep35241-s3.txt local" .



###  http://purl.org/plex/Instances/OpenPREDICT#EvaluationMeasure_PredictiveAccuracy

opredict:EvaluationMeasure_PredictiveAccuracy rdf:type owl:NamedIndividual ,
                                                       mls:EvaluationMeasure .



###  http://purl.org/plex/Instances/OpenPREDICT#EvaluationMeasure_PredictiveAveragePrecision

opredict:EvaluationMeasure_PredictiveAveragePrecision rdf:type owl:NamedIndividual ,
                                                               mls:EvaluationMeasure .



###  http://purl.org/plex/Instances/OpenPREDICT#EvaluationMeasure_PredictiveF1

opredict:EvaluationMeasure_PredictiveF1 rdf:type owl:NamedIndividual ,
                                                 mls:EvaluationMeasure .



###  http://purl.org/plex/Instances/OpenPREDICT#EvaluationMeasure_PredictivePrecision

opredict:EvaluationMeasure_PredictivePrecision rdf:type owl:NamedIndividual ,
                                                        mls:EvaluationMeasure .



###  http://purl.org/plex/Instances/OpenPREDICT#EvaluationMeasure_PredictiveRecall

opredict:EvaluationMeasure_PredictiveRecall rdf:type owl:NamedIndividual ,
                                                     mls:EvaluationMeasure .



###  http://purl.org/plex/Instances/OpenPREDICT#EvaluationMeasure_PredictiveRocAuc

opredict:EvaluationMeasure_PredictiveRocAuc rdf:type owl:NamedIndividual ,
                                                     mls:EvaluationMeasure .



###  http://purl.org/plex/Instances/OpenPREDICT#Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell01_Execution_1546300862

opredict:Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell01_Execution_1546300862 rdf:type owl:NamedIndividual ,
                                                                                                           prov:Generation ;
                                                                                                  
                                                                                                  prov:atTime "2019-01-01T00:01:15.761"^^xsd:dateTime ;
                                                                                                  
                                                                                                  dc:description "This instance can describe information about the generation of the output of the cell, for example here we could have properties for different roles (generator) for each format (html x text), information provided by the user (e.g., data seem to be correct or no data found, etc), etc." .



###  http://purl.org/plex/Instances/OpenPREDICT#Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell02_Execution_1546300862

opredict:Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell02_Execution_1546300862 rdf:type owl:NamedIndividual ,
                                                                                                           prov:Generation ;
                                                                                                  
                                                                                                  prov:atTime "2019-01-01T00:01:15.961"^^xsd:dateTime .



###  http://purl.org/plex/Instances/OpenPREDICT#Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell03_Execution_1546300862

opredict:Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell03_Execution_1546300862 rdf:type owl:NamedIndividual ,
                                                                                                           prov:Generation ;
                                                                                                  
                                                                                                  prov:atTime "2019-01-01T00:01:16.961"^^xsd:dateTime .



###  http://purl.org/plex/Instances/OpenPREDICT#Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell04_Execution_1546300862

opredict:Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell04_Execution_1546300862 rdf:type owl:NamedIndividual ,
                                                                                                           prov:Generation ;
                                                                                                  
                                                                                                  prov:atTime "2019-01-01T00:01:16.961"^^xsd:dateTime .



###  http://purl.org/plex/Instances/OpenPREDICT#Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell05_Execution_1546300862

opredict:Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell05_Execution_1546300862 rdf:type owl:NamedIndividual ,
                                                                                                           prov:Generation ;
                                                                                                  
                                                                                                  prov:atTime "2019-01-01T00:01:16.961"^^xsd:dateTime .



###  http://purl.org/plex/Instances/OpenPREDICT#Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell08_Execution_1546300862

opredict:Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell08_Execution_1546300862 rdf:type owl:NamedIndividual ,
                                                                                                           prov:Generation ;
                                                                                                  
                                                                                                  prov:atTime "2019-01-01T00:01:17.961"^^xsd:dateTime .



###  http://purl.org/plex/Instances/OpenPREDICT#Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell10_Execution_1546300862

opredict:Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell10_Execution_1546300862 rdf:type owl:NamedIndividual ,
                                                                                                           prov:Generation ;
                                                                                                  
                                                                                                  prov:atTime "2019-01-01T00:01:17.961"^^xsd:dateTime .



###  http://purl.org/plex/Instances/OpenPREDICT#Generation_Output_Step_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_FeatureGeneration_Execution_1546335555

opredict:Generation_Output_Step_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_FeatureGeneration_Execution_1546335555 rdf:type owl:NamedIndividual ,
                                                                                                                                  prov:Generation ;
                                                                                                                         
                                                                                                                         prov:atTime "2019-05-21T00:02:11.011"^^xsd:dateTime .



###  http://purl.org/plex/Instances/OpenPREDICT#Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell01_Execution_1546302862

opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell01_Execution_1546302862 rdf:type owl:NamedIndividual ,
                                                                                                                                            prov:Generation ;
                                                                                                                                   
                                                                                                                                   prov:atTime "2019-01-01T00:01:17.961"^^xsd:dateTime .



###  http://purl.org/plex/Instances/OpenPREDICT#Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell05_Execution_1546302862

opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell05_Execution_1546302862 rdf:type owl:NamedIndividual ,
                                                                                                                                            prov:Generation ;
                                                                                                                                   
                                                                                                                                   prov:atTime "2019-01-01T00:02:01.011"^^xsd:dateTime .



###  http://purl.org/plex/Instances/OpenPREDICT#Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell08_Execution_1546302862

opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell08_Execution_1546302862 rdf:type owl:NamedIndividual ,
                                                                                                                                            prov:Generation ;
                                                                                                                                   
                                                                                                                                   prov:atTime "2019-01-01T00:02:11.011"^^xsd:dateTime .



###  http://purl.org/plex/Instances/OpenPREDICT#Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell09_Execution_1546302862

opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell09_Execution_1546302862 rdf:type owl:NamedIndividual ,
                                                                                                                                            prov:Generation ;
                                                                                                                                   
                                                                                                                                   prov:atTime "2019-01-01T00:02:31.011"^^xsd:dateTime .



###  http://purl.org/plex/Instances/OpenPREDICT#Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862

opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 rdf:type owl:NamedIndividual ,
                                                                                                                                     prov:Generation ;
                                                                                                                            
                                                                                                                            prov:atTime "2019-01-01T00:02:31.011"^^xsd:dateTime .



###  http://purl.org/plex/Instances/OpenPREDICT#Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555

opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 rdf:type owl:NamedIndividual ,
                                                                                                                                         prov:Generation ;
                                                                                                                                
                                                                                                                                prov:atTime "2019-05-21T00:02:31.011"^^xsd:dateTime .



###  http://purl.org/plex/Instances/OpenPREDICT#Link_Pipeline_Source_Cell0_Variable

opredict:Link_Pipeline_Source_Cell0_Variable rdf:type owl:NamedIndividual ,
                                                      prov:Usage ;
                                             
                                             prov:entity :opredict_Variable_Context_Output_Cell0 .



###  http://purl.org/plex/Instances/OpenPREDICT#Link_results_to_variable_Input_file_drugbank-drug-smiles_tab

opredict:Link_results_to_variable_Input_file_drugbank-drug-smiles_tab rdf:type owl:NamedIndividual ,
                                                                               prov:Usage ;
                                                                      
                                                                      prov:entity opredict:Variable_Input_file_drugbank-drug-smiles_tab ,
                                                                                  opredict:Variable_Query_results_DRUG_SMILES_from_DRUGBANK .



###  http://purl.org/plex/Instances/OpenPREDICT#Link_results_to_variable_Input_file_drugbank-drug-target_tab

opredict:Link_results_to_variable_Input_file_drugbank-drug-target_tab rdf:type owl:NamedIndividual ,
                                                                               prov:Usage ;
                                                                      
                                                                      prov:entity opredict:Variable_Input_file_drugbank-drug-target_tab ,
                                                                                  opredict:Variable_Query_results_DRUG_TARGETS_from_DRUGBANK_and_KEGG .



###  http://purl.org/plex/Instances/OpenPREDICT#Link_results_to_variable_Input_file_drugbank-sider-se_tab

opredict:Link_results_to_variable_Input_file_drugbank-sider-se_tab rdf:type owl:NamedIndividual ,
                                                                            prov:Usage ;
                                                                   
                                                                   prov:entity opredict:Variable_Input_file_drugbank-sider-se_tab ,
                                                                               opredict:Variable_Query_results_DRUG_SIDE_EFFECTS_from_SIDER .



###  http://purl.org/plex/Instances/OpenPREDICT#Link_variable_to_local_Drugbank_dataset

opredict:Link_variable_to_local_Drugbank_dataset rdf:type owl:NamedIndividual ,
                                                          prov:Usage ;
                                                 
                                                 rdfs:label "Link variable to local Drugbank dataset" ;
                                                 
                                                 prov:entity opredict:Distribution_release-4-drugbank-drugbank.nq.gz_local ,
                                                             opredict:Variable_Drugbank_dataset_local .



###  http://purl.org/plex/Instances/OpenPREDICT#Link_variable_to_local_Human_interactome_barabasi

opredict:Link_variable_to_local_Human_interactome_barabasi rdf:type owl:NamedIndividual ,
                                                                    prov:Usage ;
                                                           
                                                           rdfs:label "Link variable to local Human interactome barabasi" ;
                                                           
                                                           prov:entity opredict:Distribution_srep35241-s3.txt_local ,
                                                                       opredict:Variable_Human_interactome_barabasi_local .



###  http://purl.org/plex/Instances/OpenPREDICT#Link_variable_to_local_Kegg_dataset

opredict:Link_variable_to_local_Kegg_dataset rdf:type owl:NamedIndividual ,
                                                      prov:Usage ;
                                             
                                             rdfs:label "Link variable to local Kegg dataset" ;
                                             
                                             prov:entity opredict:Distribution_release-4-kegg-kegg-drug.nq.gz_local ,
                                                         opredict:Variable_Kegg_dataset_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Link_variable_to_local_SIDER_dataset

opredict:Link_variable_to_local_SIDER_dataset rdf:type owl:NamedIndividual ,
                                                       prov:Usage ;
                                              
                                              rdfs:label "Link variable to local SIDER dataset" ;
                                              
                                              prov:entity opredict:Distribution_release-4-sider-sider-se.nq.gz_local ,
                                                          opredict:Variable_SIDER_dataset_local .



###  http://purl.org/plex/Instances/OpenPREDICT#Link_variable_to_local_phenotype_annotations

opredict:Link_variable_to_local_phenotype_annotations rdf:type owl:NamedIndividual ,
                                                               prov:Usage ;
                                                      
                                                      rdfs:label "Link variable to local phenotype annotations" ;
                                                      
                                                      prov:entity opredict:Distribution_Phenotype_annotations_file_local ,
                                                                  opredict:Variable_Phenotype_annotations_file_local .



###  http://purl.org/plex/Instances/OpenPREDICT#ModelEvaluation_Accuracy_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862

opredict:ModelEvaluation_Accuracy_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 rdf:type owl:NamedIndividual ,
                                                                                                                                       mls:ModelEvaluation ;
                                                                                                                              
                                                                                                                              dc:description "0.833336" ;
                                                                                                                              
                                                                                                                              mls:specifiedBy opredict:EvaluationMeasure_PredictiveAccuracy ;
                                                                                                                              
                                                                                                                              prov:qualifiedGeneration opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 .



###  http://purl.org/plex/Instances/OpenPREDICT#ModelEvaluation_Accuracy_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555

opredict:ModelEvaluation_Accuracy_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 rdf:type owl:NamedIndividual ,
                                                                                                                                           mls:ModelEvaluation ;
                                                                                                                                  
                                                                                                                                  dc:description "0.6803722301090722" ;
                                                                                                                                  
                                                                                                                                  mls:specifiedBy opredict:EvaluationMeasure_PredictiveAccuracy ;
                                                                                                                                  
                                                                                                                                  prov:qualifiedGeneration opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 .



###  http://purl.org/plex/Instances/OpenPREDICT#ModelEvaluation_AveragePrecision_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862

opredict:ModelEvaluation_AveragePrecision_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 rdf:type owl:NamedIndividual ,
                                                                                                                                               mls:ModelEvaluation ;
                                                                                                                                      
                                                                                                                                      dc:description "0.810000" ;
                                                                                                                                      
                                                                                                                                      mls:specifiedBy opredict:EvaluationMeasure_PredictiveAveragePrecision ;
                                                                                                                                      
                                                                                                                                      prov:qualifiedGeneration opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 .



###  http://purl.org/plex/Instances/OpenPREDICT#ModelEvaluation_AveragePrecision_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555

opredict:ModelEvaluation_AveragePrecision_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 rdf:type owl:NamedIndividual ,
                                                                                                                                                   mls:ModelEvaluation ;
                                                                                                                                          
                                                                                                                                          dc:description "0.0" ;
                                                                                                                                          
                                                                                                                                          mls:specifiedBy opredict:EvaluationMeasure_PredictiveAveragePrecision ;
                                                                                                                                          
                                                                                                                                          prov:qualifiedGeneration opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 .



###  http://purl.org/plex/Instances/OpenPREDICT#ModelEvaluation_F1_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862

opredict:ModelEvaluation_F1_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 rdf:type owl:NamedIndividual ,
                                                                                                                                 mls:ModelEvaluation ;
                                                                                                                        
                                                                                                                        dc:description "0.685671" ;
                                                                                                                        
                                                                                                                        mls:specifiedBy opredict:EvaluationMeasure_PredictiveF1 ;
                                                                                                                        
                                                                                                                        prov:qualifiedGeneration opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 .



###  http://purl.org/plex/Instances/OpenPREDICT#ModelEvaluation_F1_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555

opredict:ModelEvaluation_F1_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 rdf:type owl:NamedIndividual ,
                                                                                                                                     mls:ModelEvaluation ;
                                                                                                                            
                                                                                                                            dc:description "0.0" ;
                                                                                                                            
                                                                                                                            mls:specifiedBy opredict:EvaluationMeasure_PredictiveF1 ;
                                                                                                                            
                                                                                                                            prov:qualifiedGeneration opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 .



###  http://purl.org/plex/Instances/OpenPREDICT#ModelEvaluation_Precision_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862

opredict:ModelEvaluation_Precision_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 rdf:type owl:NamedIndividual ,
                                                                                                                                        mls:ModelEvaluation ;
                                                                                                                               
                                                                                                                               dc:description "0.918820" ;
                                                                                                                               
                                                                                                                               mls:specifiedBy opredict:EvaluationMeasure_PredictivePrecision ;
                                                                                                                               
                                                                                                                               prov:qualifiedGeneration opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 .



###  http://purl.org/plex/Instances/OpenPREDICT#ModelEvaluation_Precision_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555

opredict:ModelEvaluation_Precision_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 rdf:type owl:NamedIndividual ,
                                                                                                                                            mls:ModelEvaluation ;
                                                                                                                                   
                                                                                                                                   dc:description "0.0" ;
                                                                                                                                   
                                                                                                                                   mls:specifiedBy opredict:EvaluationMeasure_PredictivePrecision ;
                                                                                                                                   
                                                                                                                                   prov:qualifiedGeneration opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 .



###  http://purl.org/plex/Instances/OpenPREDICT#ModelEvaluation_Recall_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862

opredict:ModelEvaluation_Recall_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 rdf:type owl:NamedIndividual ,
                                                                                                                                     mls:ModelEvaluation ;
                                                                                                                            
                                                                                                                            dc:description "0.549804" ;
                                                                                                                            
                                                                                                                            mls:specifiedBy opredict:EvaluationMeasure_PredictiveRecall ;
                                                                                                                            
                                                                                                                            prov:qualifiedGeneration opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 .



###  http://purl.org/plex/Instances/OpenPREDICT#ModelEvaluation_Recall_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555

opredict:ModelEvaluation_Recall_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 rdf:type owl:NamedIndividual ,
                                                                                                                                         mls:ModelEvaluation ;
                                                                                                                                
                                                                                                                                dc:description "0.0" ;
                                                                                                                                
                                                                                                                                mls:specifiedBy opredict:EvaluationMeasure_PredictiveRecall ;
                                                                                                                                
                                                                                                                                prov:qualifiedGeneration opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 .



###  http://purl.org/plex/Instances/OpenPREDICT#ModelEvaluation_RocAuc_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862

opredict:ModelEvaluation_RocAuc_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 rdf:type owl:NamedIndividual ,
                                                                                                                                     mls:ModelEvaluation ;
                                                                                                                            
                                                                                                                            dc:description "0.549804" ;
                                                                                                                            
                                                                                                                            mls:specifiedBy opredict:EvaluationMeasure_PredictiveRocAuc ;
                                                                                                                            
                                                                                                                            prov:qualifiedGeneration opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Execution_1546302862 .



###  http://purl.org/plex/Instances/OpenPREDICT#ModelEvaluation_RocAuc_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555

opredict:ModelEvaluation_RocAuc_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 rdf:type owl:NamedIndividual ,
                                                                                                                                         mls:ModelEvaluation ;
                                                                                                                                
                                                                                                                                dc:description "0.7155250305250306" ;
                                                                                                                                
                                                                                                                                mls:specifiedBy opredict:EvaluationMeasure_PredictiveRocAuc ;
                                                                                                                                
                                                                                                                                prov:qualifiedGeneration opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 .



###  http://purl.org/plex/Instances/OpenPREDICT#NodeShape_DRUG_SIDE_EFFECTS_from_SIDER

opredict:NodeShape_DRUG_SIDE_EFFECTS_from_SIDER rdf:type owl:NamedIndividual ,
                                                         sh:NodeShape ;
                                                
                                                sh:targetClass opredict:QueryExecution_DRUG_SIDE_EFFECTS_from_SIDER ;
                                                
                                                sh:sparql opredict:SPARQLConstraint_DRUG_SIDE_EFFECTS_from_SIDER .



###  http://purl.org/plex/Instances/OpenPREDICT#NodeShape_DRUG_SMILES_from_DRUGBANK

opredict:NodeShape_DRUG_SMILES_from_DRUGBANK rdf:type owl:NamedIndividual ,
                                                      sh:NodeShape ;
                                             
                                             sh:targetClass opredict:QueryExecution_DRUG_SMILES_from_DRUGBANK ;
                                             
                                             sh:sparql opredict:SPARQLConstraint_DRUG_SMILES_from_DRUGBANK .



###  http://purl.org/plex/Instances/OpenPREDICT#NodeShape_DRUG_TARGETS_from_DRUGBANK_and_KEGG

opredict:NodeShape_DRUG_TARGETS_from_DRUGBANK_and_KEGG rdf:type owl:NamedIndividual ,
                                                                sh:NodeShape ;
                                                       
                                                       sh:targetClass opredict:QueryExecution_DRUG_TARGETS_from_DRUGBANK_and_KEGG ;
                                                       
                                                       sh:sparql opredict:SPARQLConstraint_DRUG_TARGETS_from_DRUGBANK_and_KEGG .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Add_files_to_triplestore_and_execute_queries

opredict:Plan_Add_files_to_triplestore_and_execute_queries rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           rdfs:label "Add files to triplestore and execute queries" ;
                                                           
                                                           dc:description "Add files to triplestore and execute queries" ;
                                                           
                                                           dc:language :LinguisticSystem_xsd_language_English ;
                                                           
                                                           pwo:hasFirstStep opredict:Step_Upload_files_to_a_triplestore .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Download_Drugbank_dataset

opredict:Plan_Download_Drugbank_dataset rdf:type p-plan:Plan ,
                                                 owl:NamedIndividual ;
                                        
                                        rdfs:label "Download Drugbank dataset" ;
                                        
                                        dc:description "Download Drugbank dataset" ;
                                        
                                        dc:language :LinguisticSystem_xsd_language_English ;
                                        
                                        prov:qualifiedUsage opredict:Usage_Fetch_download_Drugbank_dataset_to_variable .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Download_Kegg_dataset

opredict:Plan_Download_Kegg_dataset rdf:type p-plan:Plan ,
                                             owl:NamedIndividual ;
                                    
                                    rdfs:label "Download Kegg dataset" ;
                                    
                                    dc:description "Download Kegg dataset" ;
                                    
                                    dc:language :LinguisticSystem_xsd_language_English ;
                                    
                                    prov:qualifiedUsage opredict:Usage_Fetch_download_Kegg_dataset_to_variable .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Download_SIDER_dataset

opredict:Plan_Download_SIDER_dataset rdf:type p-plan:Plan ,
                                              owl:NamedIndividual ;
                                     
                                     rdfs:label "Download SIDER dataset" ;
                                     
                                     dc:description "Download SIDER dataset" ;
                                     
                                     dc:language :LinguisticSystem_xsd_language_English ;
                                     
                                     prov:qualifiedUsage opredict:Usage_Fetch_download_SIDER_dataset_to_variable .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Download_and_save_Drugbank_dataset

opredict:Plan_Download_and_save_Drugbank_dataset rdf:type p-plan:Plan ,
                                                          owl:NamedIndividual ;
                                                 
                                                 rdfs:label "Download and save Drugbank dataset" ;
                                                 
                                                 dc:description "Download and save Drugbank dataset" ;
                                                 
                                                 dc:language :LinguisticSystem_xsd_language_English ;
                                                 
                                                 pwo:hasFirstStep opredict:Step_Download_Drugbank_dataset .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Download_and_save_Kegg_dataset

opredict:Plan_Download_and_save_Kegg_dataset rdf:type p-plan:Plan ,
                                                      owl:NamedIndividual ;
                                             
                                             rdfs:label "Download and save Kegg dataset" ;
                                             
                                             dc:description "Download and save Kegg dataset" ;
                                             
                                             dc:language :LinguisticSystem_xsd_language_English ;
                                             
                                             pwo:hasFirstStep opredict:Step_Download_Kegg_dataset .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Download_and_save_SIDER_dataset

opredict:Plan_Download_and_save_SIDER_dataset rdf:type p-plan:Plan ,
                                                       owl:NamedIndividual ;
                                              
                                              rdfs:label "Download and save SIDER dataset" ;
                                              
                                              dc:description "Download and save SIDER dataset" ;
                                              
                                              dc:language :LinguisticSystem_xsd_language_English ;
                                              
                                              pwo:hasFirstStep opredict:Step_Download_SIDER_dataset .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Download_and_save_gold_standard_drug_indications

opredict:Plan_Download_and_save_gold_standard_drug_indications rdf:type p-plan:Plan ,
                                                                        owl:NamedIndividual ;
                                                               
                                                               rdfs:label "Download and save the mappings between OMIM diseases and UMLS concepts used in the PREDICT study (msb201126-s4.xls)" ;
                                                               
                                                               dc:description """#!/usr/bin/env python
# coding: utf-8

\"\"\"
RDF generator for the PREDICT drug indication gold standard (https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3159979/bin/msb201126-s4.xls)
@version 1.0
@author Remzi Celebi
\"\"\"


import pandas as pd
from csv import reader
import utils
from utils import Dataset, DataResource
from rdflib import Graph, URIRef, Literal, RDF, ConjunctiveGraph
from rdflib import Namespace
import datetime


DC = Namespace(\"http://purl.org/dc/terms/\")

mapping_df = pd.read_excel('https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3159979/bin/msb201126-s4.xls')
#save the original file
mapping_df.to_csv('../data/external/msb201126-s4.csv', index=False)


mapping_df['OMIM disease name'].replace({'Neuropathy, Hereditary Sensory And Autonomic, Type I, With Cough And':
                                         'Neuropathy, Hereditary Sensory And Autonomic, Type I, With Cough And Gastroesophageal Reflux'}, inplace=True)

goldstd_df = pd.read_excel('https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3159979/bin/msb201126-s1.xls')
# save the file
goldstd_df.to_csv('../data/external/msb201126-s1.csv', sep='\\t', index=False)

goldstd_df['Drug name'].replace({'Divalproex Sodium':'Valproic Acid',
                                 'Bismuth':'Bismuth subsalicylate',
                                'Clobetasol':'Clobetasol propionate',
                               'Guanadrel Sulfate':'Guanadrel',
                                 'Marinol':'Dronabinol',
                               'Medroxyprogesterone':'Medroxyprogesterone acetate',
                                'Megestrol':'Megestrol acetate',
                                'Propoxyphene':'Dextropropoxyphene',
                                 'Salicyclic Acid':'Salicylic acid',
                                'Ipratropium':'Ipratropiumbromid',
                                'Adenosine Monophosphate':'Adenosine monophosphate',
                                'Arsenic Trioxide':'Arsenic trioxide',
                                'Ethacrynic Acid':'Ethacrynic acid',
                                'Fondaparinux Sodium':'Fondaparinux sodium',
                                 'Meclofenamic Acid':'Meclofenamic acid',
                                'Methyl Aminolevulinate':'Methyl aminolevulinate'},inplace=True)




merged_df = goldstd_df.merge(mapping_df, left_on='Disease name', right_on='OMIM disease name')


drug_synonym_df = pd.read_csv('../data/input/drugbank-drug-synonym.csv')
merged_df = merged_df.merge(drug_synonym_df, left_on='Drug name', right_on='name')

print ('# of drug-disease associations',len(merged_df[['drugid','OMIM ID']].drop_duplicates()))


gold_std_mapped_df = merged_df[['drugid','OMIM ID']].drop_duplicates()
gold_std_mapped_df['drugid'] = gold_std_mapped_df['drugid'].map(lambda x: 'http://bio2rdf.org/drugbank:'+str(x))
gold_std_mapped_df['OMIM ID'] = gold_std_mapped_df['OMIM ID'].map(lambda x: 'http://bio2rdf.org/omim:'+str(x))
gold_std_mapped_df.rename(columns={'OMIM ID':'http://bio2rdf.org/openpredict_vocabulary:indication'},inplace=True)
gold_std_mapped_df= gold_std_mapped_df.set_index('drugid', drop=True)

column_types ={'http://bio2rdf.org/openpredict_vocabulary:indication':'URI'}
graphURI ='http://fairworkflows.org/openpredict_resource:fairworkflows.dataset.openpredict.predict.R1'
g = ConjunctiveGraph(identifier = URIRef(graphURI))  
g=  utils.to_rdf(g, gold_std_mapped_df, column_types, 'http://bio2rdf.org/drugbank:Drug' )



def addMetaData(g, graphURI):
    #generate dataset
    data_source = Dataset(qname=graphURI, graph = g)
    data_source.setURI(graphURI)
    data_source.setTitle('Supplementary data used in the PREDICT')
    data_source.setDescription('Drug indications gold standard and mappings used in the study of \"PREDICT: a method for inferring novel drug indications with application to personalized medicine\" ')
    data_source.setPublisher('https://www.embopress.org/journal/17444292')
    data_source.setPublisherName('Molecular Systems Biology')
    data_source.addRight('use-share-modify')
    data_source.addTheme('http://www.wikidata.org/entity/Q56863002')
    data_source.setLicense('https://www.embopress.org/page/journal/17444292/about')
    data_source.setHomepage('https://dx.doi.org/10.1038%2Fmsb.2011.26')
    data_source.setVersion('1.0')


    #generate dataset distribution
    data_dist1 = DataResource(qname=graphURI, graph = data_source.toRDF())
    data_dist1.setURI('https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3159979/bin/msb201126-s4.xls')
    data_dist1.setTitle('Mapping between OMIM diseases and UMLS concepts used in the PREDICT study (msb201126-s4.xls)')
    data_dist1.setDescription('This file contains the mappings between OMIM diseases and UMLS concepts used in the PREDICT study')
    data_dist1.setLicense('https://creativecommons.org/publicdomain/zero/1.0/')
    data_dist1.setVersion('1.0')
    data_dist1.setFormat('application/vnd.ms-excel')
    data_dist1.setMediaType('application/vnd.ms-excel')
    data_dist1.setPublisher('https://www.embopress.org/journal/17444292')
    data_dist1.addRight('use-share-modify')
    data_dist1.setRetrievedDate(datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"))
    data_dist1.setDataset(data_source.getURI())
    
    
    #generate dataset distribution
    data_dist2 = DataResource(qname=graphURI, graph = data_dist1.toRDF())
    data_dist2.setURI('https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3159979/bin/msb201126-s1.xls')
    data_dist2.setTitle('Drug indications gold standard used in the PREDICT study (msb201126-s1.xls)')
    data_dist2.setDescription('This file contains the gold standard drug indications used in the PREDICT study')
    data_dist2.setLicense('https://creativecommons.org/publicdomain/zero/1.0/')
    data_dist2.setVersion('1.0')
    data_dist2.setFormat('application/vnd.ms-excel')
    data_dist2.setMediaType('application/vnd.ms-excel')
    data_dist2.setPublisher('https://www.embopress.org/journal/17444292')
    data_dist2.addRight('use-share-modify')
    data_dist2.setRetrievedDate(datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"))
    data_dist2.setDataset(data_source.getURI())
     

    #generate RDF data distrubtion
    rdf_dist = DataResource(qname=graphURI, graph = data_dist2.toRDF() )
    rdf_dist.setURI('https://github.com/fair-workflows/openpredict/blob/master/data/rdf/predict-gold-standard-omim.nq.gz')
    rdf_dist.setTitle('RDF version of PREDICT drug indication gold standard')
    rdf_dist.setDescription('This file is the RDF version of PREDICT drug indication gold standard')
    rdf_dist.setLicense('http://creativecommons.org/licenses/by/3.0/')
    rdf_dist.setVersion('1.0')
    rdf_dist.setFormat('application/n-quads')
    rdf_dist.setMediaType('application/n-quads')
    rdf_dist.addRight('use-share-modify')
    rdf_dist.addRight('by-attribution')
    rdf_dist.addRight('restricted-by-source-license')
    rdf_dist.setCreateDate(datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"))
    rdf_dist.setCreator('https://github.com/fair-workflows/openpredict/src/MappingPREDICTGoldstandard.py')
    rdf_dist.setDownloadURL('https://github.com/fair-workflows/openpredict/known_associations/predict-gold-standard-omim.nq.gz')
    rdf_dist.setDataset(data_dist2.getURI())
    rdf_dist.addSource('https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3159979/bin/msb201126-s1.xls')
    rdf_dist.addSource('https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3159979/bin/msb201126-s4.xls')
      
    return rdf_dist.toRDF()

g= addMetaData(g, graphURI)

outfile ='../data/rdf/predict-gold-standard-omim.nq'
g.serialize(outfile, format='nquads')
print('RDF is generated at '+outfile)



""" ;
                                                               
                                                               dcat:downloadURL "https://github.com/fair-workflows/openpredict/blob/2e1bb7b6ba12e2df3e80d2b0a89a116703ce7180/src/MappingPREDICTGoldstandard.py" ;
                                                               
                                                               dc:language :ComputerLanguage_Python_3.7 ;
                                                               
                                                               prov:qualifiedUsage opredict:Usage_Fetch_download_gold_standard_drug_indications .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Download_and_save_human_interactome_barabasi

opredict:Plan_Download_and_save_human_interactome_barabasi rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           rdfs:label "Download and save human interactome barabasi" ;
                                                           
                                                           dc:description "Download and save human interactome barabasi" ;
                                                           
                                                           dc:language :LinguisticSystem_xsd_language_English ;
                                                           
                                                           pwo:hasFirstStep opredict:Step_Download_human_interactome_barabasi .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Download_and_save_human_interactome_barabasi_v02

opredict:Plan_Download_and_save_human_interactome_barabasi_v02 rdf:type p-plan:Plan ,
                                                                        owl:NamedIndividual ;
                                                               
                                                               rdfs:label "Download and save human interactome barabasi" ;
                                                               
                                                               dcat:downloadURL "https://github.com/fair-workflows/openpredict/blob/2e1bb7b6ba12e2df3e80d2b0a89a116703ce7180/src/HumanInteractome.py" ;
                                                               
                                                               dc:description """#!/usr/bin/env python
# coding: utf-8

\"\"\"
RDF generator for the Human Interactome (https://media.nature.com/full/nature-assets/srep/2016/161017/srep35241/extref/srep35241-s3.txt)
@version 1.0
@author Remzi Celebi
\"\"\"

import pandas as pd
import utils
from utils import Dataset, DataResource

from rdflib import Namespace
from rdflib import Graph, URIRef, Literal, RDF, ConjunctiveGraph
import datetime

DC = Namespace(\"http://purl.org/dc/terms/\")


def download():
    url = 'https://media.nature.com/full/nature-assets/srep/2016/161017/srep35241/extref/srep35241-s3.txt'
    return pd.read_csv(url,skiprows=25,sep='\\t')


interactome_df = download()

interactome_df.rename(columns={'# gene_ID_1':'gene_id_1',' gene_ID_2':'gene_id_2','data_source(s)':'source'}, inplace=True)

# save the file
interactome_df.to_csv('../data/external/human_interactome.tsv', sep='\\t', index=False)


interactome_df.index =interactome_df.apply(lambda row: 'http://bio2rdf.org/openpredict_resource:'+str(row['gene_id_1'])+'_'+str(row['gene_id_2']), axis=1)

interactome_df['gene_id_1'] = interactome_df['gene_id_1'].map(lambda x: 'http://bio2rdf.org/ncbigene:'+str(x))
interactome_df['gene_id_2'] = interactome_df['gene_id_2'].map(lambda x: 'http://bio2rdf.org/ncbigene:'+str(x))
interactome_df.rename(columns={'gene_id_1':'http://bio2rdf.org/irefindex_vocabulary:interactor_a'},inplace=True)

interactome_df.rename(columns={'gene_id_2':'http://bio2rdf.org/irefindex_vocabulary:interactor_b'},inplace=True)
interactome_df.rename(columns={'source':'http://bio2rdf.org/irefindex_vocabulary:source'},inplace=True)


column_types ={'http://bio2rdf.org/irefindex_vocabulary:interactor_a':'URI','http://bio2rdf.org/irefindex_vocabulary:interactor_b':'URI','http://bio2rdf.org/irefindex_vocabulary:source':'Literal'}
graphURI = URIRef('http://fairworkflows.org/openpredict_resource:fairworkflows.dataset.openpredict.interactome.R1')
g =  ConjunctiveGraph(identifier = graphURI)     
g=  utils.to_rdf(g, interactome_df, column_types, 'http://edamontology.org/topic_0128' )

def addMetaData(g, graphURI):
    #generate dataset
    data_source = Dataset(qname=graphURI, graph = g)
    data_source.setURI(graphURI)
    data_source.setTitle('The Human Interactome Dataset')
    data_source.setDescription('Human Interactome data used in \"Uncovering Disease-Disease Relationships Through The Human Interactome\" study')
    data_source.setPublisher('https://science.sciencemag.org/')
    data_source.setPublisherName('American Association for the Advancement of Science')
    data_source.addRight('no-commercial')
    data_source.addRight('use')
    data_source.addTheme('http://www.wikidata.org/entity/Q896177')
    data_source.addTheme('http://www.wikidata.org/entity/Q25113323')
    data_source.setLicense('https://www.sciencemag.org/about/terms-service')
    data_source.setHomepage('https://dx.doi.org/10.1126%2Fscience.1257601')
    data_source.setVersion('1.0')


    #generate dataset distribution
    data_dist = DataResource(qname=graphURI, graph = data_source.toRDF())
    data_dist.setURI('https://media.nature.com/full/nature-assets/srep/2016/161017/srep35241/extref/srep35241-s3.txt')
    data_dist.setTitle('The Human Interactome Dataset (srep35241-s3.txt)')
    data_dist.setLicense('https://www.sciencemag.org/about/terms-service')
    data_dist.setVersion('1.0')
    data_dist.setFormat('text/tab-separated-value')
    data_dist.setMediaType('text/tab-separated-value')
    data_dist.setPublisher('https://science.sciencemag.org/')
    data_dist.addRight('no-commercial')
    data_dist.addRight('use')
    data_dist.setRetrievedDate(datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"))
    data_dist.setDataset(data_source.getURI())

    #generate RDF data distrubtion
    rdf_dist = DataResource(qname=graphURI, graph = data_dist.toRDF() )
    rdf_dist.setURI('https://github.com/fair-workflows/openpredict/blob/master/data/rdf/human_interactome.nq.gz')
    rdf_dist.setTitle('RDF Version of the Human Interactome')
    rdf_dist.setLicense('http://creativecommons.org/licenses/by/3.0/')
    rdf_dist.setVersion('1.0')
    rdf_dist.setFormat('application/n-quads')
    rdf_dist.setMediaType('application/n-quads')
    rdf_dist.addRight('use-share-modify')
    rdf_dist.addRight('by-attribution')
    rdf_dist.addRight('restricted-by-source-license')
    rdf_dist.setCreateDate(datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"))
    rdf_dist.setCreator('https://github.com/fair-workflows/openpredict/src/HumanInteractome.py')
    rdf_dist.setDownloadURL('https://github.com/fair-workflows/openpredict/blob/master/data/rdf/human_interactome.nq.gz')
    rdf_dist.setDataset(data_dist.getURI())
      
    return rdf_dist.toRDF()

g = addMetaData(g, graphURI)


outfile ='../data/rdf/human_interactome.nq'
g.serialize(outfile, format='nquads')
print('RDF is generated at '+outfile)



""" ;
                                                               
                                                               dc:language :ComputerLanguage_Python_3.7 ;
                                                               
                                                               prov:wasRevisionOf opredict:Plan_Download_and_save_human_interactome_barabasi ;
                                                               
                                                               prov:qualifiedUsage opredict:Usage_Fetch_download_Human_interactome_barabasi_to_variable .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Download_and_save_mesh_annotation

opredict:Plan_Download_and_save_mesh_annotation rdf:type p-plan:Plan ,
                                                         owl:NamedIndividual ;
                                                
                                                rdfs:label "Download and save drug indication gold standard (http://www.paccanarolab.org/static_content/disease_similarity/mim2mesh.tsv)" ;
                                                
                                                dc:description """#!/usr/bin/env python
# coding: utf-8
\"\"\"
RDF generator for the PREDICT drug indication gold standard (http://www.paccanarolab.org/static_content/disease_similarity/mim2mesh.tsv)
@version 1.0
@author Remzi Celebi
\"\"\"


import pandas as pd
from csv import reader
import utils
from utils import Dataset, DataResource
from rdflib import Graph, URIRef, Literal, RDF, ConjunctiveGraph
from rdflib import Namespace
import datetime


DC = Namespace(\"http://purl.org/dc/terms/\")


url = 'http://www.paccanarolab.org/static_content/disease_similarity/mim2mesh.tsv'
df = pd.read_csv(url,header=None)
#save the original file
df.to_csv('../data/external/mim2mesh.tsv', sep=',', index=False, header=None)


omim_annots =[]
with open('../data/external/mim2mesh.tsv','r') as mim2mesh_file:
    for row in mim2mesh_file:
        line = row.strip().split('\\t')
        omim =line[0]
        for i in range(1,len(line)):
            omim_annots.append([omim,line[i]])

mim2mesh_df = pd.DataFrame(omim_annots, columns=['disease','annotation'])

mim2mesh_df['disease'] = mim2mesh_df['disease'].map(lambda x: 'http://bio2rdf.org/omim:'+str(x))
mim2mesh_df['annotation'] = mim2mesh_df['annotation'].map(lambda x: 'http://bio2rdf.org/mesh:'+str(x))
mim2mesh_df = mim2mesh_df.set_index('disease', drop=True)
mim2mesh_df.rename(columns={'annotation':'http://semanticscience.org/resource/SIO_000255'},inplace=True)
column_types ={'http://semanticscience.org/resource/SIO_000255':'URI'}
graphURI = URIRef('http://fairworkflows.org/openpredict_resource:fairworkflows.dataset.openpredict.meshannot.R1')
    
g = ConjunctiveGraph(identifier = graphURI )     
g =  utils.to_rdf(g, mim2mesh_df, column_types, 'http://bio2rdf.org/omim_vocabulary:Phenotype' )

def addMetaData(g, graphURI):
    #generate dataset
    data_source = Dataset(qname=graphURI, graph = g)
    data_source.setURI(graphURI)
    data_source.setTitle('Mesh Annotations for OMIM diseases')
    data_source.setDescription('This dataset contains the MeSH terms associated with the publications referenced in OMIM. This dataset is used in  \" https://doi.org/10.1038/srep17658\"')
    data_source.setPublisher('http://www.paccanarolab.org')
    data_source.setPublisherName('the Paccanaro Lab')
    data_source.addRight('use-share-modify')
    data_source.addTheme('http://www.wikidata.org/entity/Q199897')
    data_source.addTheme('http://www.wikidata.org/entity/Q857525')
    data_source.setLicense('http://creativecommons.org/licenses/by/4.0/')
    data_source.setHomepage('http://www.paccanarolab.org/disease_similarity/')
    data_source.setVersion('1.0')


    #generate dataset distribution
    data_dist = DataResource(qname=graphURI, graph = data_source.toRDF())
    data_dist.setURI('http://www.paccanarolab.org/static_content/disease_similarity/mim2mesh.tsv')
    data_dist.setTitle('Mesh Annotations by the Paccanaro Lab(mim2mesh.tsv)')
    data_dist.setLicense('http://creativecommons.org/licenses/by/4.0/')
    data_dist.setVersion('1.0')
    data_dist.setFormat('text/tab-separated-value')
    data_dist.setMediaType('text/tab-separated-value')
    data_dist.setPublisher('http://www.paccanarolab.org')
    data_dist.addRight('use-share-modify')
    data_dist.setRetrievedDate(datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"))
    data_dist.setDataset(data_source.getURI())

    #generate RDF data distrubtion
    rdf_dist = DataResource(qname=graphURI, graph = data_dist.toRDF() )
    rdf_dist.setURI('https://github.com/fair-workflows/openpredict/blob/master/data/rdf/omim_mesh_annotations.nq.gz')
    rdf_dist.setTitle('RDF Version of the MESH Annotations for OMIM diseases')
    rdf_dist.setLicense('http://creativecommons.org/licenses/by/3.0/')
    rdf_dist.setVersion('1.0')
    rdf_dist.setFormat('application/n-quads')
    rdf_dist.setMediaType('application/n-quads')
    rdf_dist.addRight('use-share-modify')
    rdf_dist.addRight('by-attribution')
    rdf_dist.addRight('restricted-by-source-license')
    rdf_dist.setCreateDate(datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"))
    rdf_dist.setCreator('https://github.com/fair-workflows/openpredict/src/RDFConversionOfMeshAnnotation.py')
    rdf_dist.setDownloadURL('https://github.com/fair-workflows/openpredict/blob/master/data/rdf/omim_mesh_annotations.nq.gz')
    rdf_dist.setDataset(data_dist.getURI())
      
    return rdf_dist.toRDF()


g= addMetaData(g, graphURI)

outfile ='../data/rdf/omim_mesh_annotations.nq'
g.serialize(outfile, format='nquads')
print('RDF is generated at '+outfile)


""" ;
                                                
                                                dcat:downloadURL "https://github.com/fair-workflows/openpredict/blob/2e1bb7b6ba12e2df3e80d2b0a89a116703ce7180/src/RDFConversionOfMeshAnnotation.py" ;
                                                
                                                dc:language :ComputerLanguage_Python_3.7 ;
                                                
                                                prov:qualifiedUsage opredict:Usage_Fetch_download_mesh_annotation_to_variable .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Download_and_save_phenotype_annotations

opredict:Plan_Download_and_save_phenotype_annotations rdf:type p-plan:Plan ,
                                                               owl:NamedIndividual ;
                                                      
                                                      rdfs:label "Download and save phenotype annotations " ;
                                                      
                                                      dc:description """1-Download from:
http://compbio.charite.de/jenkins/job/hpo.annotations/lastStableBuild/artifact/misc/phenotype_annotation_hpoteam.tab
2-Save file as:
/input/phenotype_annotation_hpoteam.tab""" ;
                                                      
                                                      dc:language :LinguisticSystem_xsd_language_English ;
                                                      
                                                      pwo:hasFirstStep opredict:Step_Download_phenotype_annotations .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Download_and_save_phenotype_annotations_v02

opredict:Plan_Download_and_save_phenotype_annotations_v02 rdf:type p-plan:Plan ,
                                                                   owl:NamedIndividual ;
                                                          
                                                          rdfs:label "Download and save phenotype annotations " ;
                                                          
                                                          dcat:downloadURL "https://raw.githubusercontent.com/fair-workflows/openpredict/master/src/OMIMHpoAnnotations.py?token=AB7DEPUIR4M6G6AKGFIIBF25H4GWC" ;
                                                          
                                                          dc:description """#!/usr/bin/env python
# coding: utf-8

\"\"\"
RDF generator for the OMIM HPO Annotations (http://compbio.charite.de/jenkins/job/hpo.annotations/lastSuccessfulBuild/artifact/misc/phenotype_annotation_hpoteam.tab)
@version 1.0
@author Remzi Celebi
\"\"\"


import pandas as pd
from csv import reader
import utils
from utils import Dataset, DataResource
from rdflib import Graph, URIRef, Literal, RDF, ConjunctiveGraph
from rdflib import Namespace
import datetime

DC = Namespace(\"http://purl.org/dc/terms/\")


url = 'http://compbio.charite.de/jenkins/job/hpo.annotations/lastSuccessfulBuild/artifact/misc/phenotype_annotation_hpoteam.tab'
hpoannot_df = pd.read_csv(url,sep='\\t', header=None)

#save the file
hpoannot_df.to_csv('../data/external/phenotype_annotation_hpoteam.tab', sep='\\t', index=False, header=None)

#preprocessing
hpoannot_df.rename(columns={0:'DB',1:'DB_Object_ID',4:'HPO_ID'}, inplace=True)
hpoannot_df = hpoannot_df[['DB','DB_Object_ID','HPO_ID']]
hpoannot_df= hpoannot_df[hpoannot_df.DB =='OMIM']
hpoannot_df.drop(columns=['DB'], inplace=True)

hpoannot_df['DB_Object_ID'] = hpoannot_df['DB_Object_ID'].map(lambda x: 'http://bio2rdf.org/omim:'+str(x))
hpoannot_df['HPO_ID']= hpoannot_df['HPO_ID'].map(lambda x: 'http://bio2rdf.org/hpo:'+str(x[3:]))
hpoannot_df = hpoannot_df.set_index('DB_Object_ID', drop=True)
hpoannot_df.rename(columns={'HPO_ID':'http://semanticscience.org/resource/SIO_000255'},inplace=True)

column_types ={'http://semanticscience.org/resource/SIO_000255':'URI'}
graphURI = URIRef('http://fairworkflows.org/openpredict_resource:fairworkflows.dataset.openpredict.hpoannot.R1')
g = ConjunctiveGraph(identifier = graphURI)     

g=  utils.to_rdf(g, hpoannot_df, column_types, 'http://bio2rdf.org/omim_vocabulary:Phenotype' )

def addMetaData(g, graphURI):
    #generate dataset
    data_source = Dataset(qname=graphURI, graph = g)
    data_source.setURI(graphURI)
    data_source.setTitle('Phenotype annotatations by the HPO-team')
    data_source.setDescription('This dataset contains manual and semi-automated annotations created by the HPO-team. These are annotations of OMIM-, Orphanet-, and DECIPHER-entries')
    data_source.setPublisher('https://monarchinitiative.org/')
    data_source.setPublisherName('Monarch Initiative')
    data_source.addRight('use')
    data_source.addTheme('http://www.wikidata.org/entity/Q17027854')
    data_source.addTheme('http://www.wikidata.org/entity/Q45314346')
    data_source.setLicense('https://hpo.jax.org/app/license')
    data_source.setHomepage('https://hpo.jax.org/app/download/annotation')
    data_source.setVersion('1.0')


    #generate dataset distribution
    data_dist = DataResource(qname=graphURI, graph = data_source.toRDF())
    data_dist.setURI('http://compbio.charite.de/jenkins/job/hpo.annotations/lastStableBuild/artifact/misc/phenotype_annotation.tab')
    data_dist.setTitle('Phenotypes annotated by the HPO-team (phenotype_annotation_hpoteam.tab)')
    data_dist.setLicense('https://hpo.jax.org/app/license')
    data_dist.setVersion('1.0')
    data_dist.setFormat('text/tab-separated-value')
    data_dist.setMediaType('text/tab-separated-value')
    data_dist.setPublisher('https://monarchinitiative.org/')
    data_dist.addRight('use')
    data_dist.setRetrievedDate(datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"))
    data_dist.setDataset(data_source.getURI())

    #generate RDF data distrubtion
    rdf_dist = DataResource(qname=graphURI, graph = data_dist.toRDF() )
    rdf_dist.setURI('https://github.com/fair-workflows/openpredict/blob/master/data/rdf/hpo_annotations.nq.gz')
    rdf_dist.setTitle('RDF Version of the OMIM HPO Annotations')
    rdf_dist.setLicense('http://creativecommons.org/licenses/by/3.0/')
    rdf_dist.setVersion('1.0')
    rdf_dist.setFormat('application/n-quads')
    rdf_dist.setMediaType('application/n-quads')
    rdf_dist.addRight('use-share-modify')
    rdf_dist.addRight('by-attribution')
    rdf_dist.addRight('restricted-by-source-license')
    rdf_dist.setCreateDate(datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"))
    rdf_dist.setCreator('https://github.com/fair-workflows/openpredict/src/OMIMHpoAnnotations.py')
    rdf_dist.setDownloadURL('https://github.com/fair-workflows/openpredict/blob/master/data/rdf/hpo_annotations.nq.gz')
    rdf_dist.setDataset(data_dist.getURI())
      
    return rdf_dist.toRDF()

g = addMetaData(g, graphURI)
outfile ='../data/rdf/hpo_annotations.nq'
g.serialize(outfile, format='nquads')
print('RDF is generated at '+outfile)

""" ;
                                                          
                                                          dc:language :LinguisticSystem_xsd_language_English ;
                                                          
                                                          prov:wasRevisionOf opredict:Plan_Download_and_save_phenotype_annotations ;
                                                          
                                                          prov:qualifiedUsage opredict:Usage_Fetch_download-_phenotype_annotations_to_variable_v02 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Download_and_save_pubchem_to_drugbank

opredict:Plan_Download_and_save_pubchem_to_drugbank rdf:type p-plan:Plan ,
                                                             owl:NamedIndividual ;
                                                    
                                                    rdfs:label "Download and save the mappings from Pubchem ids to Drugbank ids (https://raw.githubusercontent.com/dhimmel/drugbank/3e87872db5fca5ac427ce27464ab945c0ceb4ec6/data/mapping/pubchem.tsv)" ;
                                                    
                                                    dcat:downloadURL "https://github.com/fair-workflows/openpredict/blob/2e1bb7b6ba12e2df3e80d2b0a89a116703ce7180/src/RDFConversionOfPubchemMapping.py" ;
                                                    
                                                    dc:description """#!/usr/bin/env python
# coding: utf-8
\"\"\"
RDF generator for the mappings from Pubchem ids to Drugbank ids (https://raw.githubusercontent.com/dhimmel/drugbank/3e87872db5fca5ac427ce27464ab945c0ceb4ec6/data/mapping/pubchem.tsv)
@version 1.0
@author Remzi Celebi
\"\"\"


import pandas as pd
from csv import reader
import utils
from utils import Dataset, DataResource
from rdflib import Graph, URIRef, Literal, RDF, ConjunctiveGraph
from rdflib import Namespace
import datetime


DC = Namespace(\"http://purl.org/dc/terms/\")


url = 'https://raw.githubusercontent.com/dhimmel/drugbank/3e87872db5fca5ac427ce27464ab945c0ceb4ec6/data/mapping/pubchem.tsv'
drugbank_map_df = pd.read_csv(url, sep='\\t')

#save the original file
drugbank_map_df.to_csv('../data/external/pubchem.tsv', sep='\\t', index=False)


drugbank_map_df['drugbank_id'] = drugbank_map_df['drugbank_id'].map(lambda x: 'http://bio2rdf.org/drugbank:'+str(x))
drugbank_map_df['pubchem_id'] = drugbank_map_df['pubchem_id'].map(lambda x: 'http://bio2rdf.org/pubchem.compound:'+str(x))
drugbank_map_df = drugbank_map_df.set_index('drugbank_id', drop=True)
drugbank_map_df.rename(columns={'pubchem_id':'http://bio2rdf.org/openpredict_vocabulary:x-pubchemcompound'},inplace=True)

column_types ={'http://bio2rdf.org/openpredict_vocabulary:x-pubchemcompound':'URI'}
graphURI = URIRef('http://fairworkflows.org/openpredict_resource:fairworkflows.dataset.openpredict.pubchem.R1')
g = ConjunctiveGraph(identifier = graphURI)     

g = utils.to_rdf(g, drugbank_map_df, column_types, 'http://bio2rdf.org/drugbank:Drug' )


def addMetaData(g, graphURI):
    #generate dataset
    data_source = Dataset(qname=graphURI, graph = g)
    data_source.setURI(graphURI)
    data_source.setTitle('Pubchem mappings for Drugbank drugs')
    data_source.setDescription('DrugBank to PubChem mapping using InChI strings created by Daniel Himmelstein.')
    data_source.setPublisher('https://github.com/dhimmel')
    data_source.setPublisherName('Daniel Himmelstein')
    data_source.addRight('use-share-modify')
    data_source.addTheme('http://www.wikidata.org/entity/Q278487')
    data_source.addTheme('http://www.wikidata.org/entity/Q1122544')
    data_source.setLicense('http://creativecommons.org/licenses/by/4.0/')
    data_source.setHomepage('https://github.com/dhimmel/drugbank/blob/gh-pages/pubchem-map.ipynb')
    data_source.setVersion('1.0')


    #generate dataset distribution
    data_dist = DataResource(qname=graphURI, graph = data_source.toRDF())
    data_dist.setURI('https://raw.githubusercontent.com/dhimmel/drugbank/3e87872db5fca5ac427ce27464ab945c0ceb4ec6/data/mapping/pubchem.tsv')
    data_dist.setTitle('Pubchem mappings for Drugbank drugs (pubchem.tsv)')
    data_dist.setLicense('http://creativecommons.org/licenses/by/4.0/')
    data_dist.setVersion('1.0')
    data_dist.setFormat('text/tab-separated-value')
    data_dist.setMediaType('text/tab-separated-value')
    data_dist.setPublisher('https://github.com/dhimmel')
    data_dist.addRight('use-share-modify')
    data_dist.setRetrievedDate(datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"))
    data_dist.setDataset(data_source.getURI())

    #generate RDF data distrubtion
    rdf_dist = DataResource(qname=graphURI, graph = data_dist.toRDF() )
    rdf_dist.setURI('https://github.com/fair-workflows/openpredict/blob/master/data/rdf/pubchem_mapping.nq.gz')
    rdf_dist.setTitle('RDF Version of the Pubchem mappings for Drugbank drugs')
    rdf_dist.setLicense('http://creativecommons.org/licenses/by/3.0/')
    rdf_dist.setVersion('1.0')
    rdf_dist.setFormat('application/n-quads')
    rdf_dist.setMediaType('application/n-quads')
    rdf_dist.addRight('use-share-modify')
    rdf_dist.addRight('by-attribution')
    rdf_dist.addRight('restricted-by-source-license')
    rdf_dist.setCreateDate(datetime.datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"))
    rdf_dist.setCreator('https://github.com/fair-workflows/openpredict/src/RDFConversionOfPubchemMapping.py')
    rdf_dist.setDownloadURL('https://github.com/fair-workflows/openpredict/blob/master/data/rdf/pubchem_mapping.nq.gz')
    rdf_dist.setDataset(data_dist.getURI())
      
    return rdf_dist.toRDF()


g = addMetaData(g, graphURI)

outfile ='../data/rdf/pubchem_mapping.nq'
g.serialize(outfile, format='nquads')
print('RDF is generated at '+outfile)



""" ;
                                                    
                                                    dc:language :ComputerLanguage_Python_3.7 ;
                                                    
                                                    prov:qualifiedUsage opredict:Usage_Fetch_download_pubchem_to_drugbank .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Download_human_interactome_barabasi

opredict:Plan_Download_human_interactome_barabasi rdf:type p-plan:Plan ,
                                                           owl:NamedIndividual ;
                                                  
                                                  rdfs:label "Download human interactome barabasi" ;
                                                  
                                                  dc:description "Download human interactome barabasi" ;
                                                  
                                                  dc:language :LinguisticSystem_xsd_language_English ;
                                                  
                                                  prov:qualifiedUsage opredict:Usage_Fetch_download_Human_interactome_barabasi_to_variable .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Download_phenotype_annotations

opredict:Plan_Download_phenotype_annotations rdf:type p-plan:Plan ,
                                                      owl:NamedIndividual ;
                                             
                                             rdfs:label "Download phenotype annotations" ;
                                             
                                             dc:description "Download phenotype annotations" ;
                                             
                                             dc:language :LinguisticSystem_xsd_language_English ;
                                             
                                             prov:used opredict:Distribution_phenotype_annotation_hpoteam.tab_Build_1263 ;
                                             
                                             prov:qualifiedUsage opredict:Usage_Fetch_download-_phenotype_annotations_to_variable .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Execute_FAIRifier_process_to_human_interactome_barabasi

opredict:Plan_Execute_FAIRifier_process_to_human_interactome_barabasi rdf:type p-plan:Plan ,
                                                                               owl:NamedIndividual ;
                                                                      
                                                                      rdfs:label "Execute FAIRifier process to human interactome barabasi" ;
                                                                      
                                                                      dc:description "Execute FAIRifier process to human interactome barabasi" ;
                                                                      
                                                                      dc:language :LinguisticSystem_xsd_language_English .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Execute_FAIRifier_process_to_phenotype_annotations

opredict:Plan_Execute_FAIRifier_process_to_phenotype_annotations rdf:type p-plan:Plan ,
                                                                          owl:NamedIndividual ;
                                                                 
                                                                 rdfs:label "Execute FAIRifier process to phenotype annotations" ;
                                                                 
                                                                 dc:description "Execute FAIRifier process to phenotype annotations" ;
                                                                 
                                                                 dc:language :LinguisticSystem_xsd_language_English .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Execute_queries_and_create_input_files_tab

opredict:Plan_Execute_queries_and_create_input_files_tab rdf:type p-plan:Plan ,
                                                                  owl:NamedIndividual ;
                                                         
                                                         pwo:hasFirstStep opredict:Step_Execute_query_DRUG_SIDE_EFFECTS_from_SIDER ,
                                                                          opredict:Step_Execute_query_DRUG_SMILES_from_DRUGBANK ,
                                                                          opredict:Step_Execute_query_DRUG_TARGETS_from_DRUGBANK_and_KEGG .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Execute_query_DRUG_SIDE_EFFECTS_from_SIDER

opredict:Plan_Execute_query_DRUG_SIDE_EFFECTS_from_SIDER rdf:type p-plan:Plan ,
                                                                  owl:NamedIndividual ;
                                                         
                                                         rdfs:label "Execute query DRUG SIDE EFFECTS from SIDER" ;
                                                         
                                                         dc:description "Execute query DRUG SIDE EFFECTS from SIDER" ;
                                                         
                                                         dc:language :LinguisticSystem_xsd_language_English ;
                                                         
                                                         prov:qualifiedUsage opredict:QueryExecution_DRUG_SIDE_EFFECTS_from_SIDER .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Execute_query_DRUG_SMILES_from_DRUGBANK

opredict:Plan_Execute_query_DRUG_SMILES_from_DRUGBANK rdf:type p-plan:Plan ,
                                                               owl:NamedIndividual ;
                                                      
                                                      rdfs:label "Execute query DRUG SMILES from DRUGBANK" ;
                                                      
                                                      dc:description "Execute query DRUG SMILES from DRUGBANK" ;
                                                      
                                                      dc:language :LinguisticSystem_xsd_language_English ;
                                                      
                                                      prov:qualifiedUsage opredict:QueryExecution_DRUG_SMILES_from_DRUGBANK .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Execute_query_DRUG_TARGETS_-from_DRUGBANK_and_KEGG

opredict:Plan_Execute_query_DRUG_TARGETS_-from_DRUGBANK_and_KEGG rdf:type p-plan:Plan ,
                                                                          owl:NamedIndividual ;
                                                                 
                                                                 rdfs:label "Execute query DRUG TARGETS -from DRUGBANK and KEGG" ;
                                                                 
                                                                 dc:description "Execute query DRUG TARGETS -from DRUGBANK and KEGG" ;
                                                                 
                                                                 dc:language :LinguisticSystem_xsd_language_English ;
                                                                 
                                                                 prov:qualifiedUsage opredict:QueryExecution_DRUG_TARGETS_from_DRUGBANK_and_KEGG .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_OpenPREDICT_Spec

opredict:Plan_Feature_generation_01_Pipeline_OpenPREDICT_Spec rdf:type p-plan:Plan ,
                                                                       owl:NamedIndividual ;
                                                              
                                                              rdfs:label "Specification of feature generation" ;
                                                              
                                                              pwo:hasFirstStep opredict:Step_Feature_generation_01_Pipeline_Source_Cell01_Spec .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_OpenPREDICT_ipynb

opredict:Plan_Feature_generation_01_Pipeline_OpenPREDICT_ipynb rdf:type p-plan:Plan ,
                                                                        owl:NamedIndividual ;
                                                               
                                                               rdfs:label "Feature generation: Pipeline OpenPREDICT.ipynb" ;
                                                               
                                                               dc:description "Feature generation: Pipeline OpenPREDICT.ipynb" ;
                                                               
                                                               dcat:downloadURL "https://github.com/fair-workflows/openpredict/blob/975324eb5263bc0d5d709f833baca31952817844/FeatureGeneration.ipynb" ;
                                                               
                                                               dc:language :ComputerLanguage_Python_3.7 ;
                                                               
                                                               pwo:hasFirstStep opredict:Step_Feature_generation_01_Pipeline_Source_Cell00 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell00

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell00 rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ,
                                                                    reprod:Cell ;
                                                           
                                                           dc:description """import itertools
import math
import numpy as np
import pandas as pd""" ;
                                                           
                                                           dc:language :ComputerLanguage_Python_3.7 ;
                                                           
                                                           prov:qualifiedUsage opredict:Link_Pipeline_Source_Cell0_Variable .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell01

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell01 rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ,
                                                                    reprod:Cell ;
                                                           
                                                           dc:description """drug_target = pd.read_csv('data/input/drugbank-drug-target.csv')
target_seq = pd.read_csv('data/input/drugbank-target-seq.csv')
drug_goa = pd.read_csv('data/input/drugbank-drug-goa.csv')
drug_smiles = pd.read_csv('data/input/drugbank-drug-smiles.csv')
drug_se = pd.read_csv('data/input/drugbank-sider-se.csv')
drug_smiles.head()""" ;
                                                           
                                                           dc:language :ComputerLanguage_Python_3.7 ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell01_Spec .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell01_Spec

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell01_Spec rdf:type p-plan:Plan ,
                                                                         owl:NamedIndividual ;
                                                                
                                                                dc:description "Load input datasets" ;
                                                                
                                                                dc:language :LinguisticSystem_xsd_language_English .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell02

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell02 rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ,
                                                                    reprod:Cell ;
                                                           
                                                           dc:description """print (\"%d drugs have all Target feature \"%len(  drug_target.drugid.unique()))
print (\"%d drugs have Target GOA feature \"%len( drug_goa.drugid.unique()))
print (\"%d drugs have Fingerprint feature \"%len(  drug_smiles.drugid.unique()))
print (\"%d drugs have Sideeffect feature \"%len( drug_se.drugid.unique()))""" ;
                                                           
                                                           dc:language :ComputerLanguage_Python_3.7 ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell01_Spec .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell03

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell03 rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ,
                                                                    reprod:Cell ;
                                                           
                                                           dc:description """drug_target_seq = drug_target.merge(target_seq, on= ['geneid'])
print (\"%d drugs have Target SEQ feature \"%len( drug_target_seq.drugid.unique()))""" ;
                                                           
                                                           dc:language :ComputerLanguage_Python_3.7 ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell01_Spec .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell04

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell04 rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ,
                                                                    reprod:Cell ;
                                                           
                                                           dc:description """a=drug_goa['drugid'].unique()
b=drug_target['drugid'].unique()
c=drug_smiles['drugid'].unique()
d=drug_se['drugid'].unique()
commonDrugs= set(a).intersection(b).intersection(c).intersection(d)
print (len(a),len(b),len(c),len(d))
print (len(commonDrugs))""" ;
                                                           
                                                           dc:language :ComputerLanguage_Python_3.7 ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell01_Spec .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell05

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell05 rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ,
                                                                    reprod:Cell ;
                                                           
                                                           dc:description "drug_se.head()" ;
                                                           
                                                           dc:language :ComputerLanguage_Python_3.7 ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell01_Spec .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell06

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell06 rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ,
                                                                    reprod:Cell ;
                                                           
                                                           dc:description """# ## Drug side effect similarity¶
# ## calculating Jaccard coefficient based on drug sideefects

drugSEDict = {k: g[\"umlsid\"].tolist() for k,g in drug_se.groupby(\"drugid\")}
scores = []

for comb in itertools.combinations(commonDrugs,2):
    drug1 =comb[0]
    drug2 =comb[1]

    sideeffects1 = drugSEDict[drug1]
    sideeffects2 = drugSEDict[drug2]
    c = set(sideeffects1).intersection(sideeffects2)
    u = set(sideeffects1).union(sideeffects2)
    score = len(c)/float(len(u))
    scores.append([drug1, drug2, score])""" ;
                                                           
                                                           dc:language :ComputerLanguage_Python_3.7 ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell06_Spec .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell06_Spec

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell06_Spec rdf:type p-plan:Plan ,
                                                                         owl:NamedIndividual ;
                                                                
                                                                dc:description "Calculate scores between pairs of drugs and compute similarity feature" ;
                                                                
                                                                dc:language :LinguisticSystem_xsd_language_English .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell07

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell07 rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ,
                                                                    reprod:Cell ;
                                                           
                                                           dc:description "drug_se_df = pd.DataFrame(scores, columns =['Drug1','Drug2','SE-SIM'])" ;
                                                           
                                                           dc:language :ComputerLanguage_Python_3.7 ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell06_Spec .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell08

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell08 rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ,
                                                                    reprod:Cell ;
                                                           
                                                           dc:description "drug_se_df.head()" ;
                                                           
                                                           dc:language :ComputerLanguage_Python_3.7 ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell06_Spec .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell09

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell09 rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ,
                                                                    reprod:Cell ;
                                                           
                                                           dc:description "drug_se_df.to_csv('data/features/drugs-se-sim.csv', index=False)" ;
                                                           
                                                           dc:language :ComputerLanguage_Python_3.7 ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell06_Spec .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell10

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell10 rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ,
                                                                    reprod:Cell ;
                                                           
                                                           dc:description """# ## PPI based drug-drug similarity
# ###  calculate distance between drugs on protein-protein interaction network
#!pip install -q networkx==1.11

# calcuate pairwise distance between proteins in the human PPI network
import networkx as nx
G= nx.Graph()
with open('data/input/human-interactome.csv') as ppiFile: # human PPI network
    next(ppiFile) # skip first line
    drugs=set()
    for line in ppiFile:
        line=line.replace(\"'\",\"\").strip().split(',')
        G.add_edge(line[0],line[1])

ppi=nx.shortest_path_length(G)

def grapDistance(ppi, target1, target2):
    \"\"\"
    return the shortest path between two proteins in the PPI network
    ppi : dictonary that contains distance of PPI 
    target1 : first protein name
    target2 : second protein name
    \"\"\"
    maxValue = 9999
    if target1 not in ppi:
        return maxValue
    else:
        if target2 not in ppi[target1]:
            return maxValue
        else:
            return ppi[target1][target2]

drug_targetlist = {k: g[\"geneid\"].tolist() for k,g in drug_target.groupby(\"drugid\")}
values = []

# calculate PPI-based pairwise drug similarity (Closeness)
# First distances between proteins were transformed to similarity values using the formula described in Perlman et al (2011)
# A, b were chosen according to Perlman et al (2011) to be 0.9 × e and 1, respectively.
# Self similarity was assigned a value of 1.

# For drugs similarities, maximal values between the two lists of associated genes were averaged 
# (taking into account both sides for symmetry).

A = 0.9
b = 1
for comb in itertools.combinations(commonDrugs,2) :
    drug1 = comb[0]
    drug2 = comb[1]
    targetList1 = drug_targetlist[drug1]
    targetList2 = drug_targetlist[drug2]
    allscores =[]
    for target1 in sorted(targetList1):
        genescores = []
        for target2 in sorted(targetList2):
            target1 =str(target1)
            target2 =str(target2)    
            if target1 == target2:
                score=1.0
            else:
                score = A*math.exp(-b* grapDistance(ppi, target1, target2))
            genescores.append(score)
    # add maximal values between the two lists of associated genes 
    allscores.append(max(genescores))
    if len(allscores) ==0: continue
    #average the maximal scores 
    maxScore =np.mean(allscores)
    if maxScore >= 0:
        values.append([drug1, drug2, maxScore])

drug_ppi_df = pd.DataFrame(values, columns =['Drug1','Drug2','PPI-SIM'])

drug_ppi_df.head()

drug_ppi_df.to_csv('data/features/drugs-ppi-sim.csv', index=False)""" ;
                                                           
                                                           dc:language :ComputerLanguage_Python_3.7 ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell10_Spec .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell10_Spec

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell10_Spec rdf:type p-plan:Plan ,
                                                                         owl:NamedIndividual ;
                                                                
                                                                dc:description "Install NetworkX version 1.11" ;
                                                                
                                                                dc:language :LinguisticSystem_xsd_language_English .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell11

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell11 rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ,
                                                                    reprod:Cell ;
                                                           
                                                           dc:description """## Drug fingerprint similarity
### calculating MACS based fingerprint (substructure) similarity

# install following packages oddt and openbabel using conda
#!conda install -c oddt oddt
#!conda install -c openbabel openbabel

from oddt import toolkit
from oddt import fingerprints

import pandas as pd
import numpy as np
import itertools

drug_smiles = drug_smiles[drug_smiles.drugid.isin(commonDrugs)]
drug_smiles.head()

drug_smiles.head()

#Create a dictionary of chemicals to be compared:
input_dict = dict()
for index,line in drug_smiles.iterrows():
    id = line['drugid']
    
    smiles = line['smiles']
    mol = toolkit.readstring(format='smiles',string=smiles)
    fp =mol.calcfp(fptype='MACCS').raw
    input_dict[id] = fp

def tanimoto_score(fp1, fp2):
    return np.sum(fp1 &  fp2) / np.sum(fp1 | fp2)

sim_values=[]
for chemical1, chemical2 in itertools.combinations(input_dict.keys(),2):
    TC= tanimoto_score(input_dict[chemical1], input_dict[chemical2])
    if chemical1 != chemical2:
        sim_values.append([chemical1, chemical2, TC])

chem_sim_df = pd.DataFrame(sim_values, columns=['Drug1','Drug2','TC'])
chem_sim_df.head()

chem_sim_df.to_csv('data/features/drugs-fingerprint-sim.csv', index=False)""" ;
                                                           
                                                           dc:language :ComputerLanguage_Python_3.7 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell12

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell12 rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ,
                                                                    reprod:Cell ;
                                                           
                                                           dc:description """## Drug target sequence similarity
### Calculation of SmithWaterman sequence alignment scores

def fasta2seq(lines):
    lines = lines[lines.index('\\n')+1:]
    lines =lines.replace('\\n','')
    return lines

target_seq.seq =target_seq.seq.map(fasta2seq)
target_seq = target_seq[target_seq.geneid.isin(drug_target.geneid)]

target_seq.head()

target_seq_file=\"data/intermediate/drugbank-target-seq-trimmed.tab\"
target_seq.to_csv(target_seq_file,'\\t',index=False,header=None)

target_seq_file=\"data/intermediate/drugbank-target-seq-trimmed.tab\"
target_seq_sim_file=\"data/intermediate/target-target-seq-sim-biojava.tab\"

!java -cp .:lib/smithwaterman.jar:lib/biojava-alignment-4.0.0.jar:lib/biojava-core-4.0.0.jar:lib/slf4j-api-1.7.10.jar biojava.targetseq.CalcLocalAlign {target_seq_file} > {target_seq_sim_file}

targetSeqSim=dict()
target_seq_sim_file=\"data/intermediate/target-target-seq-sim-biojava.tab\"
with open(target_seq_sim_file) as tarSimfile:
    for row in tarSimfile:
        row = row.strip().split(\"\\t\")
        t1 =row[0]
        t2 = row[1]
        sim = float(row[2])
        targetSeqSim[(t1,t2)]=sim
        targetSeqSim[(t2,t1)]=sim

drug_targetlist = {k: g[\"geneid\"].tolist() for k,g in drug_target_seq.groupby(\"drugid\")}
values = []

for comb in itertools.combinations(commonDrugs,2) :
    drug1 = comb[0]
    drug2 = comb[1]
    targetList1 = drug_targetlist[drug1]
    targetList2 = drug_targetlist[drug2]
    allscores =[]
    for target1 in sorted(targetList1):
        genescores = []
        for target2 in sorted(targetList2):
            target1 =str(target1)
            target2 =str(target2)    
            if target1 == target2:
                score=1.0
            else:
                score = targetSeqSim[(target1,target2)] / (math.sqrt(targetSeqSim[(target1,target1)]) * math.sqrt(targetSeqSim[(target2,target2)]))
            genescores.append(score)
    # add maximal values between the two lists of associated genes 
    allscores.append(max(genescores))
    if len(allscores) ==0: continue
    #average the maximal scores 
    maxScore =np.mean(allscores)
    values.append([drug1, drug2, maxScore])

drug_seq_df = pd.DataFrame(values, columns =['Drug1','Drug2','TARGETSEQ-SIM'])

drug_seq_df.head()

drug_seq_df.to_csv('data/features/drugs-target-seq-sim.csv', index=False)""" ;
                                                           
                                                           dc:language :ComputerLanguage_Python_3.7 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell13

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell13 rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ,
                                                                    reprod:Cell ;
                                                           
                                                           dc:description """## GO based drug-drug similarity

drug_goa.drugid = drug_goa.drugid.map(lambda d: 'http://purl.obolibrary.org/obo/'+d)
drug_goa.to_csv('data/intermediate/drug_goa.txt',sep='\\t', header=False, index=False)

#cleaning GO annotations
rows = []
for comb in itertools.combinations(commonDrugs,2):
    t1=comb[0]
    t2=comb[1]
    rows.append(['http://purl.obolibrary.org/obo/'+str(t1),'http://purl.obolibrary.org/obo/'+str(t2)])

drug_query_df = pd.DataFrame(rows, columns =['Drug1','Drug2'])
drug_query_df.to_csv('data/intermediate/drug.gene.go.query',sep='\\t', header=False, index=False)

### run the semantic relatedness library with given query and anotation file it will produce a file named: gene.go.sim.out
!java -jar lib/sml-toolkit-0.9.jar -t sm -xmlconf data/conf/sml.gene.go.conf

go_sim_df = pd.read_csv('data/intermediate/drug.gene.go.sim.out',sep='\\t')
go_sim_df.head()

go_sim_df.rename(columns={'e1':'Drug1','e2':'Drug2','bma':'GO-SIM'}, inplace=True)

go_sim_df.Drug1 = go_sim_df.Drug1.str.replace('http://purl.obolibrary.org/obo/','')
go_sim_df.Drug2 = go_sim_df.Drug2.str.replace('http://purl.obolibrary.org/obo/','')
go_sim_df.head()

go_sim_df.to_csv('data/features/drugs-target-go-sim.csv')""" ;
                                                           
                                                           dc:language :ComputerLanguage_Python_3.7 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell14

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell14 rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ,
                                                                    reprod:Cell ;
                                                           
                                                           dc:description """## Disease Phenotype Similarity
### MESH term based Similarity

predict_df = pd.read_csv('data/input/openpredict-omim-drug.csv')
predict_df.head()

predict_df.rename(columns={'drugid':'Drug','omimid':'Disease'}, inplace=True)

gold_diseases = set( predict_df.Disease.unique())
print ('Gold std. diseases',len(gold_diseases))

mesh_ann = {}
allmeshterm = []
with open('data/input/omim-disease-mesh.csv') as meshfile:
    next(meshfile)
    for line in meshfile:
        line = line.strip().split(',')
        if len(line) != 2: continue
        di = line[0]
        mesh = line[1].split(',')
        mesh_ann[di]=mesh
        allmeshterm.extend(mesh)

vocabulary = list(set(allmeshterm))
len(vocabulary)

# create a co-occurrence matrix
co_mat = np.zeros((len(mesh_ann),len(vocabulary)))

commonDiseases = mesh_ann.keys()
mesh2id= { di:i for i,di in enumerate(mesh_ann.keys())}
# fill in the co-occurrence matrix
for key in mesh_ann:
    annotations = mesh_ann[key]
    col_index = [vocabulary.index(a) for a in annotations]
    co_mat[mesh2id[key],col_index] =1

def cosine_similarity(a,b):
    return  np.dot(a, b)/(np.linalg.norm(a)*np.linalg.norm(b))

values = []
for comb in itertools.combinations(commonDiseases,2) :
    disease1 = comb[0]
    disease2 = comb[1]
    sim = cosine_similarity(co_mat[mesh2id[disease1],:], co_mat[mesh2id[disease2],:])
    values.append([disease1, disease2, sim])

disease_pheno_df = pd.DataFrame(values, columns =['Disease1','Disease2','PHENO-SIM'])

disease_pheno_df.head()

disease_pheno_df.to_csv('data/features/diseases-pheno-sim.csv',index=False)
""" ;
                                                           
                                                           dc:language :ComputerLanguage_Python_3.7 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_01_Pipeline_Source_Cell15

opredict:Plan_Feature_generation_01_Pipeline_Source_Cell15 rdf:type p-plan:Plan ,
                                                                    owl:NamedIndividual ,
                                                                    reprod:Cell ;
                                                           
                                                           dc:description """## HPO based disease-disease similarity

# reading the hpo annotation file taken from compbio.charite.de/jennkins/jobs/hpo.annotations/
disease_hpo = pd.read_csv('data/input/omim-disease-hpo.csv')
disease_hpo.head()

disease_hpo.rename(columns={'diseaseid':'Disease','hpoid':'HPO'}, inplace=True)
disease_hpo.HPO= disease_hpo.HPO.str.replace('hpo','hp')

#disease_hpo[\"Disease\"] = disease_hpo[\"Disease\"].astype(str)

disease_hpo.head()

#gold_diseases = set(gold_ind_dc[\"OMIMID\"].unique()).union(gold_ind_sider[\"OMIMID\"].unique()).union(gold_ind.Disease.unique())
diseasesWithFeatures= set(disease_hpo.Disease.unique()).intersection( gold_diseases )
print (len(diseasesWithFeatures))
rows = []
for comb in itertools.combinations(diseasesWithFeatures,2):
    t1=comb[0]
    t2=comb[1]
    rows.append(['omim:'+str(t1),'omim:'+str(t2)])

disease_hpo[\"Disease\"]=disease_hpo[\"Disease\"].map(lambda d: 'omim:'+str(d))
disease_hpo.to_csv('data/intermediate/disease_hpo.txt',sep='\\t', header=False, index=False)

disease_query_df = pd.DataFrame(rows, columns =['Disease1','Disease2'])
disease_query_df.to_csv('data/intermediate/hpo.sml.omim.query',sep='\\t', header=False, index=False)

### run the semantic relatedness library with given query and anotation file it will produce a file named: hpo.sim.out
!java -jar lib/sml-toolkit-0.9.jar -t sm -xmlconf data/conf/sml.omim.hpo.conf

hpo_sim_df = pd.read_csv('data/intermediate/omim.hpo.sim.out',sep='\\t')

hpo_sim_df.head()

hpo_sim_df.rename(columns={'e1':'Disease1','e2':'Disease2','bma':'HPO-SIM'}, inplace=True)

hpo_sim_df.Disease1 = hpo_sim_df.Disease1.str.replace('omim:','')
hpo_sim_df.Disease2 = hpo_sim_df.Disease2.str.replace('omim:','')
hpo_sim_df.head()

hpo_sim_df.to_csv('data/features/diseases-hpo-sim.csv', index=False)""" ;
                                                           
                                                           dc:language :ComputerLanguage_Python_3.7 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02

opredict:Plan_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02 rdf:type p-plan:Plan ,
                                                                         owl:NamedIndividual ;
                                                                
                                                                rdfs:label "Feature generation: Download and Save Input.ipynb and FeatureGeneration.ipynb" ;
                                                                
                                                                dc:language :ComputerLanguage_Python_3.7 ;
                                                                
                                                                pwo:hasFirstStep opredict:Step_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_Download_and_Save_Input .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_Download_and_Save_Input

opredict:Plan_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_Download_and_Save_Input rdf:type p-plan:Plan ,
                                                                                                 owl:NamedIndividual ,
                                                                                                 reprod:Cell ;
                                                                                        
                                                                                        dc:description """# Download and Save Input Data

sparql_endpoint=\"https://graphdb.dumontierlab.com/repositories/openpredict\"
!curl -H \"Accept: text/csv\" --data-urlencode query@data/sparql/drugbank-drug-target.rq {sparql_endpoint} > data/input/drugbank-drug-target.csv

!curl -H \"Accept: text/csv\" --data-urlencode query@data/sparql/drugbank-target-seq.rq {sparql_endpoint} > data/input/drugbank-target-seq.csv

!curl -H \"Accept: text/csv\" --data-urlencode query@data/sparql/drugbank-drug-smiles.rq {sparql_endpoint} > data/input/drugbank-drug-smiles.csv

!curl -H \"Accept: text/csv\" --data-urlencode query@data/sparql/drugbank-drug-goa.rq {sparql_endpoint} > data/input/drugbank-drug-goa.csv

!curl -H \"Accept: text/csv\" --data-urlencode query@data/sparql/drugbank-sider-sideeffects.rq {sparql_endpoint} > data/input/drugbank-sider-se.csv

!curl -H \"Accept: text/csv\" --data-urlencode query@data/sparql/openpredict-omim-drug.rq {sparql_endpoint} > data/input/openpredict-omim-drug.csv

!curl -H \"Accept: text/csv\" --data-urlencode query@data/sparql/human-interactome.rq {sparql_endpoint} > data/input/human-interactome.csv

!curl -H \"Accept: text/csv\" --data-urlencode query@data/sparql/omim-disease-mesh.rq {sparql_endpoint} > data/input/omim-disease-mesh.csv

!curl -H \"Accept: text/csv\" --data-urlencode query@data/sparql/omim-disease-hpo.rq {sparql_endpoint} > data/input/omim-disease-hpo.csv

!curl -H \"Accept: text/csv\" --data-urlencode query@data/sparql/drugbank-drug-synonym.rq {sparql_endpoint} > data/input/drugbank-drug-synonym.csv

# Create Feature Matrix

import pandas as pd
drug_target = pd.read_csv('data/input/drugbank-drug-target.csv')
target_seq = pd.read_csv('data/input/drugbank-target-seq.csv')
drug_goa = pd.read_csv('data/input/drugbank-drug-goa.csv')
drug_smiles = pd.read_csv('data/input/drugbank-drug-smiles.csv')
drug_se = pd.read_csv('data/input/drugbank-sider-se.csv')
drug_smiles.head()

target_seq.head()

drug_se.head()

drug_goa.head()

a=drug_goa['drugid'].unique()
b=drug_target['drugid'].unique()
c=drug_smiles['drugid'].unique()
d=drug_se['drugid'].unique()
commonDrugs= set(a).intersection(b).intersection(c).intersection(d)
print (len(a),len(b),len(c),len(d))
print (len(commonDrugs))

gold_ind =pd.read_csv('data/input/openpredict-omim-drug.csv')
gold_ind.head()

gold_ind.rename(columns={'drugid':'Drug','omimid':'Disease'}, inplace=True)

print (\"%d drugs have all features \"%len( commonDrugs.intersection( gold_ind.Drug.unique())))
print (\"%d drugs have GOA feature \"%len( set(a).intersection( gold_ind.Drug.unique())))
print (\"%d drugs have Target feature \"%len( set(b).intersection( gold_ind.Drug.unique())))
print (\"%d drugs have Fingerprint feature \"%len( set(c).intersection( gold_ind.Drug.unique())))
print (\"%d drugs have Sideeffect feature \"%len( set(d).intersection( gold_ind.Drug.unique())))

disease_hpo = pd.read_csv('data/input/omim-disease-hpo.csv')
disease_mesh = pd.read_csv('data/input/omim-disease-mesh.csv')

dis1 = disease_mesh['diseaseid'].unique()
dis2 = disease_hpo['diseaseid'].unique()

disease_mesh.head()

commonDiseases = set(dis1).intersection(dis2)
print (\"%d drugs that have all features \"%len( commonDiseases.intersection( gold_ind.Disease.unique())))
print (\"%d drugs that have MESH feature \"%len( set(dis1).intersection( gold_ind.Disease.unique())))
print (\"%d drugs that have HPO feature \"%len( set(dis2).intersection( gold_ind.Disease.unique())))""" ;
                                                                                        
                                                                                        dcat:downloadURL "https://github.com/fair-workflows/openpredict/blob/975324eb5263bc0d5d709f833baca31952817844/Download%20and%20Save%20Input.ipynb" ;
                                                                                        
                                                                                        dc:language :ComputerLanguage_Python_3.7 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_FeatureGeneration

opredict:Plan_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_FeatureGeneration rdf:type p-plan:Plan ,
                                                                                           owl:NamedIndividual ,
                                                                                           reprod:Cell ;
                                                                                  
                                                                                  dcat:downloadURL "https://github.com/fair-workflows/openpredict/blob/74d3d7ae2b3182c071f490e8353d5dfdbf9f3f08/FeatureGeneration.ipynb" ;
                                                                                  
                                                                                  dc:description """import itertools
import math
import numpy as np
import pandas as pd

drug_target = pd.read_csv('data/input/drugbank-drug-target.csv')
target_seq = pd.read_csv('data/input/drugbank-target-seq.csv')
drug_goa = pd.read_csv('data/input/drugbank-drug-goa.csv')
drug_smiles = pd.read_csv('data/input/drugbank-drug-smiles.csv')
drug_se = pd.read_csv('data/input/drugbank-sider-se.csv')
drug_smiles.head()

## Get the drug data

print (\"%d drugs have all Target feature \"%len(  drug_target.drugid.unique()))
print (\"%d drugs have Target GOA feature \"%len( drug_goa.drugid.unique()))
print (\"%d drugs have Fingerprint feature \"%len(  drug_smiles.drugid.unique()))
print (\"%d drugs have Sideeffect feature \"%len( drug_se.drugid.unique()))

drug_target_seq = drug_target.merge(target_seq, on= ['geneid'])
print (\"%d drugs have Target SEQ feature \"%len( drug_target_seq.drugid.unique()))

a=drug_goa['drugid'].unique()
b=drug_target['drugid'].unique()
c=drug_smiles['drugid'].unique()
d=drug_se['drugid'].unique()
commonDrugs= set(a).intersection(b).intersection(c).intersection(d)
print (len(a),len(b),len(c),len(d))
print (len(commonDrugs))

drug_se.head()

## Drug side effect similarity
## calculating Jaccard coefficient based on drug sideefects

drugSEDict = {k: g[\"umlsid\"].tolist() for k,g in drug_se.groupby(\"drugid\")}
scores = []

for comb in itertools.combinations(commonDrugs,2):
    drug1 =comb[0]
    drug2 =comb[1]

    sideeffects1 = drugSEDict[drug1]
    sideeffects2 = drugSEDict[drug2]
    c = set(sideeffects1).intersection(sideeffects2)
    u = set(sideeffects1).union(sideeffects2)
    score = len(c)/float(len(u))
    scores.append([drug1, drug2, score])

drug_se_df = pd.DataFrame(scores, columns =['Drug1','Drug2','SE-SIM'])

drug_se_df.head()

drug_se_df.to_csv('data/features/drugs-se-sim.csv', index=False)

## PPI based drug-drug similarity
###  calculate distance between drugs on protein-protein interaction network

#!pip install -q networkx==1.11

# calcuate pairwise distance between proteins in the human PPI network
import networkx as nx
G= nx.Graph()
with open('data/input/human-interactome.csv') as ppiFile: # human PPI network
    next(ppiFile) # skip first line
    drugs=set()
    for line in ppiFile:
        line=line.replace(\"'\",\"\").strip().split(',')
        G.add_edge(line[0],line[1])

ppi=nx.shortest_path_length(G)

def grapDistance(ppi, target1, target2):
    \"\"\"
    return the shortest path between two proteins in the PPI network
    ppi : dictonary that contains distance of PPI 
    target1 : first protein name
    target2 : second protein name
    \"\"\"
    maxValue = 9999
    if target1 not in ppi:
        return maxValue
    else:
        if target2 not in ppi[target1]:
            return maxValue
        else:
            return ppi[target1][target2]

drug_targetlist = {k: g[\"geneid\"].tolist() for k,g in drug_target.groupby(\"drugid\")}
values = []

# calculate PPI-based pairwise drug similarity (Closeness)
# First distances between proteins were transformed to similarity values using the formula described in Perlman et al (2011)
# A, b were chosen according to Perlman et al (2011) to be 0.9 × e and 1, respectively.
# Self similarity was assigned a value of 1.

# For drugs similarities, maximal values between the two lists of associated genes were averaged 
# (taking into account both sides for symmetry).

A = 0.9
b = 1
for comb in itertools.combinations(commonDrugs,2) :
    drug1 = comb[0]
    drug2 = comb[1]
    targetList1 = drug_targetlist[drug1]
    targetList2 = drug_targetlist[drug2]
    allscores =[]
    for target1 in sorted(targetList1):
        genescores = []
        for target2 in sorted(targetList2):
            target1 =str(target1)
            target2 =str(target2)    
            if target1 == target2:
                score=1.0
            else:
                score = A*math.exp(-b* grapDistance(ppi, target1, target2))
            genescores.append(score)
    # add maximal values between the two lists of associated genes 
    allscores.append(max(genescores))
    if len(allscores) ==0: continue
    #average the maximal scores 
    maxScore =np.mean(allscores)
    if maxScore >= 0:
        values.append([drug1, drug2, maxScore])

drug_ppi_df = pd.DataFrame(values, columns =['Drug1','Drug2','PPI-SIM'])

drug_ppi_df.head()

drug_ppi_df.to_csv('data/features/drugs-ppi-sim.csv', index=False)

##Drug fingerprint similarity
###calculating MACS based fingerprint (substructure) similarity

# install following packages oddt and openbabel using conda
#!conda install -c oddt oddt
#!conda install -c openbabel openbabel

from oddt import toolkit
from oddt import fingerprints

import pandas as pd
import numpy as np
import itertools

drug_smiles = drug_smiles[drug_smiles.drugid.isin(commonDrugs)]
drug_smiles.head()

drug_smiles.head()

#Create a dictionary of chemicals to be compared:
input_dict = dict()
for index,line in drug_smiles.iterrows():
    id = line['drugid']
    
    smiles = line['smiles']
    mol = toolkit.readstring(format='smiles',string=smiles)
    fp =mol.calcfp(fptype='MACCS').raw
    input_dict[id] = fp

def tanimoto_score(fp1, fp2):
    return np.sum(fp1 &  fp2) / np.sum(fp1 | fp2)

sim_values=[]
for chemical1, chemical2 in itertools.combinations(input_dict.keys(),2):
    TC= tanimoto_score(input_dict[chemical1], input_dict[chemical2])
    if chemical1 != chemical2:
        sim_values.append([chemical1, chemical2, TC])

chem_sim_df = pd.DataFrame(sim_values, columns=['Drug1','Drug2','TC'])
chem_sim_df.head()

chem_sim_df.to_csv('data/features/drugs-fingerprint-sim.csv', index=False)

##Drug target sequence similarity
###Calculation of SmithWaterman sequence alignment scores

def fasta2seq(lines):
    lines = lines[lines.index('\\n')+1:]
    lines =lines.replace('\\n','')
    return lines

target_seq.seq =target_seq.seq.map(fasta2seq)
target_seq = target_seq[target_seq.geneid.isin(drug_target.geneid)]

target_seq.head()

target_seq_file=\"data/intermediate/drugbank-target-seq-trimmed.tab\"
target_seq.to_csv(target_seq_file,'\\t',index=False,header=None)

target_seq_file=\"data/intermediate/drugbank-target-seq-trimmed.tab\"
target_seq_sim_file=\"data/intermediate/target-target-seq-sim-biojava.tab\"

!java -cp .:lib/smithwaterman.jar:lib/biojava-alignment-4.0.0.jar:lib/biojava-core-4.0.0.jar:lib/slf4j-api-1.7.10.jar biojava.targetseq.CalcLocalAlign {target_seq_file} > {target_seq_sim_file}

targetSeqSim=dict()
target_seq_sim_file=\"data/intermediate/target-target-seq-sim-biojava.tab\"
with open(target_seq_sim_file) as tarSimfile:
    for row in tarSimfile:
        row = row.strip().split(\"\\t\")
        t1 =row[0]
        t2 = row[1]
        sim = float(row[2])
        targetSeqSim[(t1,t2)]=sim
        targetSeqSim[(t2,t1)]=sim

drug_targetlist = {k: g[\"geneid\"].tolist() for k,g in drug_target_seq.groupby(\"drugid\")}
values = []

for comb in itertools.combinations(commonDrugs,2) :
    drug1 = comb[0]
    drug2 = comb[1]
    targetList1 = drug_targetlist[drug1]
    targetList2 = drug_targetlist[drug2]
    allscores =[]
    for target1 in sorted(targetList1):
        genescores = []
        for target2 in sorted(targetList2):
            target1 =str(target1)
            target2 =str(target2)    
            if target1 == target2:
                score=1.0
            else:
                score = targetSeqSim[(target1,target2)] / (math.sqrt(targetSeqSim[(target1,target1)]) * math.sqrt(targetSeqSim[(target2,target2)]))
            genescores.append(score)
    # add maximal values between the two lists of associated genes 
    allscores.append(max(genescores))
    if len(allscores) ==0: continue
    #average the maximal scores 
    maxScore =np.mean(allscores)
    values.append([drug1, drug2, maxScore])

drug_seq_df = pd.DataFrame(values, columns =['Drug1','Drug2','TARGETSEQ-SIM'])

drug_seq_df.head()

drug_seq_df.to_csv('data/features/drugs-target-seq-sim.csv', index=False)

##GO based drug-drug similarity

drug_goa.drugid = drug_goa.drugid.map(lambda d: 'http://purl.obolibrary.org/obo/'+d)
drug_goa.to_csv('data/intermediate/drug_goa.txt',sep='\\t', header=False, index=False)

#cleaning GO annotations
rows = []
for comb in itertools.combinations(commonDrugs,2):
    t1=comb[0]
    t2=comb[1]
    rows.append(['http://purl.obolibrary.org/obo/'+str(t1),'http://purl.obolibrary.org/obo/'+str(t2)])

drug_query_df = pd.DataFrame(rows, columns =['Drug1','Drug2'])
drug_query_df.to_csv('data/intermediate/drug.gene.go.query',sep='\\t', header=False, index=False)

### run the semantic relatedness library with given query and anotation file it will produce a file named: gene.go.sim.out
!java -jar lib/sml-toolkit-0.9.jar -t sm -xmlconf data/conf/sml.gene.go.conf

go_sim_df = pd.read_csv('data/intermediate/drug.gene.go.sim.out',sep='\\t')
go_sim_df.head()

go_sim_df.rename(columns={'e1':'Drug1','e2':'Drug2','bma':'GO-SIM'}, inplace=True)

go_sim_df.Drug1 = go_sim_df.Drug1.str.replace('http://purl.obolibrary.org/obo/','')
go_sim_df.Drug2 = go_sim_df.Drug2.str.replace('http://purl.obolibrary.org/obo/','')
go_sim_df.head()

go_sim_df.to_csv('data/features/drugs-target-go-sim.csv')

##Disease Phenotype Similarity
###MESH term based Similarity

predict_df = pd.read_csv('data/input/openpredict-omim-drug.csv')
predict_df.head()

predict_df.rename(columns={'drugid':'Drug','omimid':'Disease'}, inplace=True)

gold_diseases = set( predict_df.Disease.unique())
print ('Gold std. diseases',len(gold_diseases))

mesh_ann = {}
allmeshterm = []
with open('data/input/omim-disease-mesh.csv') as meshfile:
    next(meshfile)
    for line in meshfile:
        line = line.strip().split(',')
        if len(line) != 2: continue
        di = line[0]
        mesh = line[1].split(',')
        mesh_ann[di]=mesh
        allmeshterm.extend(mesh)

vocabulary = list(set(allmeshterm))
len(vocabulary)

# create a co-occurrence matrix
co_mat = np.zeros((len(mesh_ann),len(vocabulary)))

commonDiseases = mesh_ann.keys()
mesh2id= { di:i for i,di in enumerate(mesh_ann.keys())}
# fill in the co-occurrence matrix
for key in mesh_ann:
    annotations = mesh_ann[key]
    col_index = [vocabulary.index(a) for a in annotations]
    co_mat[mesh2id[key],col_index] =1

def cosine_similarity(a,b):
    return  np.dot(a, b)/(np.linalg.norm(a)*np.linalg.norm(b))

values = []
# calculate cosine similarity between diseases using mesh annotation vector
for comb in itertools.combinations(commonDiseases,2) :
    disease1 = comb[0]
    disease2 = comb[1]
    sim = cosine_similarity(co_mat[mesh2id[disease1],:], co_mat[mesh2id[disease2],:])
    values.append([disease1, disease2, sim])

disease_pheno_df = pd.DataFrame(values, columns =['Disease1','Disease2','PHENO-SIM'])

disease_pheno_df.head()

disease_pheno_df.to_csv('data/features/diseases-pheno-sim.csv',index=False)

##HPO based disease-disease similarity

# reading the hpo annotation file taken from compbio.charite.de/jennkins/jobs/hpo.annotations/
disease_hpo = pd.read_csv('data/input/omim-disease-hpo.csv')
disease_hpo.head()

disease_hpo.rename(columns={'diseaseid':'Disease','hpoid':'HPO'}, inplace=True)
disease_hpo.HPO= disease_hpo.HPO.str.replace('hpo','hp')

disease_hpo.head()

diseasesWithFeatures= set(disease_hpo.Disease.unique()).intersection( gold_diseases )
print (len(diseasesWithFeatures))
rows = []
for comb in itertools.combinations(diseasesWithFeatures,2):
    t1=comb[0]
    t2=comb[1]
    rows.append(['omim:'+str(t1),'omim:'+str(t2)])

disease_hpo[\"Disease\"]=disease_hpo[\"Disease\"].map(lambda d: 'omim:'+str(d))
disease_hpo.to_csv('data/intermediate/disease_hpo.txt',sep='\\t', header=False, index=False)

disease_query_df = pd.DataFrame(rows, columns =['Disease1','Disease2'])
disease_query_df.to_csv('data/intermediate/hpo.sml.omim.query',sep='\\t', header=False, index=False)

### run the semantic relatedness library with given query and anotation file it will produce a file named: hpo.sim.out
!java -jar lib/sml-toolkit-0.9.jar -t sm -xmlconf data/conf/sml.omim.hpo.conf

hpo_sim_df = pd.read_csv('data/intermediate/omim.hpo.sim.out',sep='\\t')

hpo_sim_df.head()

hpo_sim_df.rename(columns={'e1':'Disease1','e2':'Disease2','bma':'HPO-SIM'}, inplace=True)

hpo_sim_df.Disease1 = hpo_sim_df.Disease1.str.replace('omim:','')
hpo_sim_df.Disease2 = hpo_sim_df.Disease2.str.replace('omim:','')
hpo_sim_df.head()

hpo_sim_df.to_csv('data/features/diseases-hpo-sim.csv', index=False)""" ;
                                                                                  
                                                                                  dc:language :ComputerLanguage_Python_3.7 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Format_results_for_presentation

opredict:Plan_Format_results_for_presentation rdf:type p-plan:Plan ,
                                                       owl:NamedIndividual ;
                                              
                                              rdfs:label "Format results for presentation" ;
                                              
                                              dc:description "Format results for presentation" ;
                                              
                                              dc:language :LinguisticSystem_xsd_language_English .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Main_Protocol_v01

opredict:Plan_Main_Protocol_v01 rdf:type p-plan:Plan ,
                                         dul:Workflow ,
                                         owl:NamedIndividual ;
                                
                                rdfs:label "Main Protocol v.0.1" ;
                                
                                dc:modified "2019-05-15" ;
                                
                                dc:hasVersion "0.1" ;
                                
                                dc:created "2018-11-27" ;
                                
                                dc:description "OpenPREDICT Main Protocol v.0.1" ;
                                
                                dc:language :LinguisticSystem_xsd_language_English ;
                                
                                prov:wasAttributedTo opredict:Agent_Remzi ;
                                
                                dc:creator opredict:Agent_Remzi ;
                                
                                pwo:hasFirstStep opredict:Step_Prepare_Input_Data_Files .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Main_Protocol_v02

opredict:Plan_Main_Protocol_v02 rdf:type p-plan:Plan ,
                                         dul:Workflow ,
                                         owl:NamedIndividual ;
                                
                                rdfs:label "Main Protocol v.0.2" ;
                                
                                dc:created "2019-05-15" ;
                                
                                dc:modified "2019-07-03" ;
                                
                                dc:description "OpenPREDICT Main Protocol v.0.2" ;
                                
                                dc:hasVersion "0.2" ;
                                
                                dc:language :LinguisticSystem_xsd_language_English ;
                                
                                dc:creator opredict:Agent_Remzi ;
                                
                                prov:wasAttributedTo opredict:Agent_Remzi ;
                                
                                prov:wasRevisionOf opredict:Plan_Main_Protocol_v01 ;
                                
                                pwo:hasFirstStep opredict:Step_Prepare_Input_Data_Files_v02 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb

opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb rdf:type p-plan:Plan ,
                                                                                              owl:NamedIndividual ;
                                                                                     
                                                                                     rdfs:label "Model preparation, train and evaluation Workflow: OpenPREDCIT - ML.ipynb" ;
                                                                                     
                                                                                     dcat:downloadURL "https://github.com/fair-workflows/openpredict/blob/f60431d37cf3ac80e5245ded143f03f368017489/OpenPREDCIT%20-%20ML.ipynb" ;
                                                                                     
                                                                                     dc:description "Model preparation, train and evaluation Workflow: OpenPREDCIT - ML.ipynb" ;
                                                                                     
                                                                                     dc:language :ComputerLanguage_Python_3.7 ;
                                                                                     
                                                                                     pwo:hasFirstStep opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell00 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell00

opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell00 rdf:type p-plan:Plan ,
                                                                                                     owl:NamedIndividual ,
                                                                                                     reprod:Cell ;
                                                                                            
                                                                                            rdfs:label "Jupyter Notebook Cell00" ;
                                                                                            
                                                                                            dc:description """import random
import numpy as np
from sklearn import model_selection
from sklearn.model_selection import GroupKFold
import pandas as pd
import math
import time""" ;
                                                                                            
                                                                                            dc:language :ComputerLanguage_Python_3.7 ;
                                                                                            
                                                                                            prov:qualifiedUsage opredict:Link_Pipeline_Source_Cell0_Variable .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell01

opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell01 rdf:type p-plan:Plan ,
                                                                                                     owl:NamedIndividual ,
                                                                                                     reprod:Cell ;
                                                                                            
                                                                                            dc:description """# Get the features and gold standard 

drugfeatfiles = ['features/drugs-fingerprint-sim.txt','features/drugs-se-sim.txt', 
                 'features/drugs-ppi-sim.txt', 'features/drugs-target-go-sim.txt','features/drugs-target-seq-sim.txt']
diseasefeatfiles =['features/diseases-hpo-sim.txt',  'features/diseases-pheno-sim.txt' ]

goldindfile = 'known_associations/predict-gold-standard-omim.txt'
drugDiseaseKnown = pd.read_csv(goldindfile,delimiter='\\t') 
drugDiseaseKnown.Disease = drugDiseaseKnown.Disease.astype(str)
drugDiseaseKnown.head()""" ;
                                                                                            
                                                                                            dc:language :ComputerLanguage_Python_3.7 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell02

opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell02 rdf:type p-plan:Plan ,
                                                                                                     owl:NamedIndividual ,
                                                                                                     reprod:Cell ;
                                                                                            
                                                                                            dc:description """# Merge feature matrix

def adjcencydict2matrix(df, name1, name2):
    df1 = df.copy()
    df1= df1.rename(index=str, columns={name1: name2, name2: name1})
    print (len(df))
    df =df.append(df1)
    print (len(df))
    return df.pivot(index=name1, columns=name2)

def mergeFeatureMatrix(drugfeatfiles, diseasefeatfiles):
    for i,featureFilename in enumerate(drugfeatfiles):
        df = pd.read_csv(featureFilename, delimiter='\\t')
        cond = df.Drug1 > df.Drug2
        df.loc[cond, ['Drug1', 'Drug2']] = df.loc[cond, ['Drug2', 'Drug1']].values
        if i != 0:
            drug_df=drug_df.merge(df,on=['Drug1','Drug2'],how='inner')
            #drug_df=drug_df.merge(temp,how='outer',on='Drug')
        else:
            drug_df =df
    drug_df.fillna(0, inplace=True)
    
    drug_df = adjcencydict2matrix(drug_df, 'Drug1', 'Drug2')
    drug_df = drug_df.fillna(1.0)

    
    for i,featureFilename in enumerate(diseasefeatfiles):
        print (featureFilename)
        df=pd.read_csv(featureFilename, delimiter='\\t')
        cond = df.Disease1 > df.Disease2
        df.loc[cond, ['Disease1','Disease2']] = df.loc[cond, ['Disease2','Disease1']].values
        if i != 0:
            disease_df = disease_df.merge(df,on=['Disease1','Disease2'], how='inner')
            #drug_df=drug_df.merge(temp,how='outer',on='Drug')
        else:
            disease_df = df
    disease_df.fillna(0, inplace=True)
    disease_df.Disease1 = disease_df.Disease1.astype(str)
    disease_df.Disease2 = disease_df.Disease2.astype(str)
    
    disease_df = adjcencydict2matrix(disease_df, 'Disease1', 'Disease2')
    disease_df = disease_df.fillna(1.0)
    
    return drug_df, disease_df

drug_df, disease_df = mergeFeatureMatrix(drugfeatfiles, diseasefeatfiles)

drug_df.head()

disease_df.head()""" ;
                                                                                            
                                                                                            dc:language :ComputerLanguage_Python_3.7 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell03

opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell03 rdf:type p-plan:Plan ,
                                                                                                     owl:NamedIndividual ,
                                                                                                     reprod:Cell ;
                                                                                            
                                                                                            dc:description """# Generate positive and negative pairs

def generatePairs(drug_df, disease_df, drugDiseaseKnown):
    drugwithfeatures = set(drug_df.columns.levels[1])
    diseaseswithfeatures = set(disease_df.columns.levels[1])
    
    drugDiseaseDict  = set([tuple(x) for x in  drugDiseaseKnown[['Drug','Disease']].values])

    commonDrugs= drugwithfeatures.intersection( drugDiseaseKnown.Drug.unique())
    commonDiseases=  diseaseswithfeatures.intersection(drugDiseaseKnown.Disease.unique() )
    print (\"commonDrugs: %d commonDiseases : %d\"%(len(commonDrugs),len(commonDiseases)))

    #abridged_drug_disease = [(dr,di)  for  (dr,di)  in drugDiseaseDict if dr in drugwithfeatures and di in diseaseswithfeatures ]

    #commonDrugs = set( [ dr  for dr,di in  abridged_drug_disease])
    #commonDiseases  =set([ di  for dr,di in  abridged_drug_disease])

    print (\"Gold standard, associations: %d drugs: %d diseases: %d\"%(len(drugDiseaseKnown),len(drugDiseaseKnown.Drug.unique()),len(drugDiseaseKnown.Disease.unique())))
    print (\"Drugs with features: %d Diseases with features: %d\"%(len(drugwithfeatures),len(diseaseswithfeatures)))
    print (\"commonDrugs: %d commonDiseases : %d\"%(len(commonDrugs),len(commonDiseases)))

    pairs=[]
    classes=[]
    for dr in commonDrugs:
        for di in commonDiseases:
            cls = (1 if (dr,di) in drugDiseaseDict else 0)
            pairs.append((dr,di))
            classes.append(cls)
            
    return pairs, classes

pairs, classes = generatePairs(drug_df, disease_df, drugDiseaseKnown)""" ;
                                                                                            
                                                                                            dc:language :ComputerLanguage_Python_3.7 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell04

opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell04 rdf:type p-plan:Plan ,
                                                                                                     owl:NamedIndividual ,
                                                                                                     reprod:Cell ;
                                                                                            
                                                                                            dc:description """# Balance negative samples/postives

from sklearn.model_selection import GroupKFold
from sklearn.model_selection import StratifiedKFold
def balance_data(pairs, classes, n_proportion):
    classes = np.array(classes)
    pairs = np.array(pairs)
    
    indices_true = np.where(classes == 1)[0]
    indices_false = np.where(classes == 0)[0]

    np.random.shuffle(indices_false)
    indices = indices_false[:(n_proportion*indices_true.shape[0])]
    print (\"+/-:\", len(indices_true), len(indices), len(indices_false))
    pairs = np.concatenate((pairs[indices_true], pairs[indices]), axis=0)
    classes = np.concatenate((classes[indices_true], classes[indices]), axis=0) 
    
 
    return pairs, classes

n_proportion = 2
pairs, classes= balance_data(pairs, classes, n_proportion)""" ;
                                                                                            
                                                                                            dc:language :ComputerLanguage_Python_3.7 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell05

opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell05 rdf:type p-plan:Plan ,
                                                                                                     owl:NamedIndividual ,
                                                                                                     reprod:Cell ;
                                                                                            
                                                                                            dc:description """# Train-Test Splitting

pairs_train, pairs_test, classes_train, classes_test = model_selection.train_test_split(pairs, classes, stratify=classes, test_size=0.2, shuffle=True)

len(pairs_train), len(pairs_test)""" ;
                                                                                            
                                                                                            dc:language :ComputerLanguage_Python_3.7 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell06

opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell06 rdf:type p-plan:Plan ,
                                                                                                     owl:NamedIndividual ,
                                                                                                     reprod:Cell ;
                                                                                            
                                                                                            dc:description """# Feature extraction (Best Combined similarity)

def geometricMean(drug, disease, knownDrugDisease, drugDF, diseaseDF):
    #print (drug, disease)
    a  = drugDF.loc[knownDrugDisease[:,0]][drug].values
    b  = diseaseDF.loc[knownDrugDisease[:,1]][disease].values
    #print (a,b)
    c = np.sqrt( np.multiply(a,b) )
    ix2 = (knownDrugDisease == [drug, disease])
    c[ix2[:,1]& ix2[:,0]]=0.0
    return float(np.max(c))


def createFeatureDF(pairs, classes, knownDrugDisease, drugDFs, diseaseDFs):
    totalNumFeatures = len(drugDFs)*len(diseaseDFs)
    #featureMatri x= np.empty((len(classes),totalNumFeatures), float)
    df =pd.DataFrame(list(zip(pairs[:,0], pairs[:,1], classes)), columns =['Drug','Disease','Class'])
    index = 0
    for i,drug_col in enumerate(drugDFs.columns.levels[0]):
        for j,disease_col in enumerate(diseaseDFs.columns.levels[0]):
            drugDF = drugDFs[drug_col]
            diseaseDF = diseaseDFs[disease_col]
            df[\"Feature_\"+str(drug_col)+'_'+str(disease_col)] = df.apply(lambda row: geometricMean( row.Drug, row.Disease, knownDrugDisease, drugDF, diseaseDF), axis=1)
    return df

def calculateCombinedSimilarity(pairs_train, pairs_test, classes_train, classes_test, drug_df, disease_df, knownDrugDisease):
    train_df  = createFeatureDF(pairs_train, classes_train, knownDrugDisease, drug_df, disease_df)
    test_df = createFeatureDF(pairs_test, classes_test, knownDrugDisease, drug_df, disease_df)
    return train_df, test_df

knownDrugDisease= pairs_train[classes_train==1]
train_df, test_df = calculateCombinedSimilarity(pairs_train, pairs_test, classes_train, classes_test, drug_df, disease_df, knownDrugDisease)""" ;
                                                                                            
                                                                                            dc:language :ComputerLanguage_Python_3.7 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell07

opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell07 rdf:type p-plan:Plan ,
                                                                                                     owl:NamedIndividual ,
                                                                                                     reprod:Cell ;
                                                                                            
                                                                                            dc:description """# Model Training

from sklearn import tree, ensemble
from sklearn import svm, linear_model, neighbors

def trainModel(train_df, clf):
    features = list(train_df.columns.difference(['Drug','Disease','Class']))
    X = train_df[features]
    y = train_df['Class']
    print ('fiting classifier...')
    clf.fit(X, y)
    return clf

n_seed = 100
clf = linear_model.LogisticRegression(penalty='l2', dual=False, tol=0.0001, C=1.0, random_state=n_seed) 
clf = trainModel(train_df, clf)""" ;
                                                                                            
                                                                                            dc:language :ComputerLanguage_Python_3.7 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell08

opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell08 rdf:type p-plan:Plan ,
                                                                                                     owl:NamedIndividual ,
                                                                                                     reprod:Cell ;
                                                                                            
                                                                                            dc:description """# Evaulation

from sklearn import metrics
import numbers
def multimetric_score(estimator, X_test, y_test, scorers):
    \"\"\"Return a dict of score for multimetric scoring\"\"\"
    scores = {}
    for name, scorer in scorers.items():
        if y_test is None:
            score = scorer(estimator, X_test)
        else:
            score = scorer(estimator, X_test, y_test)

        if hasattr(score, 'item'):
            try:
                # e.g. unwrap memmapped scalars
                score = score.item()
            except ValueError:
                # non-scalar?
                pass
        scores[name] = score

        if not isinstance(score, numbers.Number):
            raise ValueError(\"scoring must return a number, got %s (%s) \"
                             \"instead. (scorer=%s)\"
                             % (str(score), type(score), name))
    return scores

def evaluate(test_df, clf):
    features = list(train_df.columns.difference(['Drug','Disease','Class']))
    X_test =  test_df[features]
    y_test = test_df['Class']

    scoring = ['precision', 'recall', 'accuracy', 'roc_auc', 'f1', 'average_precision']
    scorers, multimetric = metrics.scorer._check_multimetric_scoring(clf, scoring=scoring)
    scores = multimetric_score(clf, X_test, y_test, scorers)
    return scores

scores = evaluate(test_df, clf)
print (\"Test:\",scores)""" ;
                                                                                            
                                                                                            dc:language :ComputerLanguage_Python_3.7 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell09

opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell09 rdf:type p-plan:Plan ,
                                                                                                     owl:NamedIndividual ,
                                                                                                     reprod:Cell ;
                                                                                            
                                                                                            dc:description """# 10-fold drug-disjoint cross-validation (PREDICT - CV scheme )

disjoint = True
n_fold = 10

if disjoint:
    print ('Disjoint')
    groups = pairs[:,0] # group by drug
    group_kfold = GroupKFold(n_splits=n_fold)
    cv = group_kfold.split(pairs, classes, groups)
else:
    print ('Non-disjoint')
    skf = StratifiedKFold(n_splits=n_fold, shuffle=True, random_state=n_seed)
    cv = skf.split(pairs, classes)

n_seed = 100
cv_results = pd.DataFrame()
clf = linear_model.LogisticRegression(penalty='l2', dual=False, tol=0.0001, C=1.0, random_state=n_seed) 
  
for i, (train, test) in enumerate(cv):
    print ('Fold',i+1)
    start_time = time.time()
    pairs_train = pairs[train]
    classes_train = classes[train] 
    pairs_test = pairs[test]
    classes_test = classes[test]
    knownDrugDisease= pairs_train[classes_train==1]
    
    train_df, test_df = calculateCombinedSimilarity(pairs_train, pairs_test, classes_train, classes_test, drug_df, disease_df, knownDrugDisease)
    elapsed_time = time.time() - start_time
    print ('Time elapsed to generate features:',time.strftime(\"%H:%M:%S\", time.gmtime(elapsed_time)))

    clf = trainModel(train_df, clf)
    
    scores = evaluate(test_df, clf)
    print (\"Scores:\",scores)
    cv_results = cv_results.append(scores, ignore_index=True)

cv_results.mean()

cv_results.to_csv('results/DCV_runs_transd.csv')""" ;
                                                                                            
                                                                                            dc:language :ComputerLanguage_Python_3.7 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02

opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02 rdf:type p-plan:Plan ,
                                                                                                  owl:NamedIndividual ;
                                                                                         
                                                                                         rdfs:label "Model preparation, train and evaluation Workflow: OpenPREDCIT - ML.ipynb v.0.2" ;
                                                                                         
                                                                                         dc:description """import random
import numpy as np
from sklearn import model_selection
from sklearn.model_selection import GroupKFold
import pandas as pd
import math
import time

##Get the features and gold standard

drugfeatfiles = ['data/features/drugs-fingerprint-sim.csv','data/features/drugs-se-sim.csv', 
                 'data/features/drugs-ppi-sim.csv', 'data/features/drugs-target-go-sim.csv','data/features/drugs-target-seq-sim.csv']
diseasefeatfiles =['data/features/diseases-hpo-sim.csv',  'data/features/diseases-pheno-sim.csv' ]

goldindfile = 'data/input/openpredict-omim-drug.csv'
drugDiseaseKnown = pd.read_csv(goldindfile,delimiter=',') 
drugDiseaseKnown.head()

drugDiseaseKnown.rename(columns={'drugid':'Drug','omimid':'Disease'}, inplace=True)
drugDiseaseKnown.Disease = drugDiseaseKnown.Disease.astype(str)
drugDiseaseKnown.head()

##Merge feature matrix

def adjcencydict2matrix(df, name1, name2):
    df1 = df.copy()
    df1= df1.rename(index=str, columns={name1: name2, name2: name1})
    print (len(df))
    df =df.append(df1)
    print (len(df))
    return df.pivot(index=name1, columns=name2)

def mergeFeatureMatrix(drugfeatfiles, diseasefeatfiles):
    for i,featureFilename in enumerate(drugfeatfiles):
        print (featureFilename)
        df = pd.read_csv(featureFilename, delimiter=',')
        cond = df.Drug1 > df.Drug2
        df.loc[cond, ['Drug1', 'Drug2']] = df.loc[cond, ['Drug2', 'Drug1']].values
        if i != 0:
            drug_df=drug_df.merge(df,on=['Drug1','Drug2'],how='inner')
            #drug_df=drug_df.merge(temp,how='outer',on='Drug')
        else:
            drug_df =df
    drug_df.fillna(0, inplace=True)
    
    drug_df = adjcencydict2matrix(drug_df, 'Drug1', 'Drug2')
    drug_df = drug_df.fillna(1.0)

    
    for i,featureFilename in enumerate(diseasefeatfiles):
        print (featureFilename)
        df=pd.read_csv(featureFilename, delimiter=',')
        cond = df.Disease1 > df.Disease2
        df.loc[cond, ['Disease1','Disease2']] = df.loc[cond, ['Disease2','Disease1']].values
        if i != 0:
            disease_df = disease_df.merge(df,on=['Disease1','Disease2'], how='inner')
            #drug_df=drug_df.merge(temp,how='outer',on='Drug')
        else:
            disease_df = df
    disease_df.fillna(0, inplace=True)
    disease_df.Disease1 = disease_df.Disease1.astype(str)
    disease_df.Disease2 = disease_df.Disease2.astype(str)
    
    disease_df = adjcencydict2matrix(disease_df, 'Disease1', 'Disease2')
    disease_df = disease_df.fillna(1.0)
    
    return drug_df, disease_df

drug_df, disease_df = mergeFeatureMatrix(drugfeatfiles, diseasefeatfiles)

drug_df.head()

disease_df.head()

def generatePairs(drug_df, disease_df, drugDiseaseKnown):
    drugwithfeatures = set(drug_df.columns.levels[1])
    diseaseswithfeatures = set(disease_df.columns.levels[1])
    
    drugDiseaseDict  = set([tuple(x) for x in  drugDiseaseKnown[['Drug','Disease']].values])

    commonDrugs= drugwithfeatures.intersection( drugDiseaseKnown.Drug.unique())
    commonDiseases=  diseaseswithfeatures.intersection(drugDiseaseKnown.Disease.unique() )
    print (\"commonDrugs: %d commonDiseases : %d\"%(len(commonDrugs),len(commonDiseases)))

    #abridged_drug_disease = [(dr,di)  for  (dr,di)  in drugDiseaseDict if dr in drugwithfeatures and di in diseaseswithfeatures ]

    #commonDrugs = set( [ dr  for dr,di in  abridged_drug_disease])
    #commonDiseases  =set([ di  for dr,di in  abridged_drug_disease])

    print (\"Gold standard, associations: %d drugs: %d diseases: %d\"%(len(drugDiseaseKnown),len(drugDiseaseKnown.Drug.unique()),len(drugDiseaseKnown.Disease.unique())))
    print (\"Drugs with features: %d Diseases with features: %d\"%(len(drugwithfeatures),len(diseaseswithfeatures)))
    print (\"commonDrugs: %d commonDiseases : %d\"%(len(commonDrugs),len(commonDiseases)))

    pairs=[]
    classes=[]
    for dr in commonDrugs:
        for di in commonDiseases:
            cls = (1 if (dr,di) in drugDiseaseDict else 0)
            pairs.append((dr,di))
            classes.append(cls)
            
    return pairs, classes

pairs, classes = generatePairs(drug_df, disease_df, drugDiseaseKnown)

##Balance negative samples/postives

from sklearn.model_selection import GroupKFold
from sklearn.model_selection import StratifiedKFold
def balance_data(pairs, classes, n_proportion):
    classes = np.array(classes)
    pairs = np.array(pairs)
    
    indices_true = np.where(classes == 1)[0]
    indices_false = np.where(classes == 0)[0]

    np.random.shuffle(indices_false)
    indices = indices_false[:(n_proportion*indices_true.shape[0])]
    print (\"+/-:\", len(indices_true), len(indices), len(indices_false))
    pairs = np.concatenate((pairs[indices_true], pairs[indices]), axis=0)
    classes = np.concatenate((classes[indices_true], classes[indices]), axis=0) 
    
 
    return pairs, classes

n_proportion = 2
pairs, classes= balance_data(pairs, classes, n_proportion)

##Train-Test Splitting
pairs_train, pairs_test, classes_train, classes_test = model_selection.train_test_split(pairs, classes, stratify=classes, test_size=0.2, shuffle=True)

len(pairs_train), len(pairs_test)

##Feature extraction (Best Combined similarity)

def geometricMean(drug, disease, knownDrugDisease, drugDF, diseaseDF):
    #print (drug, disease)
    a  = drugDF.loc[knownDrugDisease[:,0]][drug].values
    b  = diseaseDF.loc[knownDrugDisease[:,1]][disease].values
    #print (a,b)
    c = np.sqrt( np.multiply(a,b) )
    ix2 = (knownDrugDisease == [drug, disease])
    c[ix2[:,1]& ix2[:,0]]=0.0
    return float(np.max(c))


def createFeatureDF(pairs, classes, knownDrugDisease, drugDFs, diseaseDFs):
    totalNumFeatures = len(drugDFs)*len(diseaseDFs)
    #featureMatri x= np.empty((len(classes),totalNumFeatures), float)
    df =pd.DataFrame(list(zip(pairs[:,0], pairs[:,1], classes)), columns =['Drug','Disease','Class'])
    index = 0
    for i,drug_col in enumerate(drugDFs.columns.levels[0]):
        for j,disease_col in enumerate(diseaseDFs.columns.levels[0]):
            drugDF = drugDFs[drug_col]
            diseaseDF = diseaseDFs[disease_col]
            df[\"Feature_\"+str(drug_col)+'_'+str(disease_col)] = df.apply(lambda row: geometricMean( row.Drug, row.Disease, knownDrugDisease, drugDF, diseaseDF), axis=1)
    return df

def calculateCombinedSimilarity(pairs_train, pairs_test, classes_train, classes_test, drug_df, disease_df, knownDrugDisease):
    train_df  = createFeatureDF(pairs_train, classes_train, knownDrugDisease, drug_df, disease_df)
    test_df = createFeatureDF(pairs_test, classes_test, knownDrugDisease, drug_df, disease_df)
    return train_df, test_df

knownDrugDisease= pairs_train[classes_train==1]
train_df, test_df = calculateCombinedSimilarity(pairs_train, pairs_test, classes_train, classes_test, drug_df, disease_df, knownDrugDisease)

##Model Training

from sklearn import tree, ensemble
from sklearn import svm, linear_model, neighbors

def trainModel(train_df, clf):
    features = list(train_df.columns.difference(['Drug','Disease','Class']))
    X = train_df[features]
    y = train_df['Class']
    print ('fiting classifier...')
    clf.fit(X, y)
    return clf

n_seed = 100
clf = linear_model.LogisticRegression(penalty='l2', dual=False, tol=0.0001, C=1.0, random_state=n_seed) 
clf = trainModel(train_df, clf)

##Evaulation

from sklearn import metrics
import numbers
def multimetric_score(estimator, X_test, y_test, scorers):
    \"\"\"Return a dict of score for multimetric scoring\"\"\"
    scores = {}
    for name, scorer in scorers.items():
        if y_test is None:
            score = scorer(estimator, X_test)
        else:
            score = scorer(estimator, X_test, y_test)

        if hasattr(score, 'item'):
            try:
                # e.g. unwrap memmapped scalars
                score = score.item()
            except ValueError:
                # non-scalar?
                pass
        scores[name] = score

        if not isinstance(score, numbers.Number):
            raise ValueError(\"scoring must return a number, got %s (%s) \"
                             \"instead. (scorer=%s)\"
                             % (str(score), type(score), name))
    return scores

def evaluate(test_df, clf):
    features = list(train_df.columns.difference(['Drug','Disease','Class']))
    X_test =  test_df[features]
    y_test = test_df['Class']

    scoring = ['precision', 'recall', 'accuracy', 'roc_auc', 'f1', 'average_precision']
    scorers, multimetric = metrics.scorer._check_multimetric_scoring(clf, scoring=scoring)
    scores = multimetric_score(clf, X_test, y_test, scorers)
    return scores

scores = evaluate(test_df, clf)
print (\"Test:\",scores)

##10-fold drug-disjoint cross-validation (PREDICT - CV scheme )

disjoint = True
n_fold = 10

if disjoint:
    print ('Disjoint')
    groups = pairs[:,0] # group by drug
    group_kfold = GroupKFold(n_splits=n_fold)
    cv = group_kfold.split(pairs, classes, groups)
else:
    print ('Non-disjoint')
    skf = StratifiedKFold(n_splits=n_fold, shuffle=True, random_state=n_seed)
    cv = skf.split(pairs, classes)

n_seed = 100
cv_results = pd.DataFrame()
clf = linear_model.LogisticRegression(penalty='l2', solver='lbfgs', dual=False, tol=0.0001, C=1.0, random_state=n_seed) 
  
for i, (train, test) in enumerate(cv):
    print ('Fold',i+1)
    start_time = time.time()
    pairs_train = pairs[train]
    classes_train = classes[train] 
    pairs_test = pairs[test]
    classes_test = classes[test]
    knownDrugDisease= pairs_train[classes_train==1]
    
    train_df, test_df = calculateCombinedSimilarity(pairs_train, pairs_test, classes_train, classes_test, drug_df, disease_df, knownDrugDisease)
    elapsed_time = time.time() - start_time
    print ('Time elapsed to generate features:',time.strftime(\"%H:%M:%S\", time.gmtime(elapsed_time)))

    clf = trainModel(train_df, clf)
    
    scores = evaluate(test_df, clf)
    #print (\"Scores:\",scores)
    cv_results = cv_results.append(scores, ignore_index=True)

cv_results.mean()

cv_results.to_csv('data/results/disjoint_lr.csv')

import pandas as pd

cv_results = pd.read_csv('data/results/disjoint_lr.csv')

cv_results.head()

from rdflib import Graph, URIRef, Literal, RDF, ConjunctiveGraph, Namespace
from rdflib import Graph, URIRef, Literal, RDF, ConjunctiveGraph
def to_rdf(g, df, column_types, row_uri):
    \"\"\"
    Parameters
    ----------
    g : input rdflib.Graph  
    df: DataFrame to be converted into RDF Graph
    column_types: dictonary of column and its type, type can be URI or Literal
    row_uri: rdf:type value for row index, should be URI
    Returns
    -------
    g: rdflib.Graph generated from DataFrame object
    \"\"\"
    
    for (index, series) in df.iterrows():
        g.add((URIRef(index), RDF.type, URIRef(row_uri)) )
        for (column, value) in series.iteritems():
            if column_types[column] == 'URI':
                g.add((URIRef(index), URIRef(column), URIRef(value)))
            else:
                g.add((URIRef(index), URIRef(column), Literal(value)))
                
    return g

import time
def generateURI(prefix):
    uniqueID= int(round(time.time() * 1000))
    uri = URIRef(prefix+str(uniqueID))
    return uri

DC = Namespace(\"http://purl.org/dc/terms/\")
MLS = Namespace(\"http://www.w3.org/ns/mls#\")
RPC = Namespace(\"https://w3id.org/reproduceme#\")
RDFS = Namespace(\"http://www.w3.org/2000/01/rdf-schema#\")
def addProvanace(g):
    #graphURI = URIRef('http://bio2rdf.org/openpredict_resource:bio2rdf.output.openpredict.R1')

    runURI = generateURI('http://www.w3.org/ns/mls#Run')
    evalURI = generateURI('http://www.w3.org/ns/mls#ModelEvaluation')
    accURI = generateURI('http://www.w3.org/ns/mls#Accuracy')
    evalSpecURI = generateURI('http://www.w3.org/ns/mls#EvaluationSpecification')
    
    g.add((runURI, RDF['type'], MLS['Run']))
    g.add((runURI, MLS['achieves'], RPC['Pipeline_OpenPREDICT']))
          
    g.add((runURI, MLS['hasOutput'], evalURI))
    g.add((evalURI, RDF['type'], MLS['ModelEvaluation']))
    
    g.add((evalSpecURI, MLS['defines'],  RPC['Pipeline_OpenPREDICT']))
    g.add((evalSpecURI, MLS['hasPart'],  MLS['TenFoldCrossValidation']))
    g.add((MLS['TenFoldCrossValidation'], RDF['type'],  MLS['EvaluationProcedure']))
    g.add((MLS['TenFoldCrossValidation'], RDFS['label'],  Literal('10-fold CV')))
    
    g.add((evalSpecURI, MLS['hasPart'],  MLS['DrugwiseCrossValidation']))
    g.add((MLS['DrugwiseCrossValidation'], RDF['type'],  MLS['EvaluationProcedure']))
    g.add((MLS['DrugwiseCrossValidation'], RDFS['label'],  Literal('Drugwise CrossValidation')))
    g.add((MLS['DrugwiseCrossValidation'], DC['description'],  Literal('Split drugs in 10-fold, remove drugs of each fold in the gold standard and consequently remove all the known indication sassociated with them')))
    
    g.add((evalSpecURI, MLS['hasPart'],  accURI))      
    g.add((evalURI, MLS['specifiedBy'],accURI ))
    g.add((accURI, RDF['type'], MLS['EvaluationMeasure']))  
    g.add((accURI, RDFS['label'],  Literal('Accuracy')))
    g.add((accURI, MLS['hasValue'],  Literal('0.85')))
   
    return g

g =  ConjunctiveGraph(identifier = URIRef('http://bio2rdf.org/openpredict_resource:bio2rdf.dataset.openpredict.R1'))

g= addProvanace(g)

g.serialize('data/rdf/results_disjoint_lr.nq', format='nquads')""" ;
                                                                                         
                                                                                         dcat:downloadURL "https://github.com/fair-workflows/openpredict/blob/975324eb5263bc0d5d709f833baca31952817844/OpenPREDCIT%20-%20ML.ipynb" ;
                                                                                         
                                                                                         dc:language :ComputerLanguage_Python_3.7 .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Prepare_Input_Data_Files

opredict:Plan_Prepare_Input_Data_Files rdf:type p-plan:Plan ,
                                                owl:NamedIndividual ;
                                       
                                       rdfs:label "Prepare Input Data Files" ;
                                       
                                       dc:description "Prepare Input Data Files" ;
                                       
                                       dc:language :LinguisticSystem_xsd_language_English ;
                                       
                                       prov:wasRevisionOf opredict:Plan_Prepare_Input_Data_Files_v02 ;
                                       
                                       pwo:hasFirstStep opredict:Step_Download_and_save_Drugbank_dataset ,
                                                        opredict:Step_Download_and_save_Kegg_dataset ,
                                                        opredict:Step_Download_and_save_SIDER_dataset ,
                                                        opredict:Step_Download_and_save_human_interactome_barabasi ,
                                                        opredict:Step_Download_and_save_phenotype_annotations .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Prepare_Input_Data_Files_v02

opredict:Plan_Prepare_Input_Data_Files_v02 rdf:type p-plan:Plan ,
                                                    owl:NamedIndividual ;
                                           
                                           rdfs:label "Prepare Input Data Files" ;
                                           
                                           dc:description "Prepare Input Data Files" ;
                                           
                                           dc:language :LinguisticSystem_xsd_language_English ;
                                           
                                           prov:wasRevisionOf opredict:Plan_Prepare_Input_Data_Files ;
                                           
                                           pwo:hasFirstStep opredict:Step_Download_and_save_Drugbank_dataset ,
                                                            opredict:Step_Download_and_save_Kegg_dataset ,
                                                            opredict:Step_Download_and_save_SIDER_dataset ,
                                                            opredict:Step_Download_and_save_gold_standard_drug_indications ,
                                                            opredict:Step_Download_and_save_human_interactome_barabasi_v02 ,
                                                            opredict:Step_Download_and_save_mesh_annotation ,
                                                            opredict:Step_Download_and_save_phenotype_annotations_v02 ,
                                                            opredict:Step_Download_and_save_pubchem_to_drugbank .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Prepare_triplestore_for_input_data

opredict:Plan_Prepare_triplestore_for_input_data rdf:type p-plan:Plan ,
                                                          owl:NamedIndividual ;
                                                 
                                                 rdfs:label "Prepare triplestore for input data" ;
                                                 
                                                 dc:description """Prepare a triplestore to load all input data as RDF. Steps performed by Remzi here, e.g.:
1- Install Virtuoso/GraphDB in environment XPTO
2- Configure SPARQL endpoints 
3- Configure insert data interface""" ;
                                                 
                                                 dc:language :LinguisticSystem_xsd_language_English ;
                                                 
                                                 prov:qualifiedUsage :opredict_Link_variable_to_triplestore_for_input_data .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Save_Drugbank_dataset

opredict:Plan_Save_Drugbank_dataset rdf:type p-plan:Plan ,
                                             owl:NamedIndividual ;
                                    
                                    rdfs:label "Save Drugbank dataset" ;
                                    
                                    dc:description "Save Drugbank dataset" ;
                                    
                                    dc:language :LinguisticSystem_xsd_language_English ;
                                    
                                    prov:qualifiedUsage opredict:Link_variable_to_local_Drugbank_dataset .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Save_Kegg_dataset

opredict:Plan_Save_Kegg_dataset rdf:type p-plan:Plan ,
                                         owl:NamedIndividual ;
                                
                                rdfs:label "Save Kegg dataset" ;
                                
                                dc:description "Save Drugbank dataset file (.gz) and unzip into: D:\\Projects\\FAIR workflows\\POC\\OpenPREDICT\\Workflow\\input\\drugbank.nq" ;
                                
                                dc:language :LinguisticSystem_xsd_language_English ;
                                
                                prov:qualifiedUsage opredict:Link_variable_to_local_Kegg_dataset .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Save_SIDER_dataset

opredict:Plan_Save_SIDER_dataset rdf:type p-plan:Plan ,
                                          owl:NamedIndividual ;
                                 
                                 rdfs:label "Save SIDER dataset" ;
                                 
                                 dc:description "Save SIDER dataset" ;
                                 
                                 dc:language :LinguisticSystem_xsd_language_English ;
                                 
                                 prov:qualifiedUsage opredict:Link_variable_to_local_SIDER_dataset .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Save_as_drugbank-drug-smiles_tab

opredict:Plan_Save_as_drugbank-drug-smiles_tab rdf:type p-plan:Plan ,
                                                        owl:NamedIndividual ;
                                               
                                               rdfs:label "Save as drugbank-drug-smiles.tab" ;
                                               
                                               dc:description "Save as drugbank-drug-smiles.tab" ;
                                               
                                               dc:language :LinguisticSystem_xsd_language_English ;
                                               
                                               prov:qualifiedUsage opredict:Link_results_to_variable_Input_file_drugbank-drug-smiles_tab .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Save_as_drugbank-drug-target_tab

opredict:Plan_Save_as_drugbank-drug-target_tab rdf:type p-plan:Plan ,
                                                        owl:NamedIndividual ;
                                               
                                               rdfs:label "Save as drugbank drug-target.tab" ;
                                               
                                               dc:description "Save as drugbank drug-target.tab" ;
                                               
                                               dc:language :LinguisticSystem_xsd_language_English ;
                                               
                                               prov:qualifiedUsage opredict:Link_results_to_variable_Input_file_drugbank-drug-target_tab .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Save_as_drugbank-sider-se_tab

opredict:Plan_Save_as_drugbank-sider-se_tab rdf:type p-plan:Plan ,
                                                     owl:NamedIndividual ;
                                            
                                            rdfs:label "Save as drugbank-sider-se.tab" ;
                                            
                                            dc:description "Save as drugbank-sider-se.tab" ;
                                            
                                            dc:language :LinguisticSystem_xsd_language_English ;
                                            
                                            prov:qualifiedUsage opredict:Link_results_to_variable_Input_file_drugbank-sider-se_tab .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Save_files_in_triplestore

opredict:Plan_Save_files_in_triplestore rdf:type p-plan:Plan ,
                                                 owl:NamedIndividual ;
                                        
                                        rdfs:label "Save files in triplestore" ;
                                        
                                        dc:description "Instructions to save the RDF files in the triplestore" ;
                                        
                                        dc:language :LinguisticSystem_xsd_language_English .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Save_human_interactome_barabasi

opredict:Plan_Save_human_interactome_barabasi rdf:type p-plan:Plan ,
                                                       owl:NamedIndividual ;
                                              
                                              rdfs:label "Save human interactome barabasi" ;
                                              
                                              dc:description """1-Open file;
2-Remove header;
3-Save file as: human-interactome-barabasi.tab""" ;
                                              
                                              dc:language :LinguisticSystem_xsd_language_English ;
                                              
                                              prov:qualifiedUsage opredict:Link_variable_to_local_Human_interactome_barabasi .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Save_phenotype_annotations

opredict:Plan_Save_phenotype_annotations rdf:type p-plan:Plan ,
                                                  owl:NamedIndividual ;
                                         
                                         rdfs:label "Save phenotype annotations" ;
                                         
                                         dc:description "Save file as: /input/phenotype_annotation_hpoteam.tab" ;
                                         
                                         dc:language :LinguisticSystem_xsd_language_English ;
                                         
                                         prov:qualifiedUsage opredict:Link_variable_to_local_phenotype_annotations .



###  http://purl.org/plex/Instances/OpenPREDICT#Plan_Upload_files_to_a_triplestore

opredict:Plan_Upload_files_to_a_triplestore rdf:type p-plan:Plan ,
                                                     owl:NamedIndividual ;
                                            
                                            rdfs:label "Upload files to a triplestore" ;
                                            
                                            dc:description "Upload files to a triplestore" ;
                                            
                                            dc:language :LinguisticSystem_xsd_language_English ;
                                            
                                            pwo:hasFirstStep opredict:Step_Prepare_triplestore_for_input_data ;
                                            
                                            p-plan:hasInputVar opredict:Variable_Drugbank_dataset_local ,
                                                               opredict:Variable_Kegg_dataset_local ,
                                                               opredict:Variable_SIDER_dataset_local .



###  http://purl.org/plex/Instances/OpenPREDICT#QueryExecution_DRUG_SIDE_EFFECTS_from_SIDER

opredict:QueryExecution_DRUG_SIDE_EFFECTS_from_SIDER rdf:type owl:NamedIndividual ,
                                                              prov:Usage ;
                                                     
                                                     prov:entity opredict:Variable_Query_results_DRUG_SIDE_EFFECTS_from_SIDER .



###  http://purl.org/plex/Instances/OpenPREDICT#QueryExecution_DRUG_SMILES_from_DRUGBANK

opredict:QueryExecution_DRUG_SMILES_from_DRUGBANK rdf:type owl:NamedIndividual ,
                                                           prov:Usage ;
                                                  
                                                  prov:entity opredict:Variable_Query_results_DRUG_SMILES_from_DRUGBANK .



###  http://purl.org/plex/Instances/OpenPREDICT#QueryExecution_DRUG_TARGETS_from_DRUGBANK_and_KEGG

opredict:QueryExecution_DRUG_TARGETS_from_DRUGBANK_and_KEGG rdf:type owl:NamedIndividual ,
                                                                     prov:Usage ;
                                                            
                                                            prov:entity opredict:Variable_Query_results_DRUG_TARGETS_from_DRUGBANK_and_KEGG .



###  http://purl.org/plex/Instances/OpenPREDICT#Role_Developer

opredict:Role_Developer rdf:type owl:NamedIndividual ,
                                 prov:Role ;
                        
                        rdfs:label "Developer " .



###  http://purl.org/plex/Instances/OpenPREDICT#Role_Executor

opredict:Role_Executor rdf:type owl:NamedIndividual ,
                                prov:Role ;
                       
                       rdfs:label "Executor (tester?)" .



###  http://purl.org/plex/Instances/OpenPREDICT#SPARQLConstraint_DRUG_SIDE_EFFECTS_from_SIDER

opredict:SPARQLConstraint_DRUG_SIDE_EFFECTS_from_SIDER rdf:type owl:NamedIndividual ,
                                                                sh:SPARQLConstraint ;
                                                       
                                                       sh:select """PREFIX dv: <http://bio2rdf.org/drugbank_vocabulary:>
PREFIX sider: <http://bio2rdf.org/sider_vocabulary:>

SELECT distinct ?drugid ?se
{
?dia <http://bio2rdf.org/sider_vocabulary:drug> ?stitch_flat .
?dia <http://bio2rdf.org/sider_vocabulary:effect> ?se .
{
?stitch_flat <http://bio2rdf.org/sider_vocabulary:x-pubchem.compound> ?pc .
}
UNION{
?stitch_flat <http://bio2rdf.org/sider_vocabulary:stitch-stereo> ?stitch_stereo .
?stitch_stereo <http://bio2rdf.org/sider_vocabulary:x-pubchem.compound> ?pc .
}
?d dv:x-pubchemcompound ?pc  .
BIND(STRAFTER( str(?d), \"http://bio2rdf.org/drugbank:\") AS ?drugid)
}""" .



###  http://purl.org/plex/Instances/OpenPREDICT#SPARQLConstraint_DRUG_SMILES_from_DRUGBANK

opredict:SPARQLConstraint_DRUG_SMILES_from_DRUGBANK rdf:type owl:NamedIndividual ,
                                                             sh:SPARQLConstraint ;
                                                    
                                                    sh:select """PREFIX dv: <http://bio2rdf.org/drugbank_vocabulary:>

SELECT distinct ?drugid ?smiles
{
 ?d <http://bio2rdf.org/openpredict_vocabulary:indication> ?i .
 ?d dv:calculated-properties ?cp .
 ?cp a dv:SMILES .
 ?cp dv:value ?smiles .
 BIND( STRAFTER(str(?d), \"http://bio2rdf.org/drugbank:\") AS ?drugid)
}""" .



###  http://purl.org/plex/Instances/OpenPREDICT#SPARQLConstraint_DRUG_TARGETS_from_DRUGBANK_and_KEGG

opredict:SPARQLConstraint_DRUG_TARGETS_from_DRUGBANK_and_KEGG rdf:type owl:NamedIndividual ,
                                                                       sh:SPARQLConstraint ;
                                                              
                                                              sh:select """PREFIX iv: <http://bio2rdf.org/irefindex_vocabulary:>
PREFIX dv: <http://bio2rdf.org/drugbank_vocabulary:>
PREFIX hv: <http://bio2rdf.org/hgnc_vocabulary:>
PREFIX kv: <http://bio2rdf.org/kegg_vocabulary:>
SELECT distinct ?drugid ?geneid
WHERE
{
?drug <http://bio2rdf.org/openpredict_vocabulary:indication> ?i .
{
  ?d a kv:Drug .
  ?d kv:target ?l .
  ?l kv:link ?t .
  BIND (URI( REPLACE(str(?t),\"HSA\",\"hsa\")) AS ?target) .
  ?target a kv:Gene .
  ?target kv:x-ncbigene ?ncbi .
  #?target kv:x-uniprot ?ncbi .
  ?d kv:x-drugbank ?drug .
}
UNION
{
  ?drug a dv:Drug .
  ?drug dv:target ?target .
  ?target dv:x-hgnc ?hgnc .
  ?hgnc hv:x-ncbigene ?ncbi .
  #?hgnc hv:uniprot ?ncbi .
}
BIND ( STRAFTER(str(?ncbi),\"http://bio2rdf.org/ncbigene:\") AS ?geneid)
BIND( STRAFTER(str(?drug), \"http://bio2rdf.org/drugbank:\") AS ?drugid)
}""" .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Add_files_to_triplestore_and_execute_queries

opredict:Step_Add_files_to_triplestore_and_execute_queries rdf:type bpmn:ManualTask ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           rdfs:label "Add files to triplestore and execute queries" ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Add_files_to_triplestore_and_execute_queries ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ,
                                                                               opredict:Plan_Main_Protocol_v02 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Download_Drugbank_dataset

opredict:Step_Download_Drugbank_dataset rdf:type bpmn:ManualTask ,
                                                 edam:operation_2409 ,
                                                 p-plan:Step ,
                                                 owl:NamedIndividual ;
                                        
                                        rdfs:label "Download Drugbank dataset" ;
                                        
                                        dul:isDescribedBy opredict:Plan_Download_Drugbank_dataset ;
                                        
                                        p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                        
                                        dul:precedes opredict:Step_Save_Drugbank_dataset ;
                                        
                                        p-plan:hasOutputVar opredict:Variable_Drugbank_dataset_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Download_Kegg_dataset

opredict:Step_Download_Kegg_dataset rdf:type bpmn:ManualTask ,
                                             edam:operation_2409 ,
                                             p-plan:Step ,
                                             owl:NamedIndividual ;
                                    
                                    rdfs:label "Download Kegg dataset" ;
                                    
                                    dul:isDescribedBy opredict:Plan_Download_Kegg_dataset ;
                                    
                                    p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ,
                                                        opredict:Plan_Main_Protocol_v02 ;
                                    
                                    dul:precedes opredict:Step_Save_Kegg_dataset ;
                                    
                                    p-plan:hasOutputVar opredict:Variable_Kegg_dataset_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Download_SIDER_dataset

opredict:Step_Download_SIDER_dataset rdf:type bpmn:ManualTask ,
                                              edam:operation_2409 ,
                                              p-plan:Step ,
                                              owl:NamedIndividual ;
                                     
                                     rdfs:label "Download SIDER dataset" ;
                                     
                                     dul:isDescribedBy opredict:Plan_Download_SIDER_dataset ;
                                     
                                     p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ,
                                                         opredict:Plan_Main_Protocol_v02 ;
                                     
                                     dul:precedes opredict:Step_Save_SIDER_dataset ;
                                     
                                     p-plan:hasOutputVar opredict:Variable_SIDER_dataset_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Download_and_save_Drugbank_dataset

opredict:Step_Download_and_save_Drugbank_dataset rdf:type bpmn:ManualTask ,
                                                          edam:operation_2409 ,
                                                          p-plan:Step ,
                                                          owl:NamedIndividual ;
                                                 
                                                 rdfs:label "Download and save Drugbank dataset" ;
                                                 
                                                 dul:isDescribedBy opredict:Plan_Download_and_save_Drugbank_dataset ;
                                                 
                                                 p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ,
                                                                     opredict:Plan_Main_Protocol_v02 ;
                                                 
                                                 dul:precedes opredict:Step_Add_files_to_triplestore_and_execute_queries .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Download_and_save_Kegg_dataset

opredict:Step_Download_and_save_Kegg_dataset rdf:type bpmn:ManualTask ,
                                                      edam:operation_2409 ,
                                                      p-plan:Step ,
                                                      owl:NamedIndividual ;
                                             
                                             rdfs:label "Download and save Kegg dataset" ;
                                             
                                             dul:isDescribedBy opredict:Plan_Download_and_save_Kegg_dataset ;
                                             
                                             p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ,
                                                                 opredict:Plan_Main_Protocol_v02 ;
                                             
                                             dul:precedes opredict:Step_Add_files_to_triplestore_and_execute_queries .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Download_and_save_SIDER_dataset

opredict:Step_Download_and_save_SIDER_dataset rdf:type bpmn:ManualTask ,
                                                       edam:operation_2409 ,
                                                       p-plan:Step ,
                                                       owl:NamedIndividual ;
                                              
                                              rdfs:label "Download and save SIDER dataset" ;
                                              
                                              dul:isDescribedBy opredict:Plan_Download_and_save_SIDER_dataset ;
                                              
                                              p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ,
                                                                  opredict:Plan_Main_Protocol_v02 ;
                                              
                                              dul:precedes opredict:Step_Add_files_to_triplestore_and_execute_queries .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Download_and_save_gold_standard_drug_indications

opredict:Step_Download_and_save_gold_standard_drug_indications rdf:type bpmn:ScriptTask ,
                                                                        edam:operation_2409 ,
                                                                        p-plan:Step ,
                                                                        owl:NamedIndividual ;
                                                               
                                                               dul:isDescribedBy opredict:Plan_Download_and_save_gold_standard_drug_indications ;
                                                               
                                                               p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v02 ;
                                                               
                                                               p-plan:hasInputVar opredict:Variable_gold_standard_drug_indications_file_online ;
                                                               
                                                               p-plan:hasOutputVar opredict:Variable_gold_standard_drug_indications_local .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Download_and_save_human_interactome_barabasi

opredict:Step_Download_and_save_human_interactome_barabasi rdf:type bpmn:ManualTask ,
                                                                    edam:operation_2409 ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           rdfs:label "Download and save human interactome barabasi" ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Download_and_save_human_interactome_barabasi ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                           
                                                           dul:precedes opredict:Step_Execute_FAIRifier_process_to_human_interactome_barabasi .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Download_and_save_human_interactome_barabasi_v02

opredict:Step_Download_and_save_human_interactome_barabasi_v02 rdf:type bpmn:ScriptTask ,
                                                                        edam:operation_2409 ,
                                                                        p-plan:Step ,
                                                                        owl:NamedIndividual ;
                                                               
                                                               rdfs:label "Download and save human interactome barabasi" ;
                                                               
                                                               dul:isDescribedBy opredict:Plan_Download_and_save_human_interactome_barabasi_v02 ;
                                                               
                                                               p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v02 ;
                                                               
                                                               p-plan:hasOutputVar opredict:Variable_Human_interactome_barabasi_local ;
                                                               
                                                               p-plan:hasInputVar opredict:Variable_Human_interactome_barabasi_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Download_and_save_mesh_annotation

opredict:Step_Download_and_save_mesh_annotation rdf:type bpmn:ScriptTask ,
                                                         edam:operation_2409 ,
                                                         p-plan:Step ,
                                                         owl:NamedIndividual ;
                                                
                                                dul:isDescribedBy opredict:Plan_Download_and_save_mesh_annotation ;
                                                
                                                p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v02 ;
                                                
                                                p-plan:hasOutputVar opredict:Variable_mesh_annotation_file_local ;
                                                
                                                p-plan:hasInputVar opredict:Variable_mesh_annotation_file_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Download_and_save_phenotype_annotations

opredict:Step_Download_and_save_phenotype_annotations rdf:type bpmn:ManualTask ,
                                                               edam:operation_2409 ,
                                                               p-plan:Step ,
                                                               owl:NamedIndividual ;
                                                      
                                                      rdfs:label "Download and save phenotype annotations " ;
                                                      
                                                      dul:isDescribedBy opredict:Plan_Download_and_save_phenotype_annotations ;
                                                      
                                                      p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                      
                                                      dul:precedes opredict:Step_Execute_FAIRifier_process_to_phenotype_annotations .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Download_and_save_phenotype_annotations_v02

opredict:Step_Download_and_save_phenotype_annotations_v02 rdf:type bpmn:ScriptTask ,
                                                                   edam:operation_2409 ,
                                                                   p-plan:Step ,
                                                                   owl:NamedIndividual ;
                                                          
                                                          rdfs:label "Download and save phenotype annotations " ;
                                                          
                                                          dul:isDescribedBy opredict:Plan_Download_and_save_phenotype_annotations_v02 ;
                                                          
                                                          p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v02 ;
                                                          
                                                          p-plan:hasOutputVar opredict:Variable_Phenotype_annotations_file_local ;
                                                          
                                                          p-plan:hasInputVar opredict:Variable_Phenotype_annotations_file_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Download_and_save_pubchem_to_drugbank

opredict:Step_Download_and_save_pubchem_to_drugbank rdf:type bpmn:ScriptTask ,
                                                             edam:operation_2409 ,
                                                             p-plan:Step ,
                                                             owl:NamedIndividual ;
                                                    
                                                    dul:isDescribedBy opredict:Plan_Download_and_save_pubchem_to_drugbank ;
                                                    
                                                    p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v02 ;
                                                    
                                                    p-plan:hasInputVar opredict:Variable_mesh_annotation_file_online ;
                                                    
                                                    p-plan:hasOutputVar opredict:Variable_pubchem_to_drugbank_file_local .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Download_human_interactome_barabasi

opredict:Step_Download_human_interactome_barabasi rdf:type bpmn:ManualTask ,
                                                           edam:operation_2409 ,
                                                           p-plan:Step ,
                                                           owl:NamedIndividual ;
                                                  
                                                  rdfs:label "Download human interactome barabasi" ;
                                                  
                                                  dul:isDescribedBy opredict:Plan_Download_human_interactome_barabasi ;
                                                  
                                                  p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                  
                                                  dul:precedes opredict:Step_Save_human_interactome_barabasi ;
                                                  
                                                  p-plan:hasOutputVar opredict:Variable_Human_interactome_barabasi_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Download_phenotype_annotations

opredict:Step_Download_phenotype_annotations rdf:type bpmn:ManualTask ,
                                                      edam:operation_2409 ,
                                                      p-plan:Step ,
                                                      owl:NamedIndividual ;
                                             
                                             rdfs:label "Download phenotype annotations" ;
                                             
                                             dul:isDescribedBy opredict:Plan_Download_phenotype_annotations ;
                                             
                                             p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                             
                                             dul:precedes opredict:Step_Save_phenotype_annotations ;
                                             
                                             p-plan:hasOutputVar opredict:Variable_Phenotype_annotations_file_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Execute_FAIRifier_process_to_human_interactome_barabasi

opredict:Step_Execute_FAIRifier_process_to_human_interactome_barabasi rdf:type bpmn:ManualTask ,
                                                                               p-plan:Step ,
                                                                               owl:NamedIndividual ;
                                                                      
                                                                      rdfs:label "Execute FAIRifier process to human interactome barabasi" ;
                                                                      
                                                                      dul:isDescribedBy opredict:Plan_Execute_FAIRifier_process_to_human_interactome_barabasi ;
                                                                      
                                                                      p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Execute_FAIRifier_process_to_phenotype_annotations

opredict:Step_Execute_FAIRifier_process_to_phenotype_annotations rdf:type bpmn:ManualTask ,
                                                                          p-plan:Step ,
                                                                          owl:NamedIndividual ;
                                                                 
                                                                 rdfs:label "Execute FAIRifier process to phenotype annotations" ;
                                                                 
                                                                 dul:isDescribedBy opredict:Plan_Execute_FAIRifier_process_to_phenotype_annotations ;
                                                                 
                                                                 p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                                 
                                                                 p-plan:hasInputVar opredict:Variable_Phenotype_annotations_file_local .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Execute_queries_and_create_input_files_tab

opredict:Step_Execute_queries_and_create_input_files_tab rdf:type bpmn:ManualTask ,
                                                                  p-plan:Step ,
                                                                  owl:NamedIndividual ;
                                                         
                                                         dul:isDescribedBy opredict:Plan_Execute_queries_and_create_input_files_tab ;
                                                         
                                                         p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ,
                                                                             opredict:Plan_Main_Protocol_v02 ;
                                                         
                                                         p-plan:hasInputVar opredict:Variable_Triplestore_endpoint_for_input_data .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Execute_query_DRUG_SIDE_EFFECTS_from_SIDER

opredict:Step_Execute_query_DRUG_SIDE_EFFECTS_from_SIDER rdf:type bpmn:ManualTask ,
                                                                  p-plan:Step ,
                                                                  owl:NamedIndividual ;
                                                         
                                                         dul:isDescribedBy opredict:Plan_Execute_query_DRUG_SIDE_EFFECTS_from_SIDER ;
                                                         
                                                         p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                         
                                                         dul:precedes opredict:Step_Save_as_drugbank-sider-se_tab ;
                                                         
                                                         p-plan:hasOutputVar opredict:Variable_Query_results_DRUG_SIDE_EFFECTS_from_SIDER .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Execute_query_DRUG_SMILES_from_DRUGBANK

opredict:Step_Execute_query_DRUG_SMILES_from_DRUGBANK rdf:type bpmn:ManualTask ,
                                                               edam:operation_0224 ,
                                                               p-plan:Step ,
                                                               owl:NamedIndividual ;
                                                      
                                                      dul:isDescribedBy opredict:Plan_Execute_query_DRUG_SMILES_from_DRUGBANK ;
                                                      
                                                      p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                      
                                                      dul:precedes opredict:Step_Save_as_drugbank-drug-smiles_tab ;
                                                      
                                                      p-plan:hasOutputVar opredict:Variable_Query_results_DRUG_SMILES_from_DRUGBANK .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Execute_query_DRUG_TARGETS_from_DRUGBANK_and_KEGG

opredict:Step_Execute_query_DRUG_TARGETS_from_DRUGBANK_and_KEGG rdf:type bpmn:ManualTask ,
                                                                         edam:operation_0224 ,
                                                                         p-plan:Step ,
                                                                         owl:NamedIndividual ;
                                                                
                                                                dul:isDescribedBy opredict:Plan_Execute_query_DRUG_TARGETS_-from_DRUGBANK_and_KEGG ;
                                                                
                                                                p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                                
                                                                dul:precedes opredict:Step_Save_as_drugbank-drug-target_tab ;
                                                                
                                                                p-plan:hasOutputVar opredict:Variable_Query_results_DRUG_TARGETS_from_DRUGBANK_and_KEGG .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell00

opredict:Step_Feature_generation_01_Pipeline_Source_Cell00 rdf:type bpmn:ScriptTask ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell00 ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                           
                                                           dul:precedes opredict:Step_Feature_generation_01_Pipeline_Source_Cell01 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell01

opredict:Step_Feature_generation_01_Pipeline_Source_Cell01 rdf:type bpmn:ScriptTask ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell01 ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                           
                                                           dul:precedes opredict:Step_Feature_generation_01_Pipeline_Source_Cell02 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell01_Spec

opredict:Step_Feature_generation_01_Pipeline_Source_Cell01_Spec rdf:type bpmn:ManualTask ,
                                                                         p-plan:Step ,
                                                                         owl:NamedIndividual ;
                                                                
                                                                dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell01_Spec ;
                                                                
                                                                p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                                
                                                                dul:precedes opredict:Step_Feature_generation_01_Pipeline_Source_Cell06_Spec .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell02

opredict:Step_Feature_generation_01_Pipeline_Source_Cell02 rdf:type bpmn:ScriptTask ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell02 ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                           
                                                           dul:precedes opredict:Step_Feature_generation_01_Pipeline_Source_Cell03 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell03

opredict:Step_Feature_generation_01_Pipeline_Source_Cell03 rdf:type bpmn:ScriptTask ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell03 ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                           
                                                           dul:precedes opredict:Step_Feature_generation_01_Pipeline_Source_Cell04 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell04

opredict:Step_Feature_generation_01_Pipeline_Source_Cell04 rdf:type bpmn:ScriptTask ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell04 ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                           
                                                           dul:precedes opredict:Step_Feature_generation_01_Pipeline_Source_Cell05 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell05

opredict:Step_Feature_generation_01_Pipeline_Source_Cell05 rdf:type bpmn:ScriptTask ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell05 ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                           
                                                           dul:precedes opredict:Step_Feature_generation_01_Pipeline_Source_Cell06 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell06

opredict:Step_Feature_generation_01_Pipeline_Source_Cell06 rdf:type bpmn:ScriptTask ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell06 ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                           
                                                           dul:precedes opredict:Step_Feature_generation_01_Pipeline_Source_Cell07 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell06_Spec

opredict:Step_Feature_generation_01_Pipeline_Source_Cell06_Spec rdf:type bpmn:ManualTask ,
                                                                         p-plan:Step ,
                                                                         owl:NamedIndividual ;
                                                                
                                                                dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell06_Spec ;
                                                                
                                                                p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                                
                                                                dul:precedes opredict:Step_Feature_generation_01_Pipeline_Source_Cell10_Spec .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell07

opredict:Step_Feature_generation_01_Pipeline_Source_Cell07 rdf:type bpmn:ScriptTask ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell07 ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                           
                                                           dul:precedes opredict:Step_Feature_generation_01_Pipeline_Source_Cell08 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell08

opredict:Step_Feature_generation_01_Pipeline_Source_Cell08 rdf:type bpmn:ScriptTask ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell08 ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                           
                                                           dul:precedes opredict:Step_Feature_generation_01_Pipeline_Source_Cell09 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell09

opredict:Step_Feature_generation_01_Pipeline_Source_Cell09 rdf:type bpmn:ScriptTask ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell09 ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                           
                                                           dul:precedes opredict:Step_Feature_generation_01_Pipeline_Source_Cell10 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell10

opredict:Step_Feature_generation_01_Pipeline_Source_Cell10 rdf:type bpmn:ScriptTask ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell10 ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                           
                                                           dul:precedes opredict:Step_Feature_generation_01_Pipeline_Source_Cell11 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell10_Spec

opredict:Step_Feature_generation_01_Pipeline_Source_Cell10_Spec rdf:type bpmn:ManualTask ,
                                                                         p-plan:Step ,
                                                                         owl:NamedIndividual ;
                                                                
                                                                dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell10_Spec ;
                                                                
                                                                p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell11

opredict:Step_Feature_generation_01_Pipeline_Source_Cell11 rdf:type bpmn:ScriptTask ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell11 ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                           
                                                           dul:precedes opredict:Step_Feature_generation_01_Pipeline_Source_Cell12 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell12

opredict:Step_Feature_generation_01_Pipeline_Source_Cell12 rdf:type bpmn:ScriptTask ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell12 ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                           
                                                           dul:precedes opredict:Step_Feature_generation_01_Pipeline_Source_Cell13 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell13

opredict:Step_Feature_generation_01_Pipeline_Source_Cell13 rdf:type bpmn:ScriptTask ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell13 ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                           
                                                           dul:precedes opredict:Step_Feature_generation_01_Pipeline_Source_Cell14 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell14

opredict:Step_Feature_generation_01_Pipeline_Source_Cell14 rdf:type bpmn:ScriptTask ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell14 ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                           
                                                           dul:precedes opredict:Step_Feature_generation_01_Pipeline_Source_Cell15 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_01_Pipeline_Source_Cell15

opredict:Step_Feature_generation_01_Pipeline_Source_Cell15 rdf:type bpmn:ScriptTask ,
                                                                    p-plan:Step ,
                                                                    owl:NamedIndividual ;
                                                           
                                                           dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_Source_Cell15 ;
                                                           
                                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_Pipeline_OpenPREDICT_ipynb

opredict:Step_Feature_generation_Pipeline_OpenPREDICT_ipynb rdf:type bpmn:ScriptTask ,
                                                                     p-plan:Step ,
                                                                     owl:NamedIndividual ;
                                                            
                                                            rdfs:label "Feature generation: Pipeline OpenPREDICT.ipynb" ;
                                                            
                                                            dul:isDescribedBy opredict:Plan_Feature_generation_01_Pipeline_OpenPREDICT_ipynb ;
                                                            
                                                            p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                            
                                                            dul:precedes opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02

opredict:Step_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02 rdf:type bpmn:ScriptTask ,
                                                                         p-plan:Step ,
                                                                         owl:NamedIndividual ;
                                                                
                                                                rdfs:label "Feature generation: Pipeline OpenPREDICT.ipynb v.0.2" ;
                                                                
                                                                dul:isDescribedBy opredict:Plan_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02 ;
                                                                
                                                                p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v02 ;
                                                                
                                                                dul:precedes opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_Download_and_Save_Input

opredict:Step_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_Download_and_Save_Input rdf:type bpmn:ScriptTask ,
                                                                                                 p-plan:Step ,
                                                                                                 owl:NamedIndividual ;
                                                                                        
                                                                                        dul:isDescribedBy opredict:Plan_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_Download_and_Save_Input ;
                                                                                        
                                                                                        p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v02 ;
                                                                                        
                                                                                        dul:precedes opredict:Step_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_FeatureGeneration .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_FeatureGeneration

opredict:Step_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_FeatureGeneration rdf:type bpmn:ScriptTask ,
                                                                                           p-plan:Step ,
                                                                                           owl:NamedIndividual ;
                                                                                  
                                                                                  dul:isDescribedBy opredict:Plan_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_FeatureGeneration ;
                                                                                  
                                                                                  p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v02 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Format_results_for_presentation

opredict:Step_Format_results_for_presentation rdf:type p-plan:Step ,
                                                       owl:NamedIndividual ;
                                              
                                              rdfs:label "Format results for presentation" ;
                                              
                                              dul:isDescribedBy opredict:Plan_Format_results_for_presentation ;
                                              
                                              p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell00

opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell00 rdf:type bpmn:ScriptTask ,
                                                                                                     p-plan:Step ,
                                                                                                     owl:NamedIndividual ;
                                                                                            
                                                                                            p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                                                            
                                                                                            dul:isDescribedBy opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell00 ;
                                                                                            
                                                                                            dul:precedes opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell01 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell01

opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell01 rdf:type bpmn:ScriptTask ,
                                                                                                     p-plan:Step ,
                                                                                                     owl:NamedIndividual ;
                                                                                            
                                                                                            p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                                                            
                                                                                            dul:isDescribedBy opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell01 ;
                                                                                            
                                                                                            dul:precedes opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell02 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell02

opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell02 rdf:type bpmn:ScriptTask ,
                                                                                                     p-plan:Step ,
                                                                                                     owl:NamedIndividual ;
                                                                                            
                                                                                            p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                                                            
                                                                                            dul:isDescribedBy opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell02 ;
                                                                                            
                                                                                            dul:precedes opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell03 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell03

opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell03 rdf:type bpmn:ScriptTask ,
                                                                                                     p-plan:Step ,
                                                                                                     owl:NamedIndividual ;
                                                                                            
                                                                                            p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                                                            
                                                                                            dul:isDescribedBy opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell03 ;
                                                                                            
                                                                                            dul:precedes opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell04 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell04

opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell04 rdf:type bpmn:ScriptTask ,
                                                                                                     p-plan:Step ,
                                                                                                     owl:NamedIndividual ;
                                                                                            
                                                                                            p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                                                            
                                                                                            dul:isDescribedBy opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell04 ;
                                                                                            
                                                                                            dul:precedes opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell05 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell05

opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell05 rdf:type bpmn:ScriptTask ,
                                                                                                     p-plan:Step ,
                                                                                                     owl:NamedIndividual ;
                                                                                            
                                                                                            p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                                                            
                                                                                            dul:isDescribedBy opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell05 ;
                                                                                            
                                                                                            dul:precedes opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell06 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell06

opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell06 rdf:type bpmn:ScriptTask ,
                                                                                                     p-plan:Step ,
                                                                                                     owl:NamedIndividual ;
                                                                                            
                                                                                            p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                                                            
                                                                                            dul:isDescribedBy opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell06 ;
                                                                                            
                                                                                            dul:precedes opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell07 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell07

opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell07 rdf:type bpmn:ScriptTask ,
                                                                                                     p-plan:Step ,
                                                                                                     owl:NamedIndividual ;
                                                                                            
                                                                                            p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                                                            
                                                                                            dul:isDescribedBy opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell07 ;
                                                                                            
                                                                                            dul:precedes opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell08 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell08

opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell08 rdf:type bpmn:ScriptTask ,
                                                                                                     p-plan:Step ,
                                                                                                     owl:NamedIndividual ;
                                                                                            
                                                                                            p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                                                            
                                                                                            dul:isDescribedBy opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell08 ;
                                                                                            
                                                                                            dul:precedes opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell09 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell09

opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell09 rdf:type bpmn:ScriptTask ,
                                                                                                     p-plan:Step ,
                                                                                                     owl:NamedIndividual ;
                                                                                            
                                                                                            p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                                                            
                                                                                            dul:isDescribedBy opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell09 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb

opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb rdf:type bpmn:ScriptTask ,
                                                                                              p-plan:Step ,
                                                                                              owl:NamedIndividual ;
                                                                                     
                                                                                     rdfs:label "Model preparation, train and evaluation Workflow: OpenPREDCIT - ML.ipynb" ;
                                                                                     
                                                                                     p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                                                     
                                                                                     dul:isDescribedBy opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb ;
                                                                                     
                                                                                     dul:precedes opredict:Step_Format_results_for_presentation .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02

opredict:Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02 rdf:type bpmn:ScriptTask ,
                                                                                                  p-plan:Step ,
                                                                                                  owl:NamedIndividual ;
                                                                                         
                                                                                         rdfs:label "Model preparation, train and evaluation Workflow: OpenPREDCIT - ML.ipynb" ;
                                                                                         
                                                                                         p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v02 ;
                                                                                         
                                                                                         dul:isDescribedBy opredict:Plan_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02 ;
                                                                                         
                                                                                         dul:precedes opredict:Step_Format_results_for_presentation .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Prepare_Input_Data_Files

opredict:Step_Prepare_Input_Data_Files rdf:type bpmn:ManualTask ,
                                                p-plan:Step ,
                                                owl:NamedIndividual ;
                                       
                                       rdfs:label "Prepare Input Data Files" ;
                                       
                                       p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                       
                                       dul:isDescribedBy opredict:Plan_Prepare_Input_Data_Files ;
                                       
                                       dul:precedes opredict:Step_Feature_generation_Pipeline_OpenPREDICT_ipynb .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Prepare_Input_Data_Files_v02

opredict:Step_Prepare_Input_Data_Files_v02 rdf:type bpmn:ScriptTask ,
                                                    p-plan:Step ,
                                                    owl:NamedIndividual ;
                                           
                                           rdfs:label "Prepare Input Data Files" ;
                                           
                                           p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v02 ;
                                           
                                           dul:isDescribedBy opredict:Plan_Prepare_Input_Data_Files_v02 ;
                                           
                                           dul:precedes opredict:Step_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02 .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Prepare_triplestore_for_input_data

opredict:Step_Prepare_triplestore_for_input_data rdf:type bpmn:ManualTask ,
                                                          p-plan:Step ,
                                                          owl:NamedIndividual ;
                                                 
                                                 dc:description "Configure a triplestore to upload all input data as RDF" ;
                                                 
                                                 p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                                 
                                                 dul:isDescribedBy opredict:Plan_Prepare_triplestore_for_input_data ;
                                                 
                                                 dul:precedes opredict:Step_Save_files_in_triplestore ;
                                                 
                                                 p-plan:hasOutputVar opredict:Variable_Triplestore_endpoint_for_input_data .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Save_Drugbank_dataset

opredict:Step_Save_Drugbank_dataset rdf:type bpmn:ManualTask ,
                                             p-plan:Step ,
                                             owl:NamedIndividual ;
                                    
                                    rdfs:label "Save Drugbank dataset" ;
                                    
                                    p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                    
                                    dul:isDescribedBy opredict:Plan_Save_Drugbank_dataset ;
                                    
                                    p-plan:hasOutputVar opredict:Variable_Drugbank_dataset_local ;
                                    
                                    p-plan:hasInputVar opredict:Variable_Drugbank_dataset_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Save_Kegg_dataset

opredict:Step_Save_Kegg_dataset rdf:type bpmn:ManualTask ,
                                         p-plan:Step ,
                                         owl:NamedIndividual ;
                                
                                rdfs:label "Save Kegg dataset" ;
                                
                                p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ,
                                                    opredict:Plan_Main_Protocol_v02 ;
                                
                                dul:isDescribedBy opredict:Plan_Save_Kegg_dataset ;
                                
                                p-plan:hasOutputVar opredict:Variable_Kegg_dataset_local ;
                                
                                p-plan:hasInputVar opredict:Variable_Kegg_dataset_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Save_SIDER_dataset

opredict:Step_Save_SIDER_dataset rdf:type bpmn:ManualTask ,
                                          p-plan:Step ,
                                          owl:NamedIndividual ;
                                 
                                 rdfs:label "Save SIDER dataset" ;
                                 
                                 p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ,
                                                     opredict:Plan_Main_Protocol_v02 ;
                                 
                                 dul:isDescribedBy opredict:Plan_Save_SIDER_dataset ;
                                 
                                 p-plan:hasOutputVar opredict:Variable_SIDER_dataset_local ;
                                 
                                 p-plan:hasInputVar opredict:Variable_SIDER_dataset_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Save_as_drugbank-drug-smiles_tab

opredict:Step_Save_as_drugbank-drug-smiles_tab rdf:type bpmn:ManualTask ,
                                                        p-plan:Step ,
                                                        owl:NamedIndividual ;
                                               
                                               p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                               
                                               dul:isDescribedBy opredict:Plan_Save_as_drugbank-drug-smiles_tab ;
                                               
                                               p-plan:hasOutputVar opredict:Variable_Input_file_drugbank-drug-smiles_tab ;
                                               
                                               p-plan:hasInputVar opredict:Variable_Query_results_DRUG_SMILES_from_DRUGBANK .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Save_as_drugbank-drug-target_tab

opredict:Step_Save_as_drugbank-drug-target_tab rdf:type bpmn:ManualTask ,
                                                        p-plan:Step ,
                                                        owl:NamedIndividual ;
                                               
                                               p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                               
                                               dul:isDescribedBy opredict:Plan_Save_as_drugbank-drug-target_tab ;
                                               
                                               p-plan:hasOutputVar opredict:Variable_Input_file_drugbank-drug-target_tab ;
                                               
                                               p-plan:hasInputVar opredict:Variable_Query_results_DRUG_TARGETS_from_DRUGBANK_and_KEGG .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Save_as_drugbank-sider-se_tab

opredict:Step_Save_as_drugbank-sider-se_tab rdf:type bpmn:ManualTask ,
                                                     p-plan:Step ,
                                                     owl:NamedIndividual ;
                                            
                                            p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                            
                                            dul:isDescribedBy opredict:Plan_Save_as_drugbank-sider-se_tab ;
                                            
                                            p-plan:hasOutputVar opredict:Variable_Input_file_drugbank-sider-se_tab ;
                                            
                                            p-plan:hasInputVar opredict:Variable_Query_results_DRUG_SIDE_EFFECTS_from_SIDER .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Save_files_in_triplestore

opredict:Step_Save_files_in_triplestore rdf:type bpmn:ManualTask ,
                                                 p-plan:Step ,
                                                 owl:NamedIndividual ;
                                        
                                        p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                        
                                        dul:isDescribedBy opredict:Plan_Save_files_in_triplestore ;
                                        
                                        p-plan:hasOutputVar opredict:Variable_Triplestore_endpoint_for_input_data ;
                                        
                                        p-plan:hasInputVar opredict:Variable_Triplestore_endpoint_for_input_data .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Save_human_interactome_barabasi

opredict:Step_Save_human_interactome_barabasi rdf:type bpmn:ManualTask ,
                                                       p-plan:Step ,
                                                       owl:NamedIndividual ;
                                              
                                              rdfs:label "Save human interactome barabasi" ;
                                              
                                              p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                              
                                              dul:isDescribedBy opredict:Plan_Save_human_interactome_barabasi ;
                                              
                                              p-plan:hasOutputVar opredict:Variable_Human_interactome_barabasi_local ;
                                              
                                              p-plan:hasInputVar opredict:Variable_Human_interactome_barabasi_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Save_phenotype_annotations

opredict:Step_Save_phenotype_annotations rdf:type bpmn:ManualTask ,
                                                  p-plan:Step ,
                                                  owl:NamedIndividual ;
                                         
                                         rdfs:label "Save phenotype annotations" ;
                                         
                                         p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ;
                                         
                                         dul:isDescribedBy opredict:Plan_Save_phenotype_annotations ;
                                         
                                         p-plan:hasOutputVar opredict:Variable_Phenotype_annotations_file_local ;
                                         
                                         p-plan:hasInputVar opredict:Variable_Phenotype_annotations_file_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Step_Upload_files_to_a_triplestore

opredict:Step_Upload_files_to_a_triplestore rdf:type bpmn:ManualTask ,
                                                     p-plan:Step ,
                                                     owl:NamedIndividual ;
                                            
                                            p-plan:isStepOfPlan opredict:Plan_Main_Protocol_v01 ,
                                                                opredict:Plan_Main_Protocol_v02 ;
                                            
                                            dul:isDescribedBy opredict:Plan_Upload_files_to_a_triplestore ;
                                            
                                            dul:precedes opredict:Step_Execute_queries_and_create_input_files_tab .



###  http://purl.org/plex/Instances/OpenPREDICT#Triplestore_endpoint_input_data

opredict:Triplestore_endpoint_input_data rdf:type fabio:Triplestore ,
                                                  owl:NamedIndividual ,
                                                  dcat:Distribution ;
                                         
                                         dc:description """** TODO: check the best way to represent a triplestore and its endpoints for: 
1- data insertion from files
2- SPARQL endpoint""" ;
                                         
                                         <http://schema.org#URL> "https://graphdb.dumontierlab.com/repositories/bio2rdf_remzi" ,
                                                                 "http://yasgui.org/#" .



###  http://purl.org/plex/Instances/OpenPREDICT#Usage_Fetch_download-_phenotype_annotations_to_variable

opredict:Usage_Fetch_download-_phenotype_annotations_to_variable rdf:type owl:NamedIndividual ,
                                                                          prov:Usage ;
                                                                 
                                                                 rdfs:label "Link variable to download- phenotype annotations" ;
                                                                 
                                                                 prov:entity opredict:Distribution_phenotype_annotation_hpoteam.tab_Build_1263 ,
                                                                             opredict:Variable_Phenotype_annotations_file_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Usage_Fetch_download-_phenotype_annotations_to_variable_v02

opredict:Usage_Fetch_download-_phenotype_annotations_to_variable_v02 rdf:type owl:NamedIndividual ,
                                                                              prov:Usage ;
                                                                     
                                                                     rdfs:label "Link variable to download- phenotype annotations" ;
                                                                     
                                                                     prov:entity opredict:Distribution_phenotype_annotation_hpoteam.tab_Build_1266 ,
                                                                                 opredict:Variable_Phenotype_annotations_file_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Usage_Fetch_download_Drugbank_dataset_to_variable

opredict:Usage_Fetch_download_Drugbank_dataset_to_variable rdf:type owl:NamedIndividual ,
                                                                    prov:Usage ;
                                                           
                                                           rdfs:label "Link variable to download Drugbank dataset" ;
                                                           
                                                           prov:entity opredict:Distribution_release-4-drugbank-drugbank.nq.gz ,
                                                                       opredict:Variable_Drugbank_dataset_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Usage_Fetch_download_Human_interactome_barabasi_to_variable

opredict:Usage_Fetch_download_Human_interactome_barabasi_to_variable rdf:type owl:NamedIndividual ,
                                                                              prov:Usage ;
                                                                     
                                                                     rdfs:label "Link variable to download Human interactome barabasi" ;
                                                                     
                                                                     prov:entity opredict:Distribution_srep-2016-161017-srep35241-extref-srep35241-s3.txt ,
                                                                                 opredict:Variable_Human_interactome_barabasi_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Usage_Fetch_download_Kegg_dataset_to_variable

opredict:Usage_Fetch_download_Kegg_dataset_to_variable rdf:type owl:NamedIndividual ,
                                                                prov:Usage ;
                                                       
                                                       rdfs:label "Link variable to download Kegg dataset" ;
                                                       
                                                       prov:entity opredict:Distribution_release-4-kegg-kegg-drug.nq.gz ,
                                                                   opredict:Variable_Kegg_dataset_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Usage_Fetch_download_SIDER_dataset_to_variable

opredict:Usage_Fetch_download_SIDER_dataset_to_variable rdf:type owl:NamedIndividual ,
                                                                 prov:Usage ;
                                                        
                                                        rdfs:label "Link variable to download SIDER dataset" ;
                                                        
                                                        prov:entity opredict:Distribution_release-4-sider-sider-se.nq.gz ,
                                                                    opredict:Variable_SIDER_dataset_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Usage_Fetch_download_gold_standard_drug_indications

opredict:Usage_Fetch_download_gold_standard_drug_indications rdf:type owl:NamedIndividual ,
                                                                      prov:Usage ;
                                                             
                                                             rdfs:label "Link variable to download gold_standard_drug_indications" ;
                                                             
                                                             prov:entity opredict:Distribution_gold_standard_drug_indications_msb201126-s4.xls ,
                                                                         opredict:Variable_gold_standard_drug_indications_file_online ,
                                                                         opredict:Variable_gold_standard_drug_indications_local .



###  http://purl.org/plex/Instances/OpenPREDICT#Usage_Fetch_download_mesh_annotation_to_variable

opredict:Usage_Fetch_download_mesh_annotation_to_variable rdf:type owl:NamedIndividual ,
                                                                   prov:Usage ;
                                                          
                                                          rdfs:label "Link variable to download- mesh_annotation" ;
                                                          
                                                          prov:entity opredict:Distribution_mesh_annotation_mim2mesh.tsv ,
                                                                      opredict:Variable_mesh_annotation_file_local ,
                                                                      opredict:Variable_mesh_annotation_file_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Usage_Fetch_download_pubchem_to_drugbank

opredict:Usage_Fetch_download_pubchem_to_drugbank rdf:type owl:NamedIndividual ,
                                                           prov:Usage ;
                                                  
                                                  rdfs:label "Link variable to download Pubchem ids" ;
                                                  
                                                  prov:entity opredict:Distribution_pubchem_to_drugbank_pubchem.tsv ,
                                                              opredict:Variable_pubchem_to_drugbank_file_local ,
                                                              opredict:Variable_pubchem_to_drugbank_file_online .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_Drugbank_dataset_local

opredict:Variable_Drugbank_dataset_local rdf:type p-plan:Variable ,
                                                  owl:NamedIndividual ;
                                         
                                         rdfs:label "Drugbank dataset local" .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_Drugbank_dataset_online

opredict:Variable_Drugbank_dataset_online rdf:type p-plan:Variable ,
                                                   owl:NamedIndividual ;
                                          
                                          rdfs:label "Drugbank dataset online" .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_Human_interactome_barabasi_local

opredict:Variable_Human_interactome_barabasi_local rdf:type p-plan:Variable ,
                                                            owl:NamedIndividual ;
                                                   
                                                   rdfs:label "Human interactome barabasi local" .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_Human_interactome_barabasi_online

opredict:Variable_Human_interactome_barabasi_online rdf:type p-plan:Variable ,
                                                             owl:NamedIndividual ;
                                                    
                                                    rdfs:label "Human interactome barabasi online" .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_Input_file_drugbank-drug-smiles_tab

opredict:Variable_Input_file_drugbank-drug-smiles_tab rdf:type p-plan:Variable ,
                                                               owl:NamedIndividual .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_Input_file_drugbank-drug-target_tab

opredict:Variable_Input_file_drugbank-drug-target_tab rdf:type p-plan:Variable ,
                                                               owl:NamedIndividual .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_Input_file_drugbank-sider-se_tab

opredict:Variable_Input_file_drugbank-sider-se_tab rdf:type p-plan:Variable ,
                                                            owl:NamedIndividual .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_Kegg_dataset_local

opredict:Variable_Kegg_dataset_local rdf:type p-plan:Variable ,
                                              owl:NamedIndividual ;
                                     
                                     rdfs:label "Kegg dataset local" .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_Kegg_dataset_online

opredict:Variable_Kegg_dataset_online rdf:type p-plan:Variable ,
                                               owl:NamedIndividual ;
                                      
                                      rdfs:label "Kegg dataset online" .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_Phenotype_annotations_file_local

opredict:Variable_Phenotype_annotations_file_local rdf:type p-plan:Variable ,
                                                            owl:NamedIndividual ;
                                                   
                                                   rdfs:label "Phenotype annotations file local" .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_Phenotype_annotations_file_online

opredict:Variable_Phenotype_annotations_file_online rdf:type p-plan:Variable ,
                                                             owl:NamedIndividual ;
                                                    
                                                    rdfs:label "Phenotype annotations file online" .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_Query_results_DRUG_SIDE_EFFECTS_from_SIDER

opredict:Variable_Query_results_DRUG_SIDE_EFFECTS_from_SIDER rdf:type p-plan:Variable ,
                                                                      owl:NamedIndividual .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_Query_results_DRUG_SMILES_from_DRUGBANK

opredict:Variable_Query_results_DRUG_SMILES_from_DRUGBANK rdf:type p-plan:Variable ,
                                                                   owl:NamedIndividual .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_Query_results_DRUG_TARGETS_from_DRUGBANK_and_KEGG

opredict:Variable_Query_results_DRUG_TARGETS_from_DRUGBANK_and_KEGG rdf:type p-plan:Variable ,
                                                                             owl:NamedIndividual .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_SIDER_dataset_local

opredict:Variable_SIDER_dataset_local rdf:type p-plan:Variable ,
                                               owl:NamedIndividual ;
                                      
                                      rdfs:label "SIDER dataset local" .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_SIDER_dataset_online

opredict:Variable_SIDER_dataset_online rdf:type p-plan:Variable ,
                                                owl:NamedIndividual ;
                                       
                                       rdfs:label "SIDER dataset online" .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_Triplestore_endpoint_for_input_data

opredict:Variable_Triplestore_endpoint_for_input_data rdf:type p-plan:Variable ,
                                                               owl:NamedIndividual .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_gold_standard_drug_indications_file_online

opredict:Variable_gold_standard_drug_indications_file_online rdf:type p-plan:Variable ,
                                                                      owl:NamedIndividual ;
                                                             
                                                             rdfs:label "gold_standard_drug_indications file online" .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_gold_standard_drug_indications_local

opredict:Variable_gold_standard_drug_indications_local rdf:type p-plan:Variable ,
                                                                owl:NamedIndividual ;
                                                       
                                                       rdfs:label "gold_standard_drug_indications file local" .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_mesh_annotation_file_local

opredict:Variable_mesh_annotation_file_local rdf:type p-plan:Variable ,
                                                      owl:NamedIndividual ;
                                             
                                             rdfs:label "Mesh annotation file local" .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_mesh_annotation_file_online

opredict:Variable_mesh_annotation_file_online rdf:type p-plan:Variable ,
                                                       owl:NamedIndividual ;
                                              
                                              rdfs:label "mesh_annotation file online" .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_pubchem_to_drugbank_file_local

opredict:Variable_pubchem_to_drugbank_file_local rdf:type p-plan:Variable ,
                                                          owl:NamedIndividual ;
                                                 
                                                 rdfs:label "Pubchem file local" .



###  http://purl.org/plex/Instances/OpenPREDICT#Variable_pubchem_to_drugbank_file_online

opredict:Variable_pubchem_to_drugbank_file_online rdf:type p-plan:Variable ,
                                                           owl:NamedIndividual ;
                                                  
                                                  rdfs:label "pubchem file online" .



###  http://purl.org/plex/Instances/OpenPREDICT#WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell01_Execution_1546300862

opredict:WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell01_Execution_1546300862 rdf:type opmw:WorkflowExecutionArtifact ,
                                                                                                                          owl:NamedIndividual ;
                                                                                                                 
                                                                                                                 dc:description """
      \"text/html\": [
       \"<div>\\n\",
       \"<style scoped>\\n\",
       \"    .dataframe tbody tr th:only-of-type {\\n\",
       \"        vertical-align: middle;\\n\",
       \"    }\\n\",
       \"\\n\",
       \"    .dataframe tbody tr th {\\n\",
       \"        vertical-align: top;\\n\",
       \"    }\\n\",
       \"\\n\",
       \"    .dataframe thead th {\\n\",
       \"        text-align: right;\\n\",
       \"    }\\n\",
       \"</style>\\n\",
       \"<table border=\\\"1\\\" class=\\\"dataframe\\\">\\n\",
       \"  <thead>\\n\",
       \"    <tr style=\\\"text-align: right;\\\">\\n\",
       \"      <th></th>\\n\",
       \"      <th>drugid</th>\\n\",
       \"      <th>smiles</th>\\n\",
       \"    </tr>\\n\",
       \"  </thead>\\n\",
       \"  <tbody>\\n\",
       \"    <tr>\\n\",
       \"      <th>0</th>\\n\",
       \"      <td>DB00014</td>\\n\",
       \"      <td>CC(C)C[C@H](NC(=O)[C@@H](COC(C)(C)C)NC(=O)[C@H...</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>1</th>\\n\",
       \"      <td>DB00035</td>\\n\",
       \"      <td>NC(=O)CC[C@@H]1NC(=O)[C@H](CC2=CC=CC=C2)NC(=O)...</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>2</th>\\n\",
       \"      <td>DB00091</td>\\n\",
       \"      <td>CCC1NC(=O)C(C(O)C(C)CC=CC)N(C)C(=O)C(C(C)C)N(C...</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>3</th>\\n\",
       \"      <td>DB00104</td>\\n\",
       \"      <td>C[C@@H](O)[C@@H](CO)NC(=O)[C@@H]1CSSC[C@H](NC(...</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>4</th>\\n\",
       \"      <td>DB00114</td>\\n\",
       \"      <td>CC1=NC=C(COP(O)(O)=O)C(C=O)=C1O</td>\\n\",
       \"    </tr>\\n\",
       \"  </tbody>\\n\",
       \"</table>\\n\",
       \"</div>\"
      ],
      \"text/plain\": [
       \"    drugid                                             smiles\\n\",
       \"0  DB00014  CC(C)C[C@H](NC(=O)[C@@H](COC(C)(C)C)NC(=O)[C@H...\\n\",
       \"1  DB00035  NC(=O)CC[C@@H]1NC(=O)[C@H](CC2=CC=CC=C2)NC(=O)...\\n\",
       \"2  DB00091  CCC1NC(=O)C(C(O)C(C)CC=CC)N(C)C(=O)C(C(C)C)N(C...\\n\",
       \"3  DB00104  C[C@@H](O)[C@@H](CO)NC(=O)[C@@H]1CSSC[C@H](NC(...\\n\",
       \"4  DB00114                    CC1=NC=C(COP(O)(O)=O)C(C=O)=C1O\"
      ]""" ;
                                                                                                                 
                                                                                                                 prov:qualifiedGeneration opredict:Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell01_Execution_1546300862 .



###  http://purl.org/plex/Instances/OpenPREDICT#WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell02_Execution_1546300862

opredict:WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell02_Execution_1546300862 rdf:type opmw:WorkflowExecutionArtifact ,
                                                                                                                          owl:NamedIndividual ;
                                                                                                                 
                                                                                                                 dc:description """\"text\": [
      \"579 drugs have all Target feature \\n\",
      \"579 drugs have all Target GOA feature \\n\",
      \"583 drugs have all Fingerprint feature \\n\",
      \"524 drugs have all Sideeffect feature \\n\"
     ]""" ;
                                                                                                                 
                                                                                                                 prov:qualifiedGeneration opredict:Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell02_Execution_1546300862 .



###  http://purl.org/plex/Instances/OpenPREDICT#WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell03_Execution_1546300862

opredict:WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell03_Execution_1546300862 rdf:type opmw:WorkflowExecutionArtifact ,
                                                                                                                          owl:NamedIndividual ;
                                                                                                                 
                                                                                                                 dc:description """\"text\": [
      \"579 drugs have all Target SEQ feature \\n\"
     ]""" ;
                                                                                                                 
                                                                                                                 prov:qualifiedGeneration opredict:Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell03_Execution_1546300862 .



###  http://purl.org/plex/Instances/OpenPREDICT#WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell04_Execution_1546300862

opredict:WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell04_Execution_1546300862 rdf:type opmw:WorkflowExecutionArtifact ,
                                                                                                                          owl:NamedIndividual ;
                                                                                                                 
                                                                                                                 dc:description """\"text\": [
      \"579 579 583 524\\n\",
      \"510\\n\"
     ]""" ;
                                                                                                                 
                                                                                                                 prov:qualifiedGeneration opredict:Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell04_Execution_1546300862 .



###  http://purl.org/plex/Instances/OpenPREDICT#WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell05_Execution_1546300862

opredict:WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell05_Execution_1546300862 rdf:type opmw:WorkflowExecutionArtifact ,
                                                                                                                          owl:NamedIndividual ;
                                                                                                                 
                                                                                                                 dc:description """\"text/html\": [
       \"<div>\\n\",
       \"<style scoped>\\n\",
       \"    .dataframe tbody tr th:only-of-type {\\n\",
       \"        vertical-align: middle;\\n\",
       \"    }\\n\",
       \"\\n\",
       \"    .dataframe tbody tr th {\\n\",
       \"        vertical-align: top;\\n\",
       \"    }\\n\",
       \"\\n\",
       \"    .dataframe thead th {\\n\",
       \"        text-align: right;\\n\",
       \"    }\\n\",
       \"</style>\\n\",
       \"<table border=\\\"1\\\" class=\\\"dataframe\\\">\\n\",
       \"  <thead>\\n\",
       \"    <tr style=\\\"text-align: right;\\\">\\n\",
       \"      <th></th>\\n\",
       \"      <th>drugid</th>\\n\",
       \"      <th>umlsid</th>\\n\",
       \"    </tr>\\n\",
       \"  </thead>\\n\",
       \"  <tbody>\\n\",
       \"    <tr>\\n\",
       \"      <th>0</th>\\n\",
       \"      <td>DB00583</td>\\n\",
       \"      <td>C0000729</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>1</th>\\n\",
       \"      <td>DB00583</td>\\n\",
       \"      <td>C0000737</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>2</th>\\n\",
       \"      <td>DB00583</td>\\n\",
       \"      <td>C0002418</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>3</th>\\n\",
       \"      <td>DB00583</td>\\n\",
       \"      <td>C0002871</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>4</th>\\n\",
       \"      <td>DB00583</td>\\n\",
       \"      <td>C0003123</td>\\n\",
       \"    </tr>\\n\",
       \"  </tbody>\\n\",
       \"</table>\\n\",
       \"</div>\"
      ],
      \"text/plain\": [
       \"    drugid    umlsid\\n\",
       \"0  DB00583  C0000729\\n\",
       \"1  DB00583  C0000737\\n\",
       \"2  DB00583  C0002418\\n\",
       \"3  DB00583  C0002871\\n\",
       \"4  DB00583  C0003123\"
      ]""" ;
                                                                                                                 
                                                                                                                 prov:qualifiedGeneration opredict:Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell05_Execution_1546300862 .



###  http://purl.org/plex/Instances/OpenPREDICT#WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell08_Execution_1546300862

opredict:WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell08_Execution_1546300862 rdf:type opmw:WorkflowExecutionArtifact ,
                                                                                                                          owl:NamedIndividual ;
                                                                                                                 
                                                                                                                 dc:description """\"text/html\": [
       \"<div>\\n\",
       \"<style scoped>\\n\",
       \"    .dataframe tbody tr th:only-of-type {\\n\",
       \"        vertical-align: middle;\\n\",
       \"    }\\n\",
       \"\\n\",
       \"    .dataframe tbody tr th {\\n\",
       \"        vertical-align: top;\\n\",
       \"    }\\n\",
       \"\\n\",
       \"    .dataframe thead th {\\n\",
       \"        text-align: right;\\n\",
       \"    }\\n\",
       \"</style>\\n\",
       \"<table border=\\\"1\\\" class=\\\"dataframe\\\">\\n\",
       \"  <thead>\\n\",
       \"    <tr style=\\\"text-align: right;\\\">\\n\",
       \"      <th></th>\\n\",
       \"      <th>Drug1</th>\\n\",
       \"      <th>Drug2</th>\\n\",
       \"      <th>SE-SIM</th>\\n\",
       \"    </tr>\\n\",
       \"  </thead>\\n\",
       \"  <tbody>\\n\",
       \"    <tr>\\n\",
       \"      <th>0</th>\\n\",
       \"      <td>DB00882</td>\\n\",
       \"      <td>DB00366</td>\\n\",
       \"      <td>0.085502</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>1</th>\\n\",
       \"      <td>DB00882</td>\\n\",
       \"      <td>DB01029</td>\\n\",
       \"      <td>0.131285</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>2</th>\\n\",
       \"      <td>DB00882</td>\\n\",
       \"      <td>DB01217</td>\\n\",
       \"      <td>0.145215</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>3</th>\\n\",
       \"      <td>DB00882</td>\\n\",
       \"      <td>DB00304</td>\\n\",
       \"      <td>0.074890</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>4</th>\\n\",
       \"      <td>DB00882</td>\\n\",
       \"      <td>DB01400</td>\\n\",
       \"      <td>0.076000</td>\\n\",
       \"    </tr>\\n\",
       \"  </tbody>\\n\",
       \"</table>\\n\",
       \"</div>\"
      ],
      \"text/plain\": [
       \"     Drug1    Drug2    SE-SIM\\n\",
       \"0  DB00882  DB00366  0.085502\\n\",
       \"1  DB00882  DB01029  0.131285\\n\",
       \"2  DB00882  DB01217  0.145215\\n\",
       \"3  DB00882  DB00304  0.074890\\n\",
       \"4  DB00882  DB01400  0.076000\"
      ]""" ;
                                                                                                                 
                                                                                                                 prov:qualifiedGeneration opredict:Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell08_Execution_1546300862 .



###  http://purl.org/plex/Instances/OpenPREDICT#WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell10_Execution_1546300862

opredict:WorkflowExecutionArtifact_Output_Step_Feature_generation_01_Pipeline_Source_Cell10_Execution_1546300862 rdf:type opmw:WorkflowExecutionArtifact ,
                                                                                                                          owl:NamedIndividual ;
                                                                                                                 
                                                                                                                 dc:description """\"text/html\": [
       \"<div>\\n\",
       \"<style scoped>\\n\",
       \"    .dataframe tbody tr th:only-of-type {\\n\",
       \"        vertical-align: middle;\\n\",
       \"    }\\n\",
       \"\\n\",
       \"    .dataframe tbody tr th {\\n\",
       \"        vertical-align: top;\\n\",
       \"    }\\n\",
       \"\\n\",
       \"    .dataframe thead th {\\n\",
       \"        text-align: right;\\n\",
       \"    }\\n\",
       \"</style>\\n\",
       \"<table border=\\\"1\\\" class=\\\"dataframe\\\">\\n\",
       \"  <thead>\\n\",
       \"    <tr style=\\\"text-align: right;\\\">\\n\",
       \"      <th></th>\\n\",
       \"      <th>Drug1</th>\\n\",
       \"      <th>Drug2</th>\\n\",
       \"      <th>PPI-SIM</th>\\n\",
       \"    </tr>\\n\",
       \"  </thead>\\n\",
       \"  <tbody>\\n\",
       \"    <tr>\\n\",
       \"      <th>0</th>\\n\",
       \"      <td>DB00882</td>\\n\",
       \"      <td>DB00366</td>\\n\",
       \"      <td>0.044808</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>1</th>\\n\",
       \"      <td>DB00882</td>\\n\",
       \"      <td>DB01029</td>\\n\",
       \"      <td>0.121802</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>2</th>\\n\",
       \"      <td>DB00882</td>\\n\",
       \"      <td>DB01217</td>\\n\",
       \"      <td>0.121802</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>3</th>\\n\",
       \"      <td>DB00882</td>\\n\",
       \"      <td>DB00304</td>\\n\",
       \"      <td>0.331091</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>4</th>\\n\",
       \"      <td>DB00882</td>\\n\",
       \"      <td>DB01400</td>\\n\",
       \"      <td>0.044808</td>\\n\",
       \"    </tr>\\n\",
       \"  </tbody>\\n\",
       \"</table>\\n\",
       \"</div>\"
      ],
      \"text/plain\": [
       \"     Drug1    Drug2   PPI-SIM\\n\",
       \"0  DB00882  DB00366  0.044808\\n\",
       \"1  DB00882  DB01029  0.121802\\n\",
       \"2  DB00882  DB01217  0.121802\\n\",
       \"3  DB00882  DB00304  0.331091\\n\",
       \"4  DB00882  DB01400  0.044808\"
      ]""" ;
                                                                                                                 
                                                                                                                 prov:qualifiedGeneration opredict:Generation_Output_Step_Feature_generation_01_Pipeline_Source_Cell10_Execution_1546300862 .



###  http://purl.org/plex/Instances/OpenPREDICT#WorkflowExecutionArtifact_Output_Step_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_FeatureGeneration_Execution_1546335555

opredict:WorkflowExecutionArtifact_Output_Step_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_FeatureGeneration_Execution_1546335555 rdf:type opmw:WorkflowExecutionArtifact ,
                                                                                                                                                 owl:NamedIndividual ;
                                                                                                                                        
                                                                                                                                        dc:description """\"text/html\": [
       \"<div>\\n\",
       \"<style scoped>\\n\",
       \"    .dataframe tbody tr th:only-of-type {\\n\",
       \"        vertical-align: middle;\\n\",
       \"    }\\n\",
       \"\\n\",
       \"    .dataframe tbody tr th {\\n\",
       \"        vertical-align: top;\\n\",
       \"    }\\n\",
       \"\\n\",
       \"    .dataframe thead th {\\n\",
       \"        text-align: right;\\n\",
       \"    }\\n\",
       \"</style>\\n\",
       \"<table border=\\\"1\\\" class=\\\"dataframe\\\">\\n\",
       \"  <thead>\\n\",
       \"    <tr style=\\\"text-align: right;\\\">\\n\",
       \"      <th></th>\\n\",
       \"      <th>drugid</th>\\n\",
       \"      <th>smiles</th>\\n\",
       \"    </tr>\\n\",
       \"  </thead>\\n\",
       \"  <tbody>\\n\",
       \"    <tr>\\n\",
       \"      <th>0</th>\\n\",
       \"      <td>DB00014</td>\\n\",
       \"      <td>CC(C)C[C@H](NC(=O)[C@@H](COC(C)(C)C)NC(=O)[C@H...</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>1</th>\\n\",
       \"      <td>DB00035</td>\\n\",
       \"      <td>NC(=O)CC[C@@H]1NC(=O)[C@H](CC2=CC=CC=C2)NC(=O)...</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>2</th>\\n\",
       \"      <td>DB00091</td>\\n\",
       \"      <td>CCC1NC(=O)C(C(O)C(C)CC=CC)N(C)C(=O)C(C(C)C)N(C...</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>3</th>\\n\",
       \"      <td>DB00104</td>\\n\",
       \"      <td>C[C@@H](O)[C@@H](CO)NC(=O)[C@@H]1CSSC[C@H](NC(...</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>4</th>\\n\",
       \"      <td>DB00114</td>\\n\",
       \"      <td>CC1=NC=C(COP(O)(O)=O)C(C=O)=C1O</td>\\n\",
       \"    </tr>\\n\",
       \"  </tbody>\\n\",
       \"</table>\\n\",
       \"</div>\"
      ],
      \"text/plain\": [
       \"    drugid                                             smiles\\n\",
       \"0  DB00014  CC(C)C[C@H](NC(=O)[C@@H](COC(C)(C)C)NC(=O)[C@H...\\n\",
       \"1  DB00035  NC(=O)CC[C@@H]1NC(=O)[C@H](CC2=CC=CC=C2)NC(=O)...\\n\",
       \"2  DB00091  CCC1NC(=O)C(C(O)C(C)CC=CC)N(C)C(=O)C(C(C)C)N(C...\\n\",
       \"3  DB00104  C[C@@H](O)[C@@H](CO)NC(=O)[C@@H]1CSSC[C@H](NC(...\\n\",
       \"4  DB00114                    CC1=NC=C(COP(O)(O)=O)C(C=O)=C1O\"
      ]""" ;
                                                                                                                                        
                                                                                                                                        prov:qualifiedGeneration opredict:Generation_Output_Step_Feature_generation_Pipeline_OpenPREDICT_ipynb_v02_FeatureGeneration_Execution_1546335555 .



###  http://purl.org/plex/Instances/OpenPREDICT#WorkflowExecutionArtifact_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell01_Execution_1546302862

opredict:WorkflowExecutionArtifact_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell01_Execution_1546302862 rdf:type opmw:WorkflowExecutionArtifact ,
                                                                                                                                                           owl:NamedIndividual ;
                                                                                                                                                  
                                                                                                                                                  dc:description """\"text/html\": [
       \"<div>\\n\",
       \"<style scoped>\\n\",
       \"    .dataframe tbody tr th:only-of-type {\\n\",
       \"        vertical-align: middle;\\n\",
       \"    }\\n\",
       \"\\n\",
       \"    .dataframe tbody tr th {\\n\",
       \"        vertical-align: top;\\n\",
       \"    }\\n\",
       \"\\n\",
       \"    .dataframe thead th {\\n\",
       \"        text-align: right;\\n\",
       \"    }\\n\",
       \"</style>\\n\",
       \"<table border=\\\"1\\\" class=\\\"dataframe\\\">\\n\",
       \"  <thead>\\n\",
       \"    <tr style=\\\"text-align: right;\\\">\\n\",
       \"      <th></th>\\n\",
       \"      <th>Drug</th>\\n\",
       \"      <th>Disease</th>\\n\",
       \"    </tr>\\n\",
       \"  </thead>\\n\",
       \"  <tbody>\\n\",
       \"    <tr>\\n\",
       \"      <th>0</th>\\n\",
       \"      <td>DB00659</td>\\n\",
       \"      <td>103780</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>1</th>\\n\",
       \"      <td>DB00284</td>\\n\",
       \"      <td>125853</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>2</th>\\n\",
       \"      <td>DB00284</td>\\n\",
       \"      <td>125850</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>3</th>\\n\",
       \"      <td>DB00284</td>\\n\",
       \"      <td>125851</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>4</th>\\n\",
       \"      <td>DB00284</td>\\n\",
       \"      <td>600496</td>\\n\",
       \"    </tr>\\n\",
       \"  </tbody>\\n\",
       \"</table>\\n\",
       \"</div>\"
      ],
      \"text/plain\": [
       \"      Drug Disease\\n\",
       \"0  DB00659  103780\\n\",
       \"1  DB00284  125853\\n\",
       \"2  DB00284  125850\\n\",
       \"3  DB00284  125851\\n\",
       \"4  DB00284  600496\"
      ]""" ;
                                                                                                                                                  
                                                                                                                                                  prov:qualifiedGeneration opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell01_Execution_1546302862 .



###  http://purl.org/plex/Instances/OpenPREDICT#WorkflowExecutionArtifact_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell05_Execution_1546302862

opredict:WorkflowExecutionArtifact_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell05_Execution_1546302862 rdf:type opmw:WorkflowExecutionArtifact ,
                                                                                                                                                           owl:NamedIndividual ;
                                                                                                                                                  
                                                                                                                                                  dc:description """\"text/plain\": [
       \"(4123, 1031)\"
      ]""" ;
                                                                                                                                                  
                                                                                                                                                  prov:qualifiedGeneration opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell05_Execution_1546302862 .



###  http://purl.org/plex/Instances/OpenPREDICT#WorkflowExecutionArtifact_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell08_Execution_1546302862

opredict:WorkflowExecutionArtifact_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell08_Execution_1546302862 rdf:type opmw:WorkflowExecutionArtifact ,
                                                                                                                                                           owl:NamedIndividual ;
                                                                                                                                                  
                                                                                                                                                  dc:description """\"text\": [
      \"Test: {'f1': 0.760655737704918, 'average_precision': 0.8566906000076772, 'accuracy': 0.8583899127061105, 'recall': 0.6744186046511628, 'roc_auc': 0.8802152093700281, 'precision': 0.8721804511278195}\\n\"
     ]""" ;
                                                                                                                                                  
                                                                                                                                                  prov:qualifiedGeneration opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell08_Execution_1546302862 .



###  http://purl.org/plex/Instances/OpenPREDICT#WorkflowExecutionArtifact_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell09_Execution_1546302862

opredict:WorkflowExecutionArtifact_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell09_Execution_1546302862 rdf:type opmw:WorkflowExecutionArtifact ,
                                                                                                                                                           owl:NamedIndividual ;
                                                                                                                                                  
                                                                                                                                                  dc:description """text/plain\": [
       \"accuracy             0.833336\\n\",
       \"average_precision    0.810000\\n\",
       \"f1                   0.685671\\n\",
       \"precision            0.918820\\n\",
       \"recall               0.549804\\n\",
       \"roc_auc              0.836133\\n\",
       \"dtype: float64\"
      ]""" ;
                                                                                                                                                  
                                                                                                                                                  prov:qualifiedGeneration opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML.ipynb_Cell09_Execution_1546302862 .



###  http://purl.org/plex/Instances/OpenPREDICT#WorkflowExecutionArtifact_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555

opredict:WorkflowExecutionArtifact_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 rdf:type opmw:WorkflowExecutionArtifact ,
                                                                                                                                                        owl:NamedIndividual ;
                                                                                                                                               
                                                                                                                                               dc:description """\"text/html\": [
       \"<div>\\n\",
       \"<style scoped>\\n\",
       \"    .dataframe tbody tr th:only-of-type {\\n\",
       \"        vertical-align: middle;\\n\",
       \"    }\\n\",
       \"\\n\",
       \"    .dataframe tbody tr th {\\n\",
       \"        vertical-align: top;\\n\",
       \"    }\\n\",
       \"\\n\",
       \"    .dataframe thead th {\\n\",
       \"        text-align: right;\\n\",
       \"    }\\n\",
       \"</style>\\n\",
       \"<table border=\\\"1\\\" class=\\\"dataframe\\\">\\n\",
       \"  <thead>\\n\",
       \"    <tr style=\\\"text-align: right;\\\">\\n\",
       \"      <th></th>\\n\",
       \"      <th>Drug</th>\\n\",
       \"      <th>Disease</th>\\n\",
       \"    </tr>\\n\",
       \"  </thead>\\n\",
       \"  <tbody>\\n\",
       \"    <tr>\\n\",
       \"      <th>0</th>\\n\",
       \"      <td>DB01148</td>\\n\",
       \"      <td>231200</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>1</th>\\n\",
       \"      <td>DB01148</td>\\n\",
       \"      <td>155100</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>2</th>\\n\",
       \"      <td>DB01148</td>\\n\",
       \"      <td>273800</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>3</th>\\n\",
       \"      <td>DB00575</td>\\n\",
       \"      <td>607554</td>\\n\",
       \"    </tr>\\n\",
       \"    <tr>\\n\",
       \"      <th>4</th>\\n\",
       \"      <td>DB00575</td>\\n\",
       \"      <td>171300</td>\\n\",
       \"    </tr>\\n\",
       \"  </tbody>\\n\",
       \"</table>\\n\",
       \"</div>\"
      ],
      \"text/plain\": [
       \"      Drug Disease\\n\",
       \"0  DB01148  231200\\n\",
       \"1  DB01148  155100\\n\",
       \"2  DB01148  273800\\n\",
       \"3  DB00575  607554\\n\",
       \"4  DB00575  171300\"
      ]""" ;
                                                                                                                                               
                                                                                                                                               prov:qualifiedGeneration opredict:Generation_Output_Step_Model_preparation_train_and_evaluation_Workflow_OpenPREDCIT_-_ML_ipynb_v02_Execution_1546335555 .





#################################################################
#
#    Annotations
#
#################################################################


dc:publisher rdfs:seeAlso "http://purl.org/dc/elements/1.1/publisher" .




###  Generated by the OWL API (version 3.4.2) http://owlapi.sourceforge.net

